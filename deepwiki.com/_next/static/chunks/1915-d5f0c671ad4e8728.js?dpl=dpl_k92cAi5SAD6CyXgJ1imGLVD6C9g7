"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1915],{3914:(e,t,r)=>{r.d(t,{w:()=>i});var a=r(95155),s=r(12115),n=r(7050),l=r(14647);function i(e){let{className:t}=e,[r,i]=(0,s.useState)(!1),d=async()=>{let e=location.pathname+location.search+location.hash;e="deepwiki.org"===window.location.hostname?"https://deepwiki.com"+e:"staging.deepwiki.org"===window.location.hostname?"https://staging.deepwiki.com"+e:window.location.origin+e;let t={title:document.title,text:"Check out this DeepWiki page",url:e};try{var r;navigator.canShare&&navigator.canShare(t)&&(r=navigator.userAgent,/Android|iOS|iPhone|iPad|iPod/i.test(r))?await navigator.share(t):((0,l.l)(e),i(!0),setTimeout(()=>{i(!1)},2e3))}catch(t){console.error("Error sharing:",t),(0,l.l)(e),i(!0),setTimeout(()=>{i(!1)},2e3)}};return(0,a.jsx)("button",{onClick:d,className:(0,n.cn)("border-border hover:border-border-hover bg-surface hover:border-border-hover hover:bg-component ml-auto flex cursor-pointer items-center gap-1.5 rounded-md border px-3 py-1.5 text-sm font-medium text-white transition-all",t),"aria-label":"Share",children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Link Copied"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Share"})]})})}function c(e){let{className:t}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[(0,a.jsx)("circle",{cx:"18",cy:"5",r:"3"}),(0,a.jsx)("circle",{cx:"6",cy:"12",r:"3"}),(0,a.jsx)("circle",{cx:"18",cy:"19",r:"3"}),(0,a.jsx)("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),(0,a.jsx)("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"})]})}function o(e){let{className:t}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:(0,a.jsx)("polyline",{points:"20 6 9 17 4 12"})})}},14647:(e,t,r)=>{r.d(t,{l:()=>a});function a(e){if(navigator.clipboard)navigator.clipboard.writeText(e).catch(e=>{console.error("Could not copy text: ",e)});else{let t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select();try{document.execCommand("copy")}catch(e){console.error("Could not copy text: ",e)}document.body.removeChild(t)}}},27172:(e,t,r)=>{r.d(t,{B:()=>y});var a=r(95155),s=r(29205),n=r(46986),l=r(539),i=r(40809),c=r(19783),o=r(13353),d=r(95243),u=r(35695),h=r(12115),m=r(7050);let x=navigator.platform.toLowerCase().includes("mac");var p=r(52181),g=r(51751);let f=e=>{let{id:t,checked:r,onCheckedChange:s,className:n="",thumbClassname:l=""}=e;return(0,a.jsxs)("div",{id:t,className:"relative inline-flex h-6 w-11 items-center rounded-full ".concat(n),onClick:()=>s(!r),children:[(0,a.jsx)(g.P.div,{className:"absolute bottom-0 top-0 my-auto h-5 w-5 rounded-full bg-white shadow-md ".concat(l),animate:{x:18*!!r},transition:{type:"spring",stiffness:300,damping:20}}),(0,a.jsx)("div",{className:"h-full w-full rounded-full transition-colors duration-200 ease-in-out ".concat(r?"bg-[#ef9541]/80 dark:bg-[#ef9541]/80":"bg-[#d5d5d5] dark:bg-[#535353]")})]})},v=()=>(0,a.jsx)("div",{className:"animate-spin",children:(0,a.jsxs)("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})});function y(e){let{onSubmit:t,prompt:r,setPrompt:g,disabled:y,placeholder:b,className:w,disableOptions:j={},showRows:k=2,onCmdSubmit:N,focusSignal:C,onKeyDown:_,onSelectionChange:q,isDeep:D=!1,setInputOpen:E,attachments:S=[],setAttachments:L,condensed:z=!1,selectedRepoNames:A}=e,[H,M]=(0,o.fp)(p.OV),I=(0,h.useRef)(null);(0,h.useEffect)(()=>{if(void 0!==C){var e;null==(e=I.current)||e.focus()}},[C]);let[F,K]=(0,h.useState)(D||!1),T=(0,u.useSearchParams)(),W=T.get("prompt"),P=T.get("mode"),[Q,U]=(0,h.useState)(!1);(0,h.useEffect)(()=>{W&&"/search"===window.location.pathname&&(g(W),"deep"===P&&K(!0))},[W,P]);let B=y||!r.trim()||r.length>5e4;(0,h.useEffect)(()=>{!W||r!==W||B||Q||(t(A,F),U(!0))},[W,r,B,t,A,F,Q,P,S]);let O=()=>{B||t(A,F)},R=()=>{B||(N?null==N||N(A,F):t(A,F))};(0,h.useEffect)(()=>{I.current&&I.current.focus()},[]);let V=!j.deep;return(0,a.jsxs)(d.P.form,{onSubmit:e=>{e.preventDefault(),O()},className:(0,m.cn)("z-20 w-full rounded-md bg-[#181818] ring-[0.5px] ring-[#353535] backdrop-blur-md transition-shadow [pointer-events:all] focus-within:ring-neutral-700",w),children:[E&&(0,a.jsx)("div",{className:"flex w-full items-center justify-center py-0.5",children:(0,a.jsxs)(c.bL,{delayDuration:50,children:[(0,a.jsx)(c.l9,{asChild:!0,children:(0,a.jsx)("button",{onClick:()=>null==E?void 0:E(!1),children:(0,a.jsx)(s.a,{size:16})})}),(0,a.jsx)(c.UC,{side:"top",align:"center",children:(0,a.jsxs)("span",{className:"flex items-center gap-0 rounded-sm border border-neutral-600 bg-neutral-900 p-1 text-xs",children:["Show/Hide Input (",x?(0,a.jsx)(n.u,{}):"Ctrl+","I)"]})})]})}),(0,a.jsx)("div",{className:"",children:(0,a.jsxs)("div",{className:"relative text-base font-normal",children:[H&&(0,a.jsxs)("div",{className:"flex items-start justify-between rounded-t-[6px] bg-white px-3 py-2 dark:bg-[#3a3a45]",children:[(0,a.jsxs)("span",{className:"line-clamp-2 text-sm !text-neutral-800 dark:!text-neutral-300",children:["...",H,"..."]}),(0,a.jsx)("button",{onClick:()=>M(null),className:"mt-0.5 cursor-pointer rounded-full bg-white p-0.5 text-black",children:(0,a.jsx)(l.X,{size:10,weight:"bold"})})]}),S.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 px-3 pt-2",children:S.map(e=>e.file.type.startsWith("image/")?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:e.localUrl||e.url,alt:e.file.name,className:"h-32 w-32 rounded-sm bg-neutral-800 object-contain",onError:e=>{e.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%238F8F8F'%3E%3Cpath d='M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z'/%3E%3C/svg%3E"}}),(0,a.jsx)("button",{onClick:()=>L&&L(t=>t.filter(t=>t.file!==e.file)),className:"absolute -right-1 -top-1 rounded-full bg-neutral-700 p-0.5 text-neutral-400 hover:bg-neutral-600",children:(0,a.jsx)(l.X,{size:12})})]},e.file.name):null)}),(0,a.jsxs)("div",{className:"relative px-3 pt-3",children:[!r&&(0,a.jsx)("div",{className:(0,m.cn)("pointer-events-none absolute left-3 right-3 top-3 ml-px flex w-full overflow-hidden text-[#8F8F8F]",z?"text-sm":"text-base"),"aria-hidden":"true",children:b}),(0,a.jsx)("textarea",{placeholder:"",rows:k,value:r,onChange:e=>{g(e.target.value),e.target.style.height="auto",e.target.style.height=Math.min(e.target.scrollHeight,150)+"px"},onKeyDown:e=>{_&&_(e)||"Enter"!==e.key||e.shiftKey||e.nativeEvent.isComposing||(e.preventDefault(),e.metaKey||e.ctrlKey?R():O())},onSelect:e=>{let t=e.target;null==q||q(t.selectionStart,t.selectionEnd)},ref:I,className:(0,m.cn)("w-full resize-none rounded-none bg-transparent text-white focus:outline-none",z?"text-sm":"text-base")})]}),r.length>4e4&&(0,a.jsxs)("div",{className:"mt-1 text-right text-xs ".concat(r.length>5e4?"text-red-500":"text-neutral-400"),children:[r.length," / ",5e4," characters",r.length>5e4&&(0,a.jsx)("span",{className:"ml-1",children:"- Character limit exceeded"})]})]})}),(0,a.jsxs)("div",{className:(0,m.cn)("flex h-12 items-center justify-between border-t-[0.5px] border-t-[#8f8f8f] dark:border-t-[#353535]",z?"p-2":"p-3"),children:[(0,a.jsx)("div",{className:(0,m.cn)("flex items-center gap-4 text-sm ",z?"gap-3":"gap-4"),children:V&&(0,a.jsx)("div",{className:"flex items-center gap-1 sm:gap-2",children:(0,a.jsxs)("div",{className:"flex gap-2 sm:items-center",children:[(0,a.jsx)("label",{htmlFor:"useDeep",className:(0,m.cn)("text-text-dark dark:text-text-light flex cursor-text items-center gap-1",z?"text-xs":"text-sm"),children:"Deep Research"}),(0,a.jsx)(f,{id:"useDeep",checked:F,onCheckedChange:K,thumbClassname:"data-[state=unchecked]:bg-[#535353] data-[state=checked]:bg-[#ef9541]/80 cursor-pointer",className:"cursor-pointer border-[1px] border-[#b0b0b0] p-[1px] shadow-none dark:border-[#535353] dark:data-[state=checked]:bg-[#ef9541]/30 dark:data-[state=unchecked]:bg-[#181818]"})]})})}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("button",{className:(0,m.cn)("rounded-full bg-[#e0e0e0] p-1 text-neutral-400 transition-colors dark:bg-neutral-700",!B&&!y&&"cursor-pointer bg-neutral-600 !text-white dark:bg-white dark:!text-black"),disabled:B||y,children:y?(0,a.jsx)(v,{}):(0,a.jsx)(i.Q,{size:18})})})]})]})}},53508:(e,t,r)=>{r.d(t,{CodebaseWikiHeader:()=>x});var a=r(95155),s=r(7805),n=r(6874),l=r.n(n),i=r(73958),c=r(69365),o=r(12115),d=r(9506);function u(){let{resolvedTheme:e,setTheme:t}=(0,d.D)(),[r,s]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{s(!0)},[]),r)?(0,a.jsx)("button",{onClick:()=>t("dark"===e?"light":"dark"),className:"hover:bg-surface-hover flex h-8 w-8 cursor-pointer items-center justify-center rounded-md transition-colors","aria-label":"Switch to ".concat("dark"===e?"light":"dark"," mode"),children:"dark"===e?(0,a.jsx)(i.b,{weight:"fill",className:"h-5 w-5 text-gray-300"}):(0,a.jsx)(c.A,{weight:"fill",className:"h-5 w-5 text-gray-700"})}):(0,a.jsx)("div",{className:"h-8 w-8"})}var h=r(63858),m=r(3914);function x(e){let{children:t,hideOnSm:r=!1}=e;return(0,a.jsxs)("div",{className:"bg-main border-b-border sticky top-0 z-30 border-b border-dashed",children:[(0,a.jsxs)("div",{className:"font-geist-mono relative flex h-8 items-center justify-center text-xs font-medium text-white sm:hidden",children:[(0,a.jsx)("div",{className:"powered-by-devin-gradient absolute inset-0 z-[-1] h-8 w-full"}),(0,a.jsxs)(l(),{href:"https://devin.ai",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:[(0,a.jsx)(h.Y,{className:"size-3"}),"Try DeepWiki for private repos in Devin"]})]}),(0,a.jsx)("div",{className:"container-wrapper",children:(0,a.jsxs)("div",{className:"container mx-auto flex w-full flex-row items-center gap-2 py-4 md:py-6",children:[(0,a.jsx)(l(),{href:"https://deepwiki.com",className:"flex items-center gap-3",children:(0,a.jsx)("span",{className:(0,s.A)("text-base font-medium leading-none text-white md:text-lg",r&&"hidden sm:block"),children:"DeepWiki"})}),(0,a.jsx)("div",{className:"flex-1",children:t}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("a",{href:"https://devin.ai",target:"_blank",rel:"noopener noreferrer",className:"group hidden items-center gap-1.5 md:flex",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"text-xs font-light text-white/70 transition-colors group-hover:text-white",children:"Try DeepWiki for private repos in"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 h-[1px] w-0 bg-black/30 transition-all duration-300 group-hover:w-full dark:bg-white/30"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 transition-transform duration-300 group-hover:translate-x-0.5",children:[(0,a.jsx)(h.Y,{className:"size-4 transform transition-transform duration-700 group-hover:rotate-180",animate:!1,paletteType:"cool"}),(0,a.jsx)("span",{className:"text-sm font-medium text-white",children:"Devin"})]})]}),(0,a.jsx)(m.w,{}),(0,a.jsx)(u,{})]})]})})]})}},63858:(e,t,r)=>{r.d(t,{Y:()=>o});var a=r(95155),s=r(7805),n=r(7050);let l={primary:"#cbcbcb",secondary:"#cbcbcb",tertiary:"#cbcbcb"},i={primary:"#3969ca",secondary:"#21c19a",tertiary:"#0294de"},c={primary:"#d35400",secondary:"#e67e22",tertiary:"#f39c12"};function o(e){let{className:t,animate:r=!0,paletteType:o="cool"}=e,d="cool"===o?i:"warm"===o?c:l;return(0,a.jsxs)("svg",{className:(0,n.cn)(t,"[&_path]:stroke-0",r&&"[&_path]:animate-[custom-pulse_1.8s_infinite_var(--delay,0s)]"),xmlns:"http://www.w3.org/2000/svg",viewBox:"110 110 460 500",children:[(0,a.jsx)("path",{style:{fill:d.secondary},className:(0,s.A)(r&&"[--delay:0.6s]"),d:"M418.73,332.37c9.84-5.68,22.07-5.68,31.91,0l25.49,14.71c.82.48,1.69.8,2.58,1.06.19.06.37.11.55.16.87.21,1.76.34,2.65.35.04,0,.08.02.13.02.1,0,.19-.03.29-.04.83-.02,1.64-.13,2.45-.32.14-.03.28-.05.42-.09.87-.24,1.7-.59,2.5-1.03.08-.04.17-.06.25-.1l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22l-50.97-29.43c-3.65-2.11-8.15-2.11-11.81,0l-50.97,29.43c-.08.04-.13.11-.2.16-.78.48-1.51,1.02-2.15,1.66-.1.1-.18.21-.28.31-.57.6-1.08,1.26-1.51,1.97-.07.12-.15.22-.22.34-.44.77-.77,1.6-1.03,2.47-.05.19-.1.37-.14.56-.22.89-.37,1.81-.37,2.76v29.43c0,11.36-6.11,21.95-15.95,27.63-9.84,5.68-22.06,5.68-31.91,0l-25.49-14.71c-.82-.48-1.69-.8-2.57-1.06-.19-.06-.37-.11-.56-.16-.88-.21-1.76-.34-2.65-.34-.13,0-.26.02-.4.02-.84.02-1.66.13-2.47.32-.13.03-.27.05-.4.09-.87.24-1.71.6-2.51,1.04-.08.04-.16.06-.24.1l-50.97,29.43c-3.65,2.11-5.9,6.01-5.9,10.22v58.86c0,4.22,2.25,8.11,5.9,10.22l50.97,29.43c.08.04.17.06.24.1.8.44,1.64.79,2.5,1.03.14.04.28.06.42.09.81.19,1.62.3,2.45.32.1,0,.19.04.29.04.04,0,.08-.02.13-.02.89,0,1.77-.13,2.65-.35.19-.04.37-.1.56-.16.88-.26,1.75-.59,2.58-1.06l25.49-14.71c9.84-5.68,22.06-5.68,31.91,0,9.84,5.68,15.95,16.27,15.95,27.63v29.43c0,.95.15,1.87.37,2.76.05.19.09.37.14.56.25.86.59,1.69,1.03,2.47.07.12.15.22.22.34.43.71.94,1.37,1.51,1.97.1.1.18.21.28.31.65.63,1.37,1.18,2.15,1.66.07.04.13.11.2.16l50.97,29.43c1.83,1.05,3.86,1.58,5.9,1.58s4.08-.53,5.9-1.58l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22l-50.97-29.43c-.08-.04-.16-.06-.24-.1-.8-.44-1.64-.8-2.51-1.04-.13-.04-.26-.05-.39-.09-.82-.2-1.65-.31-2.49-.33-.13,0-.25-.02-.38-.02-.89,0-1.78.13-2.66.35-.18.04-.36.1-.54.15-.88.26-1.75.59-2.58,1.07l-25.49,14.72c-9.84,5.68-22.07,5.68-31.9,0-9.84-5.68-15.95-16.27-15.95-27.63s6.11-21.95,15.95-27.63Z"}),(0,a.jsx)("path",{style:{fill:d.primary},d:"M141.09,317.65l50.97,29.43c1.83,1.05,3.86,1.58,5.9,1.58s4.08-.53,5.9-1.58l50.97-29.43c.08-.04.13-.11.2-.16.78-.48,1.51-1.02,2.15-1.66.1-.1.18-.21.28-.31.57-.6,1.08-1.26,1.51-1.97.07-.12.15-.22.22-.34.44-.77.77-1.6,1.03-2.47.05-.19.1-.37.14-.56.22-.89.37-1.81.37-2.76v-29.43c0-11.36,6.11-21.95,15.96-27.63s22.06-5.68,31.91,0l25.49,14.71c.82.48,1.69.8,2.57,1.06.19.06.37.11.56.16.87.21,1.76.34,2.64.35.04,0,.09.02.13.02.1,0,.19-.04.29-.04.83-.02,1.65-.13,2.45-.32.14-.03.28-.05.41-.09.87-.24,1.71-.6,2.51-1.04.08-.04.16-.06.24-.1l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22l-50.97-29.43c-3.65-2.11-8.15-2.11-11.81,0l-50.97,29.43c-.08.04-.13.11-.2.16-.78.48-1.51,1.02-2.15,1.66-.1.1-.18.21-.28.31-.57.6-1.08,1.26-1.51,1.97-.07.12-.15.22-.22.34-.44.77-.77,1.6-1.03,2.47-.05.19-.1.37-.14.56-.22.89-.37,1.81-.37,2.76v29.43c0,11.36-6.11,21.95-15.95,27.63-9.84,5.68-22.07,5.68-31.91,0l-25.49-14.71c-.82-.48-1.69-.8-2.58-1.06-.19-.06-.37-.11-.55-.16-.88-.21-1.76-.34-2.65-.35-.13,0-.26.02-.4.02-.83.02-1.66.13-2.47.32-.13.03-.27.05-.4.09-.87.24-1.71.6-2.51,1.04-.08.04-.16.06-.24.1l-50.97,29.43c-3.65,2.11-5.9,6.01-5.9,10.22v58.86c0,4.22,2.25,8.11,5.9,10.22Z"}),(0,a.jsx)("path",{style:{fill:d.tertiary},className:(0,s.A)(r&&"[--delay:1.2s]"),d:"M396.88,484.35l-50.97-29.43c-.08-.04-.17-.06-.24-.1-.8-.44-1.64-.79-2.51-1.03-.14-.04-.27-.06-.41-.09-.81-.19-1.64-.3-2.47-.32-.13,0-.26-.02-.39-.02-.89,0-1.78.13-2.66.35-.18.04-.36.1-.54.15-.88.26-1.76.59-2.58,1.07l-25.49,14.72c-9.84,5.68-22.06,5.68-31.9,0-9.84-5.68-15.96-16.27-15.96-27.63v-29.43c0-.95-.15-1.87-.37-2.76-.05-.19-.09-.37-.14-.56-.25-.86-.59-1.69-1.03-2.47-.07-.12-.15-.22-.22-.34-.43-.71-.94-1.37-1.51-1.97-.1-.1-.18-.21-.28-.31-.65-.63-1.37-1.18-2.15-1.66-.07-.04-.13-.11-.2-.16l-50.97-29.43c-3.65-2.11-8.15-2.11-11.81,0l-50.97,29.43c-3.65,2.11-5.9,6.01-5.9,10.22v58.86c0,4.22,2.25,8.11,5.9,10.22l50.97,29.43c.08.04.17.06.25.1.8.44,1.63.79,2.5,1.03.14.04.29.06.43.09.8.19,1.61.3,2.43.32.1,0,.2.04.3.04.04,0,.09-.02.13-.02.88,0,1.77-.13,2.64-.34.19-.04.37-.1.56-.16.88-.26,1.75-.59,2.57-1.06l25.49-14.71c9.84-5.68,22.06-5.68,31.91,0,9.84,5.68,15.95,16.27,15.95,27.63v29.43c0,.95.15,1.87.37,2.76.05.19.09.37.14.56.25.86.59,1.69,1.03,2.47.07.12.15.22.22.34.43.71.94,1.37,1.51,1.97.1.1.18.21.28.31.65.63,1.37,1.18,2.15,1.66.07.04.13.11.2.16l50.97,29.43c1.83,1.05,3.86,1.58,5.9,1.58s4.08-.53,5.9-1.58l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22Z"})]})}},69621:(e,t,r)=>{r.d(t,{Ds:()=>s});var a=r(74681);let s={MULTIHOP:{name:"query_answer_multihop",engine_id:"multihop",url:"".concat(a.H,"/ada/query"),stream:!0},AGENT:{name:"query_answer_agent",engine_id:"agent",url:"".concat(a.H,"/ada/query"),stream:!0}}},84312:(e,t,r)=>{r.d(t,{j:()=>i});var a=r(81717),s=r(94469),n=r(48352),l=r(74681);let i={queriesListKey:["ada-query"],queryItemKey:e=>[...i.queriesListKey,e],queryItem:e=>(0,a.j)({queryKey:i.queryItemKey(e),queryFn:async t=>{let{queryKey:r,client:a,signal:i}=t,c=await n.Ay.get("".concat(l.H,"/ada/query/").concat(e)).json();if(0===c.queries.length)throw Error("Query not yet ready");if("pending"!==c.queries[c.queries.length-1].state)return c;a.setQueryData(r,()=>c);let o=new URL("".concat(l.H.replace("http","ws"),"/ada/ws/query/").concat(e));return await new Promise((e,t)=>{let n,l=new WebSocket(o.toString()),c=!0,d=-1,u=!1;l.addEventListener("message",t=>{if(u)return;let l=JSON.parse(t.data);if(c){if(n=l,a.setQueryData(r,()=>n),c=!1,-1===(d=n.queries.findIndex(e=>"pending"===e.redis_stream))){u=!0,e(n);return}}else{if("done"==l.type){n=(0,s.jM)(n,e=>{e.queries[d].state="done"}),u=!0,e(n);return}n=(0,s.jM)(n,e=>{e.queries[d].response.push(l)}),a.setQueryData(r,()=>n)}},{signal:i}),l.addEventListener("error",()=>{u||t("Connection lost")},{signal:i}),l.addEventListener("close",()=>{u||t("Connection lost")},{signal:i})})},enabled:!0,refetchInterval:!1,staleTime:1/0,retry:!0})}},90061:(e,t,r)=>{function a(e){let t=e.split("/");return t.length>=5?t.slice(2,-1).join("/"):""}r.d(t,{C5:()=>a,Nt:()=>n,Uf:()=>s});let s=e=>Array.isArray(e),n=e=>{let t=e.toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"-").slice(0,30).replace(/-+$/,""),r=crypto.randomUUID();return"".concat(t,"_").concat(r)}},91308:(e,t,r)=>{r.d(t,{Mc:()=>u,d_:()=>h});var a=r(26715),s=r(94469),n=r(48352),l=r(87707),i=r.n(l),c=r(12115);r(56671);var o=r(74681),d=r(84312);function u(){let e=(0,a.jE)();return(0,c.useCallback)(async t=>{let r=d.j.queryItem(t.queryId).queryKey;e.setQueryData(r,e=>(void 0===e&&(e={queries:[],title:t.query}),(0,s.jM)(e,e=>{e.queries.push({repo_names:t.repoNames,user_query:t.query,response:[],state:"pending",error:null,engine_id:t.queryDefinition.engine_id,redis_stream:null})}))),n.Ay.post("".concat(o.H,"/ada/query"),{json:{engine_id:t.queryDefinition.engine_id,user_query:t.query,keywords:[],repo_names:t.repoNames,additional_context:"",query_id:t.queryId,use_notes:!1,attached_context:t.attachedContext,generate_summary:t.generateSummary}}).then(()=>{e.invalidateQueries({queryKey:r})})},[e])}function h(e){return(0,c.useMemo)(()=>i().throttle(()=>{n.Ay.post("".concat(o.H,"/ada/warm_public_repo"),{searchParams:{repo_name:e}})},6e5,{leading:!0,trailing:!1}),[e])}}}]);