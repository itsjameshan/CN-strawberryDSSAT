<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="../../_next/static/media/569ce4b8f30dc480-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="../../_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="../../_next/static/css/f30152c0704fba31.css%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7.css" data-precedence="next"/><link rel="stylesheet" href="../../_next/static/css/3b4ac2f8d4dcca10.css%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="../../_next/static/chunks/webpack-acbbbb548492d4a6.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7"/><script src="../../_next/static/chunks/4bd1b696-cebf68b71ed1e85d.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/1684-e9653e00e35775f6.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/main-app-8ab5af3d6b81086e.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/b1298b8d-549c141f97a3b262.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/378e5a93-3b0f971d3611a8a5.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/f7f68e2d-40290491c524df5c.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/5009-cf1c1739f4eccbfa.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/3377-d302682beb4206f6.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/6671-b0da8a89e8d16b02.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/9853-ba5965ca136d44c2.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/app/layout-d0b9af9c0a55f7f8.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/c16f53c3-c80d3b6d0c4af7a0.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/537-d9d5e9261de3e69c.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/2136-0f8d797058c844d4.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/9970-05da82a5b9af6015.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/1235-2bb070afbba964c5.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/4889-88dda955466eba30.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/168-d8e567d7acd9a9f8.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/5313-8ec48fcc6858d3eb.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/8335-e148bc0d2c65699d.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/app/[org]/[repo]/[[...wikiRoutes]]/page-ca7c0c844ceea0c1.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/7bf36345-20a79815585d2583.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/7646-a48026d39d9219b5.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/3449-5f887633b7ebcff0.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/1915-d5f0c671ad4e8728.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script src="../../_next/static/chunks/app/[org]/[repo]/layout-b6fc08207734c34b.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><meta name="next-size-adjust" content=""/><title>Model Architecture | itsjameshan/strawberryDSSAT | DeepWiki</title><meta name="description" content="This document explains the internal structure and architecture of the Python CROPGRO-Strawberry crop model implementation. It covers the core classes, state management system, calculation engine, and "/><meta property="og:title" content="Model Architecture | itsjameshan/strawberryDSSAT | DeepWiki"/><meta property="og:description" content="This document explains the internal structure and architecture of the Python CROPGRO-Strawberry crop model implementation. It covers the core classes, state management system, calculation engine, and "/><meta property="og:url" content="https://deepwiki.com/itsjameshan/strawberryDSSAT/2.1-model-architecture"/><meta property="og:site_name" content="DeepWiki"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Model Architecture | itsjameshan/strawberryDSSAT | DeepWiki"/><meta name="twitter:description" content="This document explains the internal structure and architecture of the Python CROPGRO-Strawberry crop model implementation. It covers the core classes, state management system, calculation engine, and "/><link rel="icon" href="../../favicon.ico" type="image/x-icon" sizes="48x48"/><link rel="icon" href="../../icon.png%3F66aaf51e0e68c818" type="image/png" sizes="16x16"/><link rel="apple-touch-icon" href="https://deepwiki.com/apple-icon.png?a4f658907db0ab87" type="image/png" sizes="180x180"/><script src="../../_next/static/chunks/polyfills-42372ed130431b0a.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" noModule=""></script></head><body class="__variable_5cfdac font-geist-sans relative min-h-screen __variable_9a8899 bg-background antialiased"><section aria-label="Notifications alt+T" tabindex="-1" aria-live="polite" aria-relevant="additions text" aria-atomic="false"></section><script>((e,t,r,n,a,o,i,s)=>{let u=document.documentElement,l=["light","dark"];function c(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,n=r&&o?a.map(e=>o[e]||e):a;r?(u.classList.remove(...n),u.classList.add(o&&o[t]?o[t]:t)):u.setAttribute(e,t)}),r=t,s&&l.includes(r)&&(u.style.colorScheme=r)}if(n)c(n);else try{let e=localStorage.getItem(t)||r,n=i&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(n)}catch(e){}})("class","theme","light",null,["light","dark"],null,true,true)</script><div class="flex min-h-screen w-full flex-col text-white" id="codebase-wiki-repo-page"><div class="bg-main border-b-border sticky top-0 z-30 border-b border-dashed"><div class="font-geist-mono relative flex h-8 items-center justify-center text-xs font-medium text-white sm:hidden"><div class="powered-by-devin-gradient absolute inset-0 z-[-1] h-8 w-full"></div><a target="_blank" rel="noopener noreferrer" class="flex items-center gap-2" href="https://devin.ai"><svg class="size-3 [&amp;_path]:stroke-0 [&amp;_path]:animate-[custom-pulse_1.8s_infinite_var(--delay,0s)]" xmlns="http://www.w3.org/2000/svg" viewBox="110 110 460 500"><path style="fill:#21c19a" class="[--delay:0.6s]" d="M418.73,332.37c9.84-5.68,22.07-5.68,31.91,0l25.49,14.71c.82.48,1.69.8,2.58,1.06.19.06.37.11.55.16.87.21,1.76.34,2.65.35.04,0,.08.02.13.02.1,0,.19-.03.29-.04.83-.02,1.64-.13,2.45-.32.14-.03.28-.05.42-.09.87-.24,1.7-.59,2.5-1.03.08-.04.17-.06.25-.1l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22l-50.97-29.43c-3.65-2.11-8.15-2.11-11.81,0l-50.97,29.43c-.08.04-.13.11-.2.16-.78.48-1.51,1.02-2.15,1.66-.1.1-.18.21-.28.31-.57.6-1.08,1.26-1.51,1.97-.07.12-.15.22-.22.34-.44.77-.77,1.6-1.03,2.47-.05.19-.1.37-.14.56-.22.89-.37,1.81-.37,2.76v29.43c0,11.36-6.11,21.95-15.95,27.63-9.84,5.68-22.06,5.68-31.91,0l-25.49-14.71c-.82-.48-1.69-.8-2.57-1.06-.19-.06-.37-.11-.56-.16-.88-.21-1.76-.34-2.65-.34-.13,0-.26.02-.4.02-.84.02-1.66.13-2.47.32-.13.03-.27.05-.4.09-.87.24-1.71.6-2.51,1.04-.08.04-.16.06-.24.1l-50.97,29.43c-3.65,2.11-5.9,6.01-5.9,10.22v58.86c0,4.22,2.25,8.11,5.9,10.22l50.97,29.43c.08.04.17.06.24.1.8.44,1.64.79,2.5,1.03.14.04.28.06.42.09.81.19,1.62.3,2.45.32.1,0,.19.04.29.04.04,0,.08-.02.13-.02.89,0,1.77-.13,2.65-.35.19-.04.37-.1.56-.16.88-.26,1.75-.59,2.58-1.06l25.49-14.71c9.84-5.68,22.06-5.68,31.91,0,9.84,5.68,15.95,16.27,15.95,27.63v29.43c0,.95.15,1.87.37,2.76.05.19.09.37.14.56.25.86.59,1.69,1.03,2.47.07.12.15.22.22.34.43.71.94,1.37,1.51,1.97.1.1.18.21.28.31.65.63,1.37,1.18,2.15,1.66.07.04.13.11.2.16l50.97,29.43c1.83,1.05,3.86,1.58,5.9,1.58s4.08-.53,5.9-1.58l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22l-50.97-29.43c-.08-.04-.16-.06-.24-.1-.8-.44-1.64-.8-2.51-1.04-.13-.04-.26-.05-.39-.09-.82-.2-1.65-.31-2.49-.33-.13,0-.25-.02-.38-.02-.89,0-1.78.13-2.66.35-.18.04-.36.1-.54.15-.88.26-1.75.59-2.58,1.07l-25.49,14.72c-9.84,5.68-22.07,5.68-31.9,0-9.84-5.68-15.95-16.27-15.95-27.63s6.11-21.95,15.95-27.63Z"></path><path style="fill:#3969ca" d="M141.09,317.65l50.97,29.43c1.83,1.05,3.86,1.58,5.9,1.58s4.08-.53,5.9-1.58l50.97-29.43c.08-.04.13-.11.2-.16.78-.48,1.51-1.02,2.15-1.66.1-.1.18-.21.28-.31.57-.6,1.08-1.26,1.51-1.97.07-.12.15-.22.22-.34.44-.77.77-1.6,1.03-2.47.05-.19.1-.37.14-.56.22-.89.37-1.81.37-2.76v-29.43c0-11.36,6.11-21.95,15.96-27.63s22.06-5.68,31.91,0l25.49,14.71c.82.48,1.69.8,2.57,1.06.19.06.37.11.56.16.87.21,1.76.34,2.64.35.04,0,.09.02.13.02.1,0,.19-.04.29-.04.83-.02,1.65-.13,2.45-.32.14-.03.28-.05.41-.09.87-.24,1.71-.6,2.51-1.04.08-.04.16-.06.24-.1l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22l-50.97-29.43c-3.65-2.11-8.15-2.11-11.81,0l-50.97,29.43c-.08.04-.13.11-.2.16-.78.48-1.51,1.02-2.15,1.66-.1.1-.18.21-.28.31-.57.6-1.08,1.26-1.51,1.97-.07.12-.15.22-.22.34-.44.77-.77,1.6-1.03,2.47-.05.19-.1.37-.14.56-.22.89-.37,1.81-.37,2.76v29.43c0,11.36-6.11,21.95-15.95,27.63-9.84,5.68-22.07,5.68-31.91,0l-25.49-14.71c-.82-.48-1.69-.8-2.58-1.06-.19-.06-.37-.11-.55-.16-.88-.21-1.76-.34-2.65-.35-.13,0-.26.02-.4.02-.83.02-1.66.13-2.47.32-.13.03-.27.05-.4.09-.87.24-1.71.6-2.51,1.04-.08.04-.16.06-.24.1l-50.97,29.43c-3.65,2.11-5.9,6.01-5.9,10.22v58.86c0,4.22,2.25,8.11,5.9,10.22Z"></path><path style="fill:#0294de" class="[--delay:1.2s]" d="M396.88,484.35l-50.97-29.43c-.08-.04-.17-.06-.24-.1-.8-.44-1.64-.79-2.51-1.03-.14-.04-.27-.06-.41-.09-.81-.19-1.64-.3-2.47-.32-.13,0-.26-.02-.39-.02-.89,0-1.78.13-2.66.35-.18.04-.36.1-.54.15-.88.26-1.76.59-2.58,1.07l-25.49,14.72c-9.84,5.68-22.06,5.68-31.9,0-9.84-5.68-15.96-16.27-15.96-27.63v-29.43c0-.95-.15-1.87-.37-2.76-.05-.19-.09-.37-.14-.56-.25-.86-.59-1.69-1.03-2.47-.07-.12-.15-.22-.22-.34-.43-.71-.94-1.37-1.51-1.97-.1-.1-.18-.21-.28-.31-.65-.63-1.37-1.18-2.15-1.66-.07-.04-.13-.11-.2-.16l-50.97-29.43c-3.65-2.11-8.15-2.11-11.81,0l-50.97,29.43c-3.65,2.11-5.9,6.01-5.9,10.22v58.86c0,4.22,2.25,8.11,5.9,10.22l50.97,29.43c.08.04.17.06.25.1.8.44,1.63.79,2.5,1.03.14.04.29.06.43.09.8.19,1.61.3,2.43.32.1,0,.2.04.3.04.04,0,.09-.02.13-.02.88,0,1.77-.13,2.64-.34.19-.04.37-.1.56-.16.88-.26,1.75-.59,2.57-1.06l25.49-14.71c9.84-5.68,22.06-5.68,31.91,0,9.84,5.68,15.95,16.27,15.95,27.63v29.43c0,.95.15,1.87.37,2.76.05.19.09.37.14.56.25.86.59,1.69,1.03,2.47.07.12.15.22.22.34.43.71.94,1.37,1.51,1.97.1.1.18.21.28.31.65.63,1.37,1.18,2.15,1.66.07.04.13.11.2.16l50.97,29.43c1.83,1.05,3.86,1.58,5.9,1.58s4.08-.53,5.9-1.58l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22Z"></path></svg>Try DeepWiki for private repos in Devin</a></div><div class="container-wrapper"><div class="container mx-auto flex w-full flex-row items-center gap-2 py-4 md:py-6"><a class="flex items-center gap-3" href="https://deepwiki.com"><span class="text-base font-medium leading-none text-white md:text-lg hidden sm:block">DeepWiki</span></a><div class="flex-1"><div class="flex flex-col gap-1"><a class="block text-xs font-medium leading-none text-white sm:hidden md:text-lg" href="https://deepwiki.com/">DeepWiki</a><p class="text-text-secondary text-sm font-normal leading-none md:text-lg"><a href="https://github.com/itsjameshan/strawberryDSSAT" target="_blank" rel="noopener noreferrer" class="text-[#8f8f8f] transition-colors hover:text-black dark:hover:text-white">itsjameshan/strawberryDSSAT</a></p></div></div><div class="flex items-center gap-4"><a href="https://devin.ai" target="_blank" rel="noopener noreferrer" class="group hidden items-center gap-1.5 md:flex"><div class="relative"><span class="text-xs font-light text-white/70 transition-colors group-hover:text-white">Try DeepWiki for private repos in</span><div class="absolute bottom-0 left-0 h-[1px] w-0 bg-black/30 transition-all duration-300 group-hover:w-full dark:bg-white/30"></div></div><div class="flex items-center gap-1 transition-transform duration-300 group-hover:translate-x-0.5"><svg class="size-4 transform transition-transform duration-700 group-hover:rotate-180 [&amp;_path]:stroke-0" xmlns="http://www.w3.org/2000/svg" viewBox="110 110 460 500"><path style="fill:#21c19a" class="" d="M418.73,332.37c9.84-5.68,22.07-5.68,31.91,0l25.49,14.71c.82.48,1.69.8,2.58,1.06.19.06.37.11.55.16.87.21,1.76.34,2.65.35.04,0,.08.02.13.02.1,0,.19-.03.29-.04.83-.02,1.64-.13,2.45-.32.14-.03.28-.05.42-.09.87-.24,1.7-.59,2.5-1.03.08-.04.17-.06.25-.1l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22l-50.97-29.43c-3.65-2.11-8.15-2.11-11.81,0l-50.97,29.43c-.08.04-.13.11-.2.16-.78.48-1.51,1.02-2.15,1.66-.1.1-.18.21-.28.31-.57.6-1.08,1.26-1.51,1.97-.07.12-.15.22-.22.34-.44.77-.77,1.6-1.03,2.47-.05.19-.1.37-.14.56-.22.89-.37,1.81-.37,2.76v29.43c0,11.36-6.11,21.95-15.95,27.63-9.84,5.68-22.06,5.68-31.91,0l-25.49-14.71c-.82-.48-1.69-.8-2.57-1.06-.19-.06-.37-.11-.56-.16-.88-.21-1.76-.34-2.65-.34-.13,0-.26.02-.4.02-.84.02-1.66.13-2.47.32-.13.03-.27.05-.4.09-.87.24-1.71.6-2.51,1.04-.08.04-.16.06-.24.1l-50.97,29.43c-3.65,2.11-5.9,6.01-5.9,10.22v58.86c0,4.22,2.25,8.11,5.9,10.22l50.97,29.43c.08.04.17.06.24.1.8.44,1.64.79,2.5,1.03.14.04.28.06.42.09.81.19,1.62.3,2.45.32.1,0,.19.04.29.04.04,0,.08-.02.13-.02.89,0,1.77-.13,2.65-.35.19-.04.37-.1.56-.16.88-.26,1.75-.59,2.58-1.06l25.49-14.71c9.84-5.68,22.06-5.68,31.91,0,9.84,5.68,15.95,16.27,15.95,27.63v29.43c0,.95.15,1.87.37,2.76.05.19.09.37.14.56.25.86.59,1.69,1.03,2.47.07.12.15.22.22.34.43.71.94,1.37,1.51,1.97.1.1.18.21.28.31.65.63,1.37,1.18,2.15,1.66.07.04.13.11.2.16l50.97,29.43c1.83,1.05,3.86,1.58,5.9,1.58s4.08-.53,5.9-1.58l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22l-50.97-29.43c-.08-.04-.16-.06-.24-.1-.8-.44-1.64-.8-2.51-1.04-.13-.04-.26-.05-.39-.09-.82-.2-1.65-.31-2.49-.33-.13,0-.25-.02-.38-.02-.89,0-1.78.13-2.66.35-.18.04-.36.1-.54.15-.88.26-1.75.59-2.58,1.07l-25.49,14.72c-9.84,5.68-22.07,5.68-31.9,0-9.84-5.68-15.95-16.27-15.95-27.63s6.11-21.95,15.95-27.63Z"></path><path style="fill:#3969ca" d="M141.09,317.65l50.97,29.43c1.83,1.05,3.86,1.58,5.9,1.58s4.08-.53,5.9-1.58l50.97-29.43c.08-.04.13-.11.2-.16.78-.48,1.51-1.02,2.15-1.66.1-.1.18-.21.28-.31.57-.6,1.08-1.26,1.51-1.97.07-.12.15-.22.22-.34.44-.77.77-1.6,1.03-2.47.05-.19.1-.37.14-.56.22-.89.37-1.81.37-2.76v-29.43c0-11.36,6.11-21.95,15.96-27.63s22.06-5.68,31.91,0l25.49,14.71c.82.48,1.69.8,2.57,1.06.19.06.37.11.56.16.87.21,1.76.34,2.64.35.04,0,.09.02.13.02.1,0,.19-.04.29-.04.83-.02,1.65-.13,2.45-.32.14-.03.28-.05.41-.09.87-.24,1.71-.6,2.51-1.04.08-.04.16-.06.24-.1l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22l-50.97-29.43c-3.65-2.11-8.15-2.11-11.81,0l-50.97,29.43c-.08.04-.13.11-.2.16-.78.48-1.51,1.02-2.15,1.66-.1.1-.18.21-.28.31-.57.6-1.08,1.26-1.51,1.97-.07.12-.15.22-.22.34-.44.77-.77,1.6-1.03,2.47-.05.19-.1.37-.14.56-.22.89-.37,1.81-.37,2.76v29.43c0,11.36-6.11,21.95-15.95,27.63-9.84,5.68-22.07,5.68-31.91,0l-25.49-14.71c-.82-.48-1.69-.8-2.58-1.06-.19-.06-.37-.11-.55-.16-.88-.21-1.76-.34-2.65-.35-.13,0-.26.02-.4.02-.83.02-1.66.13-2.47.32-.13.03-.27.05-.4.09-.87.24-1.71.6-2.51,1.04-.08.04-.16.06-.24.1l-50.97,29.43c-3.65,2.11-5.9,6.01-5.9,10.22v58.86c0,4.22,2.25,8.11,5.9,10.22Z"></path><path style="fill:#0294de" class="" d="M396.88,484.35l-50.97-29.43c-.08-.04-.17-.06-.24-.1-.8-.44-1.64-.79-2.51-1.03-.14-.04-.27-.06-.41-.09-.81-.19-1.64-.3-2.47-.32-.13,0-.26-.02-.39-.02-.89,0-1.78.13-2.66.35-.18.04-.36.1-.54.15-.88.26-1.76.59-2.58,1.07l-25.49,14.72c-9.84,5.68-22.06,5.68-31.9,0-9.84-5.68-15.96-16.27-15.96-27.63v-29.43c0-.95-.15-1.87-.37-2.76-.05-.19-.09-.37-.14-.56-.25-.86-.59-1.69-1.03-2.47-.07-.12-.15-.22-.22-.34-.43-.71-.94-1.37-1.51-1.97-.1-.1-.18-.21-.28-.31-.65-.63-1.37-1.18-2.15-1.66-.07-.04-.13-.11-.2-.16l-50.97-29.43c-3.65-2.11-8.15-2.11-11.81,0l-50.97,29.43c-3.65,2.11-5.9,6.01-5.9,10.22v58.86c0,4.22,2.25,8.11,5.9,10.22l50.97,29.43c.08.04.17.06.25.1.8.44,1.63.79,2.5,1.03.14.04.29.06.43.09.8.19,1.61.3,2.43.32.1,0,.2.04.3.04.04,0,.09-.02.13-.02.88,0,1.77-.13,2.64-.34.19-.04.37-.1.56-.16.88-.26,1.75-.59,2.57-1.06l25.49-14.71c9.84-5.68,22.06-5.68,31.91,0,9.84,5.68,15.95,16.27,15.95,27.63v29.43c0,.95.15,1.87.37,2.76.05.19.09.37.14.56.25.86.59,1.69,1.03,2.47.07.12.15.22.22.34.43.71.94,1.37,1.51,1.97.1.1.18.21.28.31.65.63,1.37,1.18,2.15,1.66.07.04.13.11.2.16l50.97,29.43c1.83,1.05,3.86,1.58,5.9,1.58s4.08-.53,5.9-1.58l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22Z"></path></svg><span class="text-sm font-medium text-white">Devin</span></div></a><button class="border-border bg-surface hover:border-border-hover hover:bg-component ml-auto flex cursor-pointer items-center gap-1.5 rounded-md border px-3 py-1.5 text-sm font-medium text-white transition-all" aria-label="Share"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg><span>Share</span></button><div class="h-8 w-8"></div></div></div></div></div><!--$--><div class="w-full flex-1"><div class="container-wrapper relative mx-auto h-full px-0"><div class="container relative mx-auto flex h-full w-full flex-col gap-0 max-md:!px-0 md:flex-row md:gap-6 lg:gap-10"><div class="border-r-border hidden max-h-screen border-r border-dashed py-7 pr-4 transition-[border-radius] md:sticky md:left-0 md:top-20 md:block md:h-[calc(100vh-82px)] md:w-64 md:flex-shrink-0 md:overflow-y-auto lg:py-9 xl:w-72"><div class="flex h-full w-full max-w-full flex-shrink-0 flex-col overflow-hidden" style="scrollbar-color:var(--color-border) transparent"><div class="flex-shrink-0 px-2"><div class="text-secondary pb-1 text-xs">Last indexed: <!-- -->6 June 2025<!-- --> (<a href="https://github.com/itsjameshan/strawberryDSSAT/commits/8d2b5fce" target="_blank" rel="noopener noreferrer">8d2b5f</a>)</div></div><ul class="flex-1 flex-shrink-0 space-y-1 overflow-y-auto py-1" style="scrollbar-width:none"><li style="padding-left:0"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="1-overview.html">Overview</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="1.1-getting-started.html">Getting Started</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="1.2-repository-structure.html">Repository Structure</a></li><li style="padding-left:0"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="2-python-cropgro-implementation.html">Python CROPGRO Implementation</a></li><li style="padding-left:12px"><a data-selected="true" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="2.1-model-architecture.html">Model Architecture</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="2.2-plant-processes.html">Plant Processes</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="2.3-input-parameters-and-configuration.html">Input Parameters and Configuration</a></li><li style="padding-left:0"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="3-testing-framework.html">Testing Framework</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="3.1-unit-tests.html">Unit Tests</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="3.2-test-data-and-fixtures.html">Test Data and Fixtures</a></li><li style="padding-left:0"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="4-validation-system.html">Validation System</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="4.1-model-comparison-tools.html">Model Comparison Tools</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="4.2-fortran-dssat-build-system.html">Fortran DSSAT Build System</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="4.3-validation-pipeline.html">Validation Pipeline</a></li><li style="padding-left:0"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="5-dssat-framework-context.html">DSSAT Framework Context</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="5.1-dssat-system-architecture.html">DSSAT System Architecture</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="5.2-core-dssat-modules.html">Core DSSAT Modules</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="5.3-plant-models-in-dssat.html">Plant Models in DSSAT</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="5.4-soil-process-modeling.html">Soil Process Modeling</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="5.5-inputoutput-system.html">Input/Output System</a></li><li style="padding-left:0"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="6-development-guide.html">Development Guide</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="6.1-contributing-guidelines.html">Contributing Guidelines</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="6.2-development-environment-setup.html">Development Environment Setup</a></li><li style="padding-left:0"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="7-reference.html">Reference</a></li></ul></div></div><div class="flex h-full flex-1 flex-col overflow-hidden"><div class="bg-main border-b-border sticky top-0 z-10 border-b border-dashed md:hidden"><div class="flex cursor-pointer items-center gap-2 p-3"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="transition-transform"><path d="M184.49,136.49l-80,80a12,12,0,0,1-17-17L159,128,87.51,56.49a12,12,0,1,1,17-17l80,80A12,12,0,0,1,184.49,136.49Z"></path></svg><span class="truncate text-base font-normal">Menu</span></div></div><div class="relative flex-1 overflow-y-auto px-3 pt-3 md:rounded-md md:px-0 md:pt-0 [&amp;_::selection]:bg-purple-500/40" style="scrollbar-color:var(--color-night) transparent"><div class="pb-30 mx-auto max-w-2xl md:pb-40 md:pt-6 lg:pt-8"><div class="prose prose-invert dark:prose-invert prose-headings:text-inherit prose-p:text-inherit max-w-none"><div><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><h1 id="model-architecture" class="group flex items-center" data-header="true">Model Architecture<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h1>
<details>
<summary>Relevant source files</summary>
<ul>
<li><a href="https://github.com/itsjameshan/strawberryDSSAT/blob/8d2b5fce/cropgro-strawberry-implementation.py" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>cropgro-strawberry-implementation.py</span></a></li>
</ul>
</details>
<p>This document explains the internal structure and architecture of the Python CROPGRO-Strawberry crop model implementation. It covers the core classes, state management system, calculation engine, and the flow of daily simulations within the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">CropgroStrawberry</code> class.</p>
<p>For information about the physiological processes and calculations, see <a href="2.2-plant-processes.html" class="text-neutral-300 hover:text-neutral-200 hover:underline">Plant Processes</a>. For details about input parameters and configuration, see <a href="2.3-input-parameters-and-configuration.html" class="text-neutral-300 hover:text-neutral-200 hover:underline">Input Parameters and Configuration</a>.</p>
<h2 id="core-architecture-overview" class="group flex items-center" data-header="true">Core Architecture Overview<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<p>The strawberryDSSAT Python implementation follows a clean object-oriented architecture centered around the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">CropgroStrawberry</code> class, which serves as the main simulation engine. The model uses a dataclass-based state management system and performance-optimized calculation functions.</p>
<h3 id="high-level-system-components" class="group flex items-center" data-header="true">High-Level System Components<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></pre>
<p>Sources: <a href="https://github.com/itsjameshan/strawberryDSSAT/blob/8d2b5fce/cropgro-strawberry-implementation.py#L134-L649" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>cropgro-strawberry-implementation.py</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">134-649</span></a></p>
<h3 id="class-structure-and-relationships" class="group flex items-center" data-header="true">Class Structure and Relationships<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>
<p>The model architecture is built around two primary classes that work together to manage simulation state and execute calculations:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></pre>
<p>Sources: <a href="https://github.com/itsjameshan/strawberryDSSAT/blob/8d2b5fce/cropgro-strawberry-implementation.py#L22-L36" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>cropgro-strawberry-implementation.py</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">22-36</span></a> <a href="https://github.com/itsjameshan/strawberryDSSAT/blob/8d2b5fce/cropgro-strawberry-implementation.py#L134-L649" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>cropgro-strawberry-implementation.py</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">134-649</span></a></p>
<h2 id="state-management-system" class="group flex items-center" data-header="true">State Management System<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<p>The model uses the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">PlantState</code> dataclass to maintain all plant-related state variables throughout the simulation. This centralized state management approach ensures consistency and makes the model easy to understand and debug.</p>
<h3 id="plantstate-variables" class="group flex items-center" data-header="true">PlantState Variables<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>



















































































<table><thead><tr><th>Variable</th><th>Type</th><th>Purpose</th><th>Initial Value</th></tr></thead><tbody><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">biomass</code></td><td>float</td><td>Total plant biomass (g/plant)</td><td>0.0</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">leaf_area_index</code></td><td>float</td><td>Leaf area index (m²/m²)</td><td>0.1</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">root_depth</code></td><td>float</td><td>Root penetration depth (cm)</td><td>5.0</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">fruit_number</code></td><td>float</td><td>Number of fruits per plant</td><td>0.0</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">fruit_biomass</code></td><td>float</td><td>Fruit biomass (g/plant)</td><td>0.0</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">leaf_biomass</code></td><td>float</td><td>Leaf biomass (g/plant)</td><td>0.0</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">stem_biomass</code></td><td>float</td><td>Stem biomass (g/plant)</td><td>0.0</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">root_biomass</code></td><td>float</td><td>Root biomass (g/plant)</td><td>0.0</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">phenological_stage</code></td><td>str</td><td>Current development stage</td><td>&quot;GERMINATION&quot;</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">development_rate</code></td><td>float</td><td>Rate of development</td><td>0.0</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">crown_number</code></td><td>float</td><td>Number of crowns per plant</td><td>1.0</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">runner_number</code></td><td>float</td><td>Number of runners per plant</td><td>0.0</td></tr></tbody></table>
<p>Sources: <a href="https://github.com/itsjameshan/strawberryDSSAT/blob/8d2b5fce/cropgro-strawberry-implementation.py#L22-L36" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>cropgro-strawberry-implementation.py</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">22-36</span></a></p>
<h3 id="phenological-stage-management" class="group flex items-center" data-header="true">Phenological Stage Management<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>
<p>The model tracks plant development through discrete phenological stages, each with specific thermal time requirements:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></pre>
<p>Sources: <a href="https://github.com/itsjameshan/strawberryDSSAT/blob/8d2b5fce/cropgro-strawberry-implementation.py#L169-L181" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>cropgro-strawberry-implementation.py</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">169-181</span></a> <a href="https://github.com/itsjameshan/strawberryDSSAT/blob/8d2b5fce/cropgro-strawberry-implementation.py#L224-L245" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>cropgro-strawberry-implementation.py</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">224-245</span></a></p>
<h2 id="calculation-engine" class="group flex items-center" data-header="true">Calculation Engine<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<p>The model&#x27;s calculation engine consists of performance-optimized functions decorated with <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">@njit</code> from the numba library. These functions handle the core mathematical computations for plant physiological processes.</p>
<h3 id="core-calculation-functions" class="group flex items-center" data-header="true">Core Calculation Functions<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></pre>
<p>Sources: <a href="https://github.com/itsjameshan/strawberryDSSAT/blob/8d2b5fce/cropgro-strawberry-implementation.py#L38-L133" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>cropgro-strawberry-implementation.py</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">38-133</span></a> <a href="https://github.com/itsjameshan/strawberryDSSAT/blob/8d2b5fce/cropgro-strawberry-implementation.py#L186-L552" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>cropgro-strawberry-implementation.py</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">186-552</span></a></p>
<h2 id="daily-simulation-flow" class="group flex items-center" data-header="true">Daily Simulation Flow<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<p>The heart of the model is the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">simulate_day</code> method, which orchestrates all calculations and state updates for a single day of plant growth. The method follows a structured sequence of operations that mirrors real plant physiological processes.</p>
<h3 id="daily-simulation-sequence" class="group flex items-center" data-header="true">Daily Simulation Sequence<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></pre>
<p>Sources: <a href="https://github.com/itsjameshan/strawberryDSSAT/blob/8d2b5fce/cropgro-strawberry-implementation.py#L415-L506" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>cropgro-strawberry-implementation.py</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">415-506</span></a></p>
<h3 id="biomass-partitioning-strategy" class="group flex items-center" data-header="true">Biomass Partitioning Strategy<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>
<p>The <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">partition_biomass</code> method allocates daily biomass production to different plant organs based on the current phenological stage. This stage-dependent partitioning reflects the changing priorities of plant growth throughout development.</p>






















































<table><thead><tr><th>Phenological Stage</th><th>Root</th><th>Leaf</th><th>Stem</th><th>Fruit</th></tr></thead><tbody><tr><td>GERMINATION, EMERGENCE, JUVENILE</td><td>40%</td><td>40%</td><td>20%</td><td>0%</td></tr><tr><td>VEGETATIVE, FLORAL_INDUCTION</td><td>20%</td><td>50%</td><td>30%</td><td>0%</td></tr><tr><td>FLOWERING</td><td>10%</td><td>40%</td><td>30%</td><td>20%</td></tr><tr><td>FRUIT_SET, FRUIT_DEVELOPMENT</td><td>5%</td><td>25%</td><td>20%</td><td>50%</td></tr><tr><td>FRUIT_MATURITY</td><td>0%</td><td>10%</td><td>10%</td><td>80%</td></tr><tr><td>SENESCENCE</td><td>0%</td><td>0%</td><td>0%</td><td>0%</td></tr></tbody></table>
<p>Sources: <a href="https://github.com/itsjameshan/strawberryDSSAT/blob/8d2b5fce/cropgro-strawberry-implementation.py#L306-L386" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>cropgro-strawberry-implementation.py</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">306-386</span></a></p>
<h2 id="multi-day-simulation-architecture" class="group flex items-center" data-header="true">Multi-Day Simulation Architecture<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<p>The <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">simulate_growth</code> method provides the interface for running multi-day simulations by processing weather data and orchestrating daily simulation calls.</p>
<h3 id="simulation-orchestration" class="group flex items-center" data-header="true">Simulation Orchestration<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></pre>
<p>Sources: <a href="https://github.com/itsjameshan/strawberryDSSAT/blob/8d2b5fce/cropgro-strawberry-implementation.py#L554-L588" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>cropgro-strawberry-implementation.py</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">554-588</span></a></p>
<h2 id="model-initialization-and-configuration" class="group flex items-center" data-header="true">Model Initialization and Configuration<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<p>The <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">CropgroStrawberry</code> constructor initializes all model components and establishes the simulation parameters that will govern plant behavior throughout the growth period.</p>
<h3 id="initialization-parameters" class="group flex items-center" data-header="true">Initialization Parameters<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>






























<table><thead><tr><th>Parameter</th><th>Type</th><th>Purpose</th></tr></thead><tbody><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">latitude</code></td><td>float</td><td>Site latitude for daylength calculations</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">planting_date</code></td><td>str</td><td>Planting date in &#x27;YYYY-MM-DD&#x27; format</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">soil_properties</code></td><td>dict</td><td>Soil characteristics (depth, water holding capacity, etc.)</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">cultivar_params</code></td><td>dict</td><td>Cultivar-specific parameters (temperature thresholds, efficiency values)</td></tr></tbody></table>
<h3 id="instance-variables-setup" class="group flex items-center" data-header="true">Instance Variables Setup<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>
<p>The constructor establishes several key instance variables:</p>
<ul>
<li><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">self.days_after_planting</code>: Counter for simulation days</li>
<li><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">self.plant_state</code>: <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">PlantState</code> instance for state management</li>
<li><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">self.thermal_time</code>: Accumulated degree-day tracker</li>
<li><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">self.phenology_stages</code>: Dictionary mapping stages to thermal time thresholds</li>
<li><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">self.results</code>: List for storing daily simulation results</li>
</ul>
<p>Sources: <a href="https://github.com/itsjameshan/strawberryDSSAT/blob/8d2b5fce/cropgro-strawberry-implementation.py#L142-L184" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>cropgro-strawberry-implementation.py</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">142-184</span></a></p>
<h2 id="results-storage-and-output" class="group flex items-center" data-header="true">Results Storage and Output<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<p>The model maintains a dual storage system for simulation results: a list for efficient daily appends during simulation and a pandas DataFrame for analysis and visualization.</p>
<h3 id="results-data-structure" class="group flex items-center" data-header="true">Results Data Structure<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>
<p>Each daily result contains comprehensive information about plant state and environmental conditions:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><div class="rounded-sm border border-[#8F8F8F]/30 p-2 text-xs font-normal leading-[15px]" style="background-color:transparent;min-height:2em"></div></pre>
<p>Sources: <a href="https://github.com/itsjameshan/strawberryDSSAT/blob/8d2b5fce/cropgro-strawberry-implementation.py#L486-L506" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>cropgro-strawberry-implementation.py</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">486-506</span></a></p>
<p>The architecture provides a clean separation between the calculation engine, state management, and simulation orchestration, making the model both efficient and maintainable while preserving the scientific accuracy of the original DSSAT framework.</p></div></div></div></div></div></div><div class="hidden overflow-hidden transition-[border-radius] xl:sticky xl:right-0 xl:top-20 xl:block xl:h-[calc(100vh-82px)] xl:w-64 xl:flex-shrink-0 2xl:w-72" style="scrollbar-width:none"><div class="flex max-h-full w-full flex-shrink-0 flex-col py-6 pt-0 text-sm lg:pb-4 lg:pt-8 xl:w-64 2xl:w-72" style="scrollbar-color:var(--color-night) transparent"><div><div class="mx-4 mb-3 rounded-md border border-neutral-200 bg-neutral-100 p-3 text-sm text-neutral-600 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-400"><p class="text-sm font-medium">Auto-refresh not enabled yet<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="ml-1.5 inline-block cursor-help text-neutral-400 transition-colors hover:text-neutral-600 dark:text-neutral-500 dark:hover:text-neutral-400" data-state="closed"><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"></path></svg></p></div></div><h3 class="px-4 pb-5 text-lg font-medium leading-none">On this page</h3><ul style="scrollbar-width:none" class="min-h-0 flex-1 space-y-3 overflow-y-auto p-4 pt-0"><li class=""><a href="2.1-model-architecture.html#model-architecture" class="hover:text-primary pr-1 transition-all text-primary font-medium">Model Architecture</a></li><li class="ml-3"><a href="2.1-model-architecture.html#core-architecture-overview" class="hover:text-primary pr-1 font-normal transition-all text-secondary">Core Architecture Overview</a></li><li class="ml-6"><a href="2.1-model-architecture.html#high-level-system-components" class="hover:text-primary pr-1 font-normal transition-all text-secondary">High-Level System Components</a></li><li class="ml-6"><a href="2.1-model-architecture.html#class-structure-and-relationships" class="hover:text-primary pr-1 font-normal transition-all text-secondary">Class Structure and Relationships</a></li><li class="ml-3"><a href="2.1-model-architecture.html#state-management-system" class="hover:text-primary pr-1 font-normal transition-all text-secondary">State Management System</a></li><li class="ml-6"><a href="2.1-model-architecture.html#plantstate-variables" class="hover:text-primary pr-1 font-normal transition-all text-secondary">PlantState Variables</a></li><li class="ml-6"><a href="2.1-model-architecture.html#phenological-stage-management" class="hover:text-primary pr-1 font-normal transition-all text-secondary">Phenological Stage Management</a></li><li class="ml-3"><a href="2.1-model-architecture.html#calculation-engine" class="hover:text-primary pr-1 font-normal transition-all text-secondary">Calculation Engine</a></li><li class="ml-6"><a href="2.1-model-architecture.html#core-calculation-functions" class="hover:text-primary pr-1 font-normal transition-all text-secondary">Core Calculation Functions</a></li><li class="ml-3"><a href="2.1-model-architecture.html#daily-simulation-flow" class="hover:text-primary pr-1 font-normal transition-all text-secondary">Daily Simulation Flow</a></li><li class="ml-6"><a href="2.1-model-architecture.html#daily-simulation-sequence" class="hover:text-primary pr-1 font-normal transition-all text-secondary">Daily Simulation Sequence</a></li><li class="ml-6"><a href="2.1-model-architecture.html#biomass-partitioning-strategy" class="hover:text-primary pr-1 font-normal transition-all text-secondary">Biomass Partitioning Strategy</a></li><li class="ml-3"><a href="2.1-model-architecture.html#multi-day-simulation-architecture" class="hover:text-primary pr-1 font-normal transition-all text-secondary">Multi-Day Simulation Architecture</a></li><li class="ml-6"><a href="2.1-model-architecture.html#simulation-orchestration" class="hover:text-primary pr-1 font-normal transition-all text-secondary">Simulation Orchestration</a></li><li class="ml-3"><a href="2.1-model-architecture.html#model-initialization-and-configuration" class="hover:text-primary pr-1 font-normal transition-all text-secondary">Model Initialization and Configuration</a></li><li class="ml-6"><a href="2.1-model-architecture.html#initialization-parameters" class="hover:text-primary pr-1 font-normal transition-all text-secondary">Initialization Parameters</a></li><li class="ml-6"><a href="2.1-model-architecture.html#instance-variables-setup" class="hover:text-primary pr-1 font-normal transition-all text-secondary">Instance Variables Setup</a></li><li class="ml-3"><a href="2.1-model-architecture.html#results-storage-and-output" class="hover:text-primary pr-1 font-normal transition-all text-secondary">Results Storage and Output</a></li><li class="ml-6"><a href="2.1-model-architecture.html#results-data-structure" class="hover:text-primary pr-1 font-normal transition-all text-secondary">Results Data Structure</a></li></ul></div></div><div class="pointer-events-none fixed bottom-2 left-2 right-2 mt-2 md:bottom-4 md:left-0 md:right-0"><div class="z-10 mx-auto max-w-3xl"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></div></div></div></div></div><!--/$--></div><script src="../../_next/static/chunks/webpack-acbbbb548492d4a6.js%3Fdpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[51709,[\"9453\",\"static/chunks/b1298b8d-549c141f97a3b262.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"8970\",\"static/chunks/378e5a93-3b0f971d3611a8a5.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"1585\",\"static/chunks/f7f68e2d-40290491c524df5c.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"5009\",\"static/chunks/5009-cf1c1739f4eccbfa.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"3377\",\"static/chunks/3377-d302682beb4206f6.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"6671\",\"static/chunks/6671-b0da8a89e8d16b02.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"9853\",\"static/chunks/9853-ba5965ca136d44c2.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"7177\",\"static/chunks/app/layout-d0b9af9c0a55f7f8.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\"],\"RootProvider\"]\n3:I[87555,[],\"\"]\n4:I[31295,[],\"\"]\n6:I[90894,[],\"ClientPageRoot\"]\n7:I[87667,[\"9453\",\"static/chunks/b1298b8d-549c141f97a3b262.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"8970\",\"static/chunks/378e5a93-3b0f971d3611a8a5.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"1585\",\"static/chunks/f7f68e2d-40290491c524df5c.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"2545\",\"static/chunks/c16f53c3-c80d3b6d0c4af7a0.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"537\",\"static/chunks/537-d9d5e9261de3e69c.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"5009\",\"static/chunks/5009-cf1c1739f4eccbfa.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"2136\",\"static/chunks/2136-0f8d797058c844d4.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"3377\",\"static/chunks/3377-d302682beb4206f6.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"6671\",\"static/chunks/6671-b0da8a89e8d16b02.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"9970\",\"static/chunks/9970-05da82a5b9af6015.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"1235\",\"static/chunks/1235-2bb070afbba964c5.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"4889\",\"static/chunks/4889-88dda955466eba30.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"168\",\"static/chunks/168-d8e567d7acd9a9f8.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"9853\",\"static/chunks/9853-ba5965ca136d44c2.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"5313\",\"static/chunks/5"])</script><script>self.__next_f.push([1,"313-8ec48fcc6858d3eb.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"8335\",\"static/chunks/8335-e148bc0d2c65699d.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"3285\",\"static/chunks/app/%5Borg%5D/%5Brepo%5D/%5B%5B...wikiRoutes%5D%5D/page-ca7c0c844ceea0c1.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\"],\"default\"]\na:I[59665,[],\"OutletBoundary\"]\nd:I[59665,[],\"ViewportBoundary\"]\nf:I[59665,[],\"MetadataBoundary\"]\n11:I[26614,[],\"\"]\n:HL[\"/_next/static/media/569ce4b8f30dc480-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/f30152c0704fba31.css?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"style\"]\n:HL[\"/_next/static/css/3b4ac2f8d4dcca10.css?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"b7fqyfxy2xD07aZj6oUkc\",\"p\":\"\",\"c\":[\"\",\"itsjameshan\",\"strawberryDSSAT\",\"2.1-model-architecture\"],\"i\":false,\"f\":[[[\"\",{\"children\":[[\"org\",\"itsjameshan\",\"d\"],{\"children\":[[\"repo\",\"strawberryDSSAT\",\"d\"],{\"children\":[[\"wikiRoutes\",\"2.1-model-architecture\",\"oc\"],{\"children\":[\"__PAGE__\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f30152c0704fba31.css?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/3b4ac2f8d4dcca10.css?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{}],[\"$\",\"body\",null,{\"className\":\"__variable_5cfdac font-geist-sans relative min-h-screen __variable_9a8899 bg-background antialiased\",\"children\":[\"$\",\"$L2\",null,{\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}]]}],{\"children\":[[\"org\",\"itsjameshan\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"repo\",\"strawberryDSSAT\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,\"$L5\"]}],{\"children\":[[\"wikiRoutes\",\"2.1-model-architecture\",\"oc\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[[\"$\",\"$L6\",null,{\"Component\":\"$7\",\"searchParams\":{},\"params\":{\"org\":\"itsjameshan\",\"repo\":\"strawberryDSSAT\",\"wikiRoutes\":[\"2.1-model-architecture\"]},\"promises\":[\"$@8\",\"$@9\"]}],\"$undefined\",null,[\"$\",\"$La\",null,{\"children\":[\"$Lb\",\"$Lc\",null]}]]}],{},null,false]},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"FnYd_-3lC0lc_Ktcc9cBV\",{\"children\":[[\"$\",\"$Ld\",null,{\"children\":\"$Le\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],[\"$\",\"$Lf\",null,{\"children\":\"$L10\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$11\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"12:I[53508,[\"9453\",\"static/chunks/b1298b8d-549c141f97a3b262.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"8970\",\"static/chunks/378e5a93-3b0f971d3611a8a5.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"1585\",\"static/chunks/f7f68e2d-40290491c524df5c.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"4129\",\"static/chunks/7bf36345-20a79815585d2583.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"537\",\"static/chunks/537-d9d5e9261de3e69c.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"5009\",\"static/chunks/5009-cf1c1739f4eccbfa.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"2136\",\"static/chunks/2136-0f8d797058c844d4.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"3377\",\"static/chunks/3377-d302682beb4206f6.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"6671\",\"static/chunks/6671-b0da8a89e8d16b02.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"9970\",\"static/chunks/9970-05da82a5b9af6015.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"1235\",\"static/chunks/1235-2bb070afbba964c5.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"4889\",\"static/chunks/4889-88dda955466eba30.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"7646\",\"static/chunks/7646-a48026d39d9219b5.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"3449\",\"static/chunks/3449-5f887633b7ebcff0.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"1915\",\"static/chunks/1915-d5f0c671ad4e8728.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"2933\",\"static/chunks/app/%5Borg%5D/%5Brepo%5D/layout-b6fc08207734c34b.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\"],\"CodebaseWikiHeader\"]\n13:I[6874,[\"9453\",\"static/chunks/b1298b8d-549c141f97a3b262.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"8970\",\"static/chunks/378e5a93-3b0f971d3611a8a5.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"1585\",\"static/chunks/f7f68e2d-40290491c524df5c.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"4129\",\"static/chunks/7bf36345-20a79815585d2583.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"537\",\"static/chunks/537-d9d5e9261de3e69c.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"5009\",\"static/chunks/5009-cf1c1739f4eccbfa.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"2136\",\"static/chunks/2136-0f8d797058c844d4.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLV"])</script><script>self.__next_f.push([1,"D6C9g7\",\"3377\",\"static/chunks/3377-d302682beb4206f6.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"6671\",\"static/chunks/6671-b0da8a89e8d16b02.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"9970\",\"static/chunks/9970-05da82a5b9af6015.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"1235\",\"static/chunks/1235-2bb070afbba964c5.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"4889\",\"static/chunks/4889-88dda955466eba30.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"7646\",\"static/chunks/7646-a48026d39d9219b5.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"3449\",\"static/chunks/3449-5f887633b7ebcff0.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"1915\",\"static/chunks/1915-d5f0c671ad4e8728.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"2933\",\"static/chunks/app/%5Borg%5D/%5Brepo%5D/layout-b6fc08207734c34b.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\"],\"\"]\n14:\"$Sreact.suspense\"\n15:I[67807,[\"9453\",\"static/chunks/b1298b8d-549c141f97a3b262.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"8970\",\"static/chunks/378e5a93-3b0f971d3611a8a5.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"1585\",\"static/chunks/f7f68e2d-40290491c524df5c.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"4129\",\"static/chunks/7bf36345-20a79815585d2583.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"537\",\"static/chunks/537-d9d5e9261de3e69c.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"5009\",\"static/chunks/5009-cf1c1739f4eccbfa.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"2136\",\"static/chunks/2136-0f8d797058c844d4.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"3377\",\"static/chunks/3377-d302682beb4206f6.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"6671\",\"static/chunks/6671-b0da8a89e8d16b02.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"9970\",\"static/chunks/9970-05da82a5b9af6015.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"1235\",\"static/chunks/1235-2bb070afbba964c5.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"4889\",\"static/chunks/4889-88dda955466eba30.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"7646\",\"static/chunks/7646-a48026d39d9219b5.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"3449\",\"static/chunks/3449-5f887633b7ebcff0.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"1915"])</script><script>self.__next_f.push([1,"\",\"static/chunks/1915-d5f0c671ad4e8728.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"2933\",\"static/chunks/app/%5Borg%5D/%5Brepo%5D/layout-b6fc08207734c34b.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\"],\"ShinyText\"]\n8:{}\n9:{\"org\":\"itsjameshan\",\"repo\":\"strawberryDSSAT\",\"wikiRoutes\":\"$0:f:0:1:2:children:2:children:2:children:2:children:1:props:children:0:props:params:wikiRoutes\"}\n5:[\"$\",\"div\",null,{\"className\":\"flex min-h-screen w-full flex-col text-white\",\"id\":\"codebase-wiki-repo-page\",\"children\":[[\"$\",\"$L12\",null,{\"hideOnSm\":true,\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col gap-1\",\"children\":[[\"$\",\"$L13\",null,{\"href\":\"/\",\"className\":\"block text-xs font-medium leading-none text-white sm:hidden md:text-lg\",\"children\":\"DeepWiki\"}],[\"$\",\"p\",null,{\"className\":\"text-text-secondary text-sm font-normal leading-none md:text-lg\",\"children\":[\"$\",\"a\",null,{\"href\":\"https://github.com/itsjameshan/strawberryDSSAT\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"text-[#8f8f8f] transition-colors hover:text-black dark:hover:text-white\",\"children\":\"itsjameshan/strawberryDSSAT\"}]}]]}]}],[\"$\",\"$14\",null,{\"fallback\":[\"$\",\"div\",null,{\"className\":\"container-wrapper flex flex-1 items-center justify-center px-4\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"text-center text-lg\",\"text\":\"Loading itsjameshan/strawberryDSSAT...\",\"speed\":1}]}],\"children\":\"$L16\"}]]}]\n"])</script><script>self.__next_f.push([1,"e:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nb:null\n"])</script><script>self.__next_f.push([1,"17:I[60168,[\"9453\",\"static/chunks/b1298b8d-549c141f97a3b262.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"8970\",\"static/chunks/378e5a93-3b0f971d3611a8a5.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"1585\",\"static/chunks/f7f68e2d-40290491c524df5c.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"4129\",\"static/chunks/7bf36345-20a79815585d2583.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"537\",\"static/chunks/537-d9d5e9261de3e69c.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"5009\",\"static/chunks/5009-cf1c1739f4eccbfa.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"2136\",\"static/chunks/2136-0f8d797058c844d4.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"3377\",\"static/chunks/3377-d302682beb4206f6.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"6671\",\"static/chunks/6671-b0da8a89e8d16b02.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"9970\",\"static/chunks/9970-05da82a5b9af6015.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"1235\",\"static/chunks/1235-2bb070afbba964c5.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"4889\",\"static/chunks/4889-88dda955466eba30.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"7646\",\"static/chunks/7646-a48026d39d9219b5.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"3449\",\"static/chunks/3449-5f887633b7ebcff0.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"1915\",\"static/chunks/1915-d5f0c671ad4e8728.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\",\"2933\",\"static/chunks/app/%5Borg%5D/%5Brepo%5D/layout-b6fc08207734c34b.js?dpl=dpl_k92cAi5SAD6CyXgJ1imGLVD6C9g7\"],\"WikiLayout\"]\n18:T24a0,"])</script><script>self.__next_f.push([1,"# Overview\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [AGENTS.md](AGENTS.md)\n- [Figure_1.png](Figure_1.png)\n- [README.md](README.md)\n\n\u003c/details\u003e\n\n\n\nThis document provides a comprehensive overview of the **strawberryDSSAT** repository, which contains a Python implementation of the DSSAT strawberry crop model with comprehensive validation against the original Fortran DSSAT implementation. The repository serves as both a modernization effort and a rigorous validation framework for agricultural crop modeling.\n\nFor detailed setup instructions, see [Getting Started](#1.1). For information about the broader DSSAT ecosystem context, see [DSSAT Framework Context](#5). For development workflows and contribution guidelines, see [Development Guide](#6).\n\n## Repository Purpose and Scope\n\nThe strawberryDSSAT repository implements the CROPGRO strawberry model from the DSSAT (Decision Support System for Agrotechnology Transfer) framework in Python, providing:\n\n- A complete Python reimplementation of the DSSAT strawberry crop simulation model\n- Comprehensive validation tools to ensure equivalence with the original Fortran implementation  \n- Cross-platform build systems for the reference Fortran DSSAT code\n- Automated testing and comparison pipelines\n- Educational and research-oriented documentation\n\nThe system models strawberry growth and development in response to daily weather conditions, soil properties, and cultivar characteristics, producing detailed plant growth metrics, reproductive development data, and physiological process outputs.\n\n**Sources:** [README.md:1-4](), [AGENTS.md:1-3]()\n\n## System Architecture Overview\n\nThe repository implements a dual-model architecture with comprehensive validation between Python and Fortran implementations:\n\n```mermaid\ngraph TB\n    subgraph CorePython[\"Python Implementation\"]\n        CropgroImpl[\"cropgro-strawberry-implementation.py\u003cbr/\u003eCropgroStrawberry class\"]\n        TestSuite[\"cropgro-strawberry-test1.py\u003cbr/\u003eUnit test framework\"]\n    end\n    \n    subgraph FortranRef[\"Fortran Reference System\"]\n        DSSATSource[\"dssat-csm-os-develop/\u003cbr/\u003eOriginal DSSAT Fortran source\"]\n        BuildMacOS[\"scripts/build_dssat_macos.sh\u003cbr/\u003emacOS build system\"]\n        BuildWindows[\"scripts/build_dssat_windows.cmd\u003cbr/\u003eWindows build system\"]\n        RunDSSAT[\"run_original_dssat.py\u003cbr/\u003eFortran execution wrapper\"]\n    end\n    \n    subgraph ValidationFramework[\"Validation \u0026 Comparison\"]\n        CompareScript[\"compare_with_fortran.py\u003cbr/\u003eDirect comparison tool\"]\n        ValidateScript[\"validate_models.py\u003cbr/\u003eTolerance-based validation\"]\n        FullPipeline[\"scripts/run_full_comparison.py\u003cbr/\u003eComplete validation pipeline\"]\n        PlotResults[\"scripts/plot_results.py\u003cbr/\u003eResults visualization\"]\n    end\n    \n    CropgroImpl --\u003e TestSuite\n    CropgroImpl --\u003e CompareScript\n    DSSATSource --\u003e BuildMacOS\n    DSSATSource --\u003e BuildWindows\n    BuildMacOS --\u003e RunDSSAT\n    BuildWindows --\u003e RunDSSAT\n    RunDSSAT --\u003e CompareScript\n    CompareScript --\u003e ValidateScript\n    ValidateScript --\u003e FullPipeline\n    FullPipeline --\u003e PlotResults\n```\n\n**Sources:** [README.md:68-172](), [AGENTS.md:11-28]()\n\n## Core Model Components\n\nThe Python implementation centers around the `CropgroStrawberry` class with integrated state management and physiological process modeling:\n\n```mermaid\ngraph LR\n    subgraph InputSystems[\"Input Systems\"]\n        WeatherData[\"Daily weather data\u003cbr/\u003eTmax, Tmin, Solar, Rain, RH, Wind\"]\n        SoilParams[\"Soil properties\u003cbr/\u003eField capacity, Wilting point, Root depth\"]\n        CultivarParams[\"Cultivar parameters\u003cbr/\u003eTbase, Topt, RUE, SLA, Light extinction\"]\n        GeographicInfo[\"Geographic data\u003cbr/\u003eLatitude, Planting date\"]\n    end\n    \n    subgraph ModelCore[\"CropgroStrawberry Model Core\"]\n        PlantState[\"Plant state variables\u003cbr/\u003eBiomass, LAI, Root depth, Phenology\"]\n        PhysioProcesses[\"Physiological processes\u003cbr/\u003ePhotosynthesis, Transpiration, Partitioning\"]\n        ThermalTime[\"Thermal time calculation\u003cbr/\u003eDegree-day accumulation\"]\n        Daylength[\"Daylength calculation\u003cbr/\u003eLatitude-based photoperiod\"]\n    end\n    \n    subgraph OutputSystems[\"Output Systems\"]\n        GrowthMetrics[\"Plant growth metrics\u003cbr/\u003eTotal biomass, Organ biomass, LAI\"]\n        ReproDevt[\"Reproductive development\u003cbr/\u003eFruit number, Fruit biomass, Crowns\"]\n        PhysioOutputs[\"Physiological outputs\u003cbr/\u003ePhenological stage, Stress factors\"]\n        TimeSeries[\"Time series data\u003cbr/\u003eDaily state variables\"]\n    end\n    \n    WeatherData --\u003e PhysioProcesses\n    SoilParams --\u003e PhysioProcesses  \n    CultivarParams --\u003e PhysioProcesses\n    GeographicInfo --\u003e Daylength\n    \n    PhysioProcesses --\u003e PlantState\n    ThermalTime --\u003e PlantState\n    Daylength --\u003e PhysioProcesses\n    \n    PlantState --\u003e GrowthMetrics\n    PlantState --\u003e ReproDevt\n    PhysioProcesses --\u003e PhysioOutputs\n    PlantState --\u003e TimeSeries\n```\n\n**Sources:** [README.md:5-50]()\n\n## Validation and Testing Framework\n\nThe repository implements a multi-layered validation approach ensuring model accuracy and reliability:\n\n| Validation Layer | Primary Script | Purpose | Tolerance Mechanism |\n|------------------|----------------|---------|-------------------|\n| Unit Testing | `cropgro-strawberry-test1.py` | Test individual model components | Pass/fail assertions |\n| Direct Comparison | `compare_with_fortran.py` | Binary comparison with Fortran | Exact matching |\n| Tolerance Validation | `validate_models.py` | Statistical comparison with tolerance | Configurable tolerance bounds |\n| Pipeline Validation | `run_full_comparison.py` | Complete automated validation | Multi-experiment validation |\n\nThe validation workflow ensures model fidelity through systematic comparison:\n\n```mermaid\nflowchart TD\n    UnitTest[\"python cropgro-strawberry-test1.py\u003cbr/\u003eExecute unit tests\"]\n    BuildFortran[\"Build Fortran DSSAT\u003cbr/\u003ePlatform-specific scripts\"]\n    RunPython[\"Execute Python model\u003cbr/\u003eCropgroStrawberry simulation\"]\n    RunFortran[\"Execute Fortran DSSAT\u003cbr/\u003erun_original_dssat.py\"]\n    Compare[\"compare_with_fortran.py\u003cbr/\u003eDirect output comparison\"]\n    Validate[\"validate_models.py\u003cbr/\u003eTolerance-based validation\"]\n    Pipeline[\"run_full_comparison.py\u003cbr/\u003eFull pipeline execution\"]\n    Visualize[\"plot_results.py\u003cbr/\u003eResults visualization\"]\n    \n    UnitTest --\u003e BuildFortran\n    BuildFortran --\u003e RunPython\n    BuildFortran --\u003e RunFortran\n    RunPython --\u003e Compare\n    RunFortran --\u003e Compare\n    Compare --\u003e Validate\n    Validate --\u003e Pipeline\n    Pipeline --\u003e Visualize\n```\n\n**Sources:** [README.md:76-82](), [README.md:136-172](), [AGENTS.md:30-36]()\n\n## Build and Deployment Systems\n\nThe repository supports cross-platform development with automated build systems for the Fortran reference implementation:\n\n| Platform | Build Script | Build System | Output Location |\n|----------|-------------|--------------|-----------------|\n| macOS | `scripts/build_dssat_macos.sh` | CMake + GCC/gfortran | `Utilities/run_dssat` |\n| Windows | `scripts/build_dssat_windows.cmd` | CMake + MinGW-w64 | Platform-specific build directory |\n| Generic | Manual CMake process | `cmake .. \u0026\u0026 make` | `dssat-csm-os-develop/build/` |\n\nThe build process includes automated setup of experiment data and execution of validation runs, with results written to `/usr/local/BatchFiles` on macOS and equivalent locations on other platforms.\n\n**Sources:** [README.md:84-135](), [AGENTS.md:19-23]()\n\n## Key File Organization\n\nThe repository follows a structured organization supporting both development and validation workflows:\n\n```mermaid\ngraph TB\n    subgraph RootLevel[\"Repository Root\"]\n        MainImpl[\"cropgro-strawberry-implementation.py\u003cbr/\u003ePrimary Python model\"]\n        MainTest[\"cropgro-strawberry-test1.py\u003cbr/\u003eUnit test suite\"]\n        CompareScript[\"compare_with_fortran.py\u003cbr/\u003eValidation tool\"]\n        ValidateScript[\"validate_models.py\u003cbr/\u003eTolerance validation\"]\n        Requirements[\"requirements.txt\u003cbr/\u003ePython dependencies\"]\n    end\n    \n    subgraph ScriptsDir[\"scripts/ directory\"]\n        BuildMac[\"build_dssat_macos.sh\u003cbr/\u003emacOS build automation\"]\n        BuildWin[\"build_dssat_windows.cmd\u003cbr/\u003eWindows build automation\"]\n        FullCompare[\"run_full_comparison.py\u003cbr/\u003eComplete validation pipeline\"]\n        PlotScript[\"plot_results.py\u003cbr/\u003eResults visualization\"]\n    end\n    \n    subgraph DSSATSource[\"dssat-csm-os-develop/\"]\n        FortranCode[\"Original DSSAT Fortran source\u003cbr/\u003eComplete DSSAT-CSM-OS framework\"]\n        BuildSystem[\"CMake build configuration\u003cbr/\u003eCross-platform compilation\"]\n    end\n    \n    subgraph Documentation[\"Documentation\"]\n        ReadmeDoc[\"README.md\u003cbr/\u003eMain documentation\"]\n        AgentsDoc[\"AGENTS.md\u003cbr/\u003eDeveloper guide\"]\n        StudentGuide[\"docs/student_guide.md\u003cbr/\u003eStep-by-step guide\"]\n    end\n    \n    MainImpl --\u003e MainTest\n    CompareScript --\u003e ValidateScript\n    BuildMac --\u003e FortranCode\n    BuildWin --\u003e FortranCode\n    FullCompare --\u003e CompareScript\n    FullCompare --\u003e ValidateScript\n```\n\n**Sources:** [README.md:68-172](), [AGENTS.md:11-44]()\n\nThis architecture enables researchers and developers to work with a modern Python implementation while maintaining rigorous validation against the established Fortran DSSAT framework, supporting both educational use and research applications in agricultural modeling."])</script><script>self.__next_f.push([1,"19:T210e,"])</script><script>self.__next_f.push([1,"# Getting Started\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [AGENTS.md](AGENTS.md)\n- [README.md](README.md)\n\n\u003c/details\u003e\n\n\n\nThis guide provides step-by-step instructions for setting up the strawberryDSSAT development environment, installing dependencies, and running your first strawberry crop simulation. It covers the essential setup steps to get both the Python CROPGRO implementation and the Fortran DSSAT validation system working on your machine.\n\nFor detailed information about the model architecture and internal processes, see [Model Architecture](#2.1). For comprehensive testing procedures, see [Testing Framework](#3). For advanced validation workflows, see [Validation System](#4).\n\n## Prerequisites\n\nBefore beginning, ensure your system meets the following requirements:\n\n| Component | Requirement | Purpose |\n|-----------|-------------|---------|\n| Python | 3.8 or higher | Core Python CROPGRO implementation |\n| pip | Latest version | Package management |\n| CMake | 3.10+ | Building Fortran DSSAT (optional) |\n| Fortran Compiler | gfortran via GCC | Building Fortran DSSAT (optional) |\n\n**Platform-Specific Requirements:**\n\n- **macOS**: Install via Homebrew: `brew install cmake gcc`\n- **Windows**: Install CMake and MinGW-w64 toolchain\n\nThe Fortran compiler is only required if you plan to build and validate against the original DSSAT implementation. The Python model can run independently.\n\nSources: [README.md:104-108](), [AGENTS.md:7]()\n\n## Installation\n\n### Initial Setup Workflow\n\n```mermaid\nflowchart TD\n    Start[\"Clone Repository\"] --\u003e CheckPython[\"python --version\u003cbr/\u003eVerify Python 3.8+\"]\n    CheckPython --\u003e InstallDeps[\"pip install -r requirements.txt\u003cbr/\u003eInstall Python Dependencies\"]\n    InstallDeps --\u003e TestInstall[\"python cropgro-strawberry-test1.py\u003cbr/\u003eRun Unit Tests\"]\n    TestInstall --\u003e TestPass{\"All Tests Pass?\"}\n    TestPass --\u003e|Yes| FirstSim[\"python cropgro-strawberry-implementation.py\u003cbr/\u003eRun First Simulation\"]\n    TestPass --\u003e|No| DebugEnv[\"Debug Environment Issues\"]\n    DebugEnv --\u003e InstallDeps\n    FirstSim --\u003e SetupComplete[\"Setup Complete\u003cbr/\u003eReady for Development\"]\n    \n    OptionalBuild[\"Optional: Build Fortran DSSAT\"] --\u003e PlatformCheck{\"Platform?\"}\n    PlatformCheck --\u003e|macOS| MacBuild[\"bash scripts/build_dssat_macos.sh\"]\n    PlatformCheck --\u003e|Windows| WinBuild[\"scripts\\\\build_dssat_windows.cmd\"]\n    MacBuild --\u003e ValidationReady[\"Validation System Ready\"]\n    WinBuild --\u003e ValidationReady\n```\n\n### Step 1: Install Python Dependencies\n\nNavigate to the repository root and install the required packages:\n\n```bash\npip install -r requirements.txt\n```\n\nThe `requirements.txt` file includes:\n- `numpy` - Numerical computations for the model\n- `pandas` - Data handling and output formatting  \n- `matplotlib` - Plotting simulation results\n\nSources: [README.md:60-64](), [AGENTS.md:8]()\n\n### Step 2: Verify Installation\n\nRun the unit test suite to ensure all components are working correctly:\n\n```bash\npython cropgro-strawberry-test1.py\n```\n\nThis executes the test suite in [cropgro-strawberry-test1.py](), which validates core model calculations including daylength computation, thermal time accumulation, and physiological processes.\n\nSources: [README.md:78-82](), [AGENTS.md:34-36]()\n\n## First Simulation\n\n### Running the Python CROPGRO Model\n\nExecute your first strawberry simulation using the bundled synthetic weather data:\n\n```bash\npython cropgro-strawberry-implementation.py\n```\n\nThis command runs the main simulation script, which:\n1. Initializes the `CropgroStrawberry` class with default parameters\n2. Loads synthetic weather data for a growing season\n3. Executes daily simulation steps\n4. Outputs growth statistics and generates plots\n\n### Simulation Data Flow\n\n```mermaid\ngraph LR\n    WeatherData[\"Synthetic Weather Data\u003cbr/\u003eTemperature, Radiation, Rainfall\"] --\u003e CropgroStrawberry[\"CropgroStrawberry Class\u003cbr/\u003ecropgro-strawberry-implementation.py\"]\n    SoilParams[\"Default Soil Parameters\u003cbr/\u003efield_capacity, wilting_point\"] --\u003e CropgroStrawberry\n    CultivarParams[\"Cultivar Parameters\u003cbr/\u003etbase, topt, rue, sla\"] --\u003e CropgroStrawberry\n    \n    CropgroStrawberry --\u003e DailyStep[\"simulate_day() Method\u003cbr/\u003eDaily Growth Calculations\"]\n    DailyStep --\u003e PlantState[\"PlantState Updates\u003cbr/\u003eBiomass, LAI, Phenology\"]\n    PlantState --\u003e OutputGeneration[\"Results Output\u003cbr/\u003eStatistics \u0026 Plots\"]\n    \n    OutputGeneration --\u003e FinalStats[\"Final Plant Statistics\u003cbr/\u003eTotal Biomass, Fruit Count\"]\n    OutputGeneration --\u003e GrowthPlots[\"Growth Plots\u003cbr/\u003ematplotlib visualizations\"]\n```\n\n### Expected Output\n\nA successful simulation will display:\n- Final plant statistics (total biomass, leaf area, fruit production)\n- Growth curve visualizations showing biomass accumulation over time\n- Phenological development progress through the growing season\n\nSources: [README.md:67-74](), [AGENTS.md:13-17]()\n\n## Testing Your Setup\n\n### Unit Test Categories\n\nThe test suite in `cropgro-strawberry-test1.py` validates several model components:\n\n| Test Category | Purpose | Key Methods Tested |\n|---------------|---------|-------------------|\n| Model Initialization | Verify proper setup | `__init__`, parameter validation |\n| Daylength Calculation | Astronomical computations | `calculate_daylength()` |\n| Thermal Time | Temperature accumulation | `calculate_thermal_time()` |\n| Photosynthesis | Light interception and conversion | `calculate_photosynthesis()` |\n| Water Balance | Transpiration and stress | `calculate_transpiration()` |\n| Biomass Partitioning | Growth allocation | Partitioning algorithms |\n\n### Running Individual Test Categories\n\nFor targeted testing during development, you can examine specific test methods within [cropgro-strawberry-test1.py](). The test class structure allows for focused debugging of particular model components.\n\nSources: [AGENTS.md:32-36](), [README.md:76-82]()\n\n## Basic Validation\n\n### Optional: Fortran DSSAT Comparison\n\nFor comprehensive validation, you can build and compare against the original Fortran DSSAT implementation:\n\n**macOS:**\n```bash\nbash scripts/build_dssat_macos.sh\n```\n\n**Windows:**\n```cmd\nscripts\\build_dssat_windows.cmd\n```\n\n### Quick Validation Check\n\nAfter building DSSAT, run a basic comparison:\n\n```bash\npython compare_with_fortran.py path/to/experiment.SRX --dssat-dir dssat-csm-os-develop\n```\n\nThis executes both the Python and Fortran models on the same input data and reports differences in key output variables.\n\nSources: [README.md:136-142](), [AGENTS.md:19-28]()\n\n## Next Steps\n\n### Development Workflow\n\n```mermaid\nflowchart TD\n    GetStarted[\"Getting Started\u003cbr/\u003eComplete Setup\"] --\u003e ChoosePath{\"Development Focus?\"}\n    \n    ChoosePath --\u003e|Model Development| ModelDev[\"Model Architecture\u003cbr/\u003eStudy CropgroStrawberry class\"]\n    ChoosePath --\u003e|Testing| TestDev[\"Testing Framework\u003cbr/\u003eExtend unit tests\"]\n    ChoosePath --\u003e|Validation| ValidDev[\"Validation System\u003cbr/\u003eCross-model comparison\"]\n    \n    ModelDev --\u003e ReadArch[\"Read Model Architecture\u003cbr/\u003eSection 2.1\"]\n    TestDev --\u003e ReadTest[\"Read Testing Framework\u003cbr/\u003eSection 3\"]\n    ValidDev --\u003e ReadValid[\"Read Validation System\u003cbr/\u003eSection 4\"]\n    \n    ReadArch --\u003e ContribGuide[\"Development Guide\u003cbr/\u003eSection 6\"]\n    ReadTest --\u003e ContribGuide\n    ReadValid --\u003e ContribGuide\n```\n\n### Recommended Next Actions\n\n1. **Explore the Model**: Examine [cropgro-strawberry-implementation.py]() to understand the `CropgroStrawberry` class structure\n2. **Study Plant Processes**: Review the physiological calculations in the daily simulation loop\n3. **Understand Testing**: Analyze test methods in [cropgro-strawberry-test1.py]() for development patterns\n4. **Try Validation**: If you built DSSAT, experiment with [compare_with_fortran.py]() and [validate_models.py]()\n\n### Key Files to Examine\n\n| File | Purpose | Next Learning Step |\n|------|---------|-------------------|\n| `cropgro-strawberry-implementation.py` | Main model implementation | Study class architecture |\n| `cropgro-strawberry-test1.py` | Comprehensive test suite | Learn testing patterns |\n| `compare_with_fortran.py` | Cross-model validation | Understand validation workflow |\n| `requirements.txt` | Python dependencies | Review scientific computing stack |\n\nFor comprehensive development guidelines, including coding standards and contribution workflow, see [Contributing Guidelines](#6.1).\n\nSources: [README.md:153-172](), [AGENTS.md:1-45]()"])</script><script>self.__next_f.push([1,"1a:T2838,"])</script><script>self.__next_f.push([1,"# Repository Structure\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [.gitignore](.gitignore)\n- [AGENTS.md](AGENTS.md)\n- [README.md](README.md)\n\n\u003c/details\u003e\n\n\n\nThis document provides a comprehensive overview of the strawberryDSSAT repository's file organization and directory structure. It explains how the different components of the Python CROPGRO strawberry model implementation, validation framework, and supporting infrastructure are organized within the codebase.\n\nFor detailed information about the development workflow and contribution guidelines, see [Contributing Guidelines](#6.1). For setup instructions and environment configuration, see [Getting Started](#1.1).\n\n## High-Level Repository Organization\n\nThe strawberryDSSAT repository is structured around four main functional areas: the core Python implementation, the Fortran reference system, validation tools, and supporting infrastructure.\n\n### Directory Structure Overview\n\n```mermaid\ngraph TD\n    Root[\"strawberryDSSAT/\"]\n    \n    subgraph \"Core Implementation\"\n        PyImpl[\"cropgro-strawberry-implementation.py\"]\n        PyTest[\"cropgro-strawberry-test1.py\"]\n    end\n    \n    subgraph \"Fortran Reference System\"\n        DSSATDir[\"dssat-csm-os-develop/\"]\n        DataDir[\"dssat-csm-data-develop/\"]\n    end\n    \n    subgraph \"Validation Framework\"\n        CompareScript[\"compare_with_fortran.py\"]\n        ValidateScript[\"validate_models.py\"]\n        RunOriginal[\"run_original_dssat.py\"]\n        ScriptsDir[\"scripts/\"]\n        CompReports[\"comparison_reports/\"]\n    end\n    \n    subgraph \"Build System\"\n        BuildMacOS[\"scripts/build_dssat_macos.sh\"]\n        BuildWindows[\"scripts/build_dssat_windows.cmd\"]\n        FullPipeline[\"scripts/run_full_comparison.py\"]\n        PlotResults[\"scripts/plot_results.py\"]\n    end\n    \n    subgraph \"Documentation \u0026 Config\"\n        README[\"README.md\"]\n        AGENTS[\"AGENTS.md\"]\n        Requirements[\"requirements.txt\"]\n        GitIgnore[\".gitignore\"]\n        DocsDir[\"docs/\"]\n    end\n    \n    Root --\u003e PyImpl\n    Root --\u003e PyTest\n    Root --\u003e DSSATDir\n    Root --\u003e DataDir\n    Root --\u003e CompareScript\n    Root --\u003e ValidateScript\n    Root --\u003e RunOriginal\n    Root --\u003e ScriptsDir\n    Root --\u003e CompReports\n    Root --\u003e README\n    Root --\u003e AGENTS\n    Root --\u003e Requirements\n    Root --\u003e GitIgnore\n    Root --\u003e DocsDir\n    \n    ScriptsDir --\u003e BuildMacOS\n    ScriptsDir --\u003e BuildWindows\n    ScriptsDir --\u003e FullPipeline\n    ScriptsDir --\u003e PlotResults\n```\n\n**Sources**: [README.md:1-173](), [AGENTS.md:1-46]()\n\n## Core Implementation Files\n\nThe primary Python implementation consists of two main files located in the repository root, representing the model implementation and its corresponding test suite.\n\n### Model Implementation Structure\n\n| File | Purpose | Key Components |\n|------|---------|----------------|\n| `cropgro-strawberry-implementation.py` | Main CROPGRO strawberry model implementation | `CropgroStrawberry` class, simulation engine, plant processes |\n| `cropgro-strawberry-test1.py` | Comprehensive unit test suite | Test fixtures, validation methods, process verification |\n\n### Implementation Dependencies\n\n```mermaid\ngraph LR\n    MainModel[\"cropgro-strawberry-implementation.py\"]\n    TestSuite[\"cropgro-strawberry-test1.py\"]\n    Requirements[\"requirements.txt\"]\n    \n    subgraph \"External Dependencies\"\n        Numpy[\"numpy\"]\n        Pandas[\"pandas\"]\n        Matplotlib[\"matplotlib\"]\n    end\n    \n    Requirements --\u003e Numpy\n    Requirements --\u003e Pandas\n    Requirements --\u003e Matplotlib\n    \n    MainModel --\u003e Numpy\n    MainModel --\u003e Pandas\n    MainModel --\u003e Matplotlib\n    \n    TestSuite --\u003e MainModel\n    TestSuite --\u003e Numpy\n```\n\n**Sources**: [README.md:53-64](), [AGENTS.md:6-8](), [README.md:76-82]()\n\n## Testing and Validation Framework\n\nThe repository implements a multi-layered testing and validation system that ensures the Python implementation produces results equivalent to the original Fortran DSSAT model.\n\n### Validation Script Organization\n\n```mermaid\ngraph TD\n    ValidationLayer[\"Validation Framework\"]\n    \n    subgraph \"Unit Testing\"\n        UnitTests[\"cropgro-strawberry-test1.py\"]\n    end\n    \n    subgraph \"Model Comparison\"\n        CompareScript[\"compare_with_fortran.py\"]\n        ValidateScript[\"validate_models.py\"]\n        RunOriginal[\"run_original_dssat.py\"]\n    end\n    \n    subgraph \"Automated Pipeline\"\n        FullPipeline[\"scripts/run_full_comparison.py\"]\n        PlotResults[\"scripts/plot_results.py\"]\n        ReportsDir[\"comparison_reports/\"]\n    end\n    \n    ValidationLayer --\u003e UnitTests\n    ValidationLayer --\u003e CompareScript\n    ValidationLayer --\u003e ValidateScript\n    ValidationLayer --\u003e RunOriginal\n    ValidationLayer --\u003e FullPipeline\n    \n    FullPipeline --\u003e PlotResults\n    FullPipeline --\u003e ReportsDir\n    CompareScript --\u003e ReportsDir\n    ValidateScript --\u003e ReportsDir\n```\n\n### Validation Workflow Components\n\n| Component | File Path | Function |\n|-----------|-----------|----------|\n| Unit Testing | `cropgro-strawberry-test1.py` | Individual component validation |\n| Direct Comparison | `compare_with_fortran.py` | Binary comparison with Fortran output |\n| Tolerance Validation | `validate_models.py` | Statistical comparison with tolerance checking |\n| DSSAT Execution | `run_original_dssat.py` | Interface to compiled Fortran DSSAT |\n| Full Pipeline | `scripts/run_full_comparison.py` | Automated end-to-end validation |\n| Results Visualization | `scripts/plot_results.py` | Validation report plotting |\n\n**Sources**: [README.md:76-82](), [AGENTS.md:30-36](), [README.md:136-152](), [README.md:157-171]()\n\n## Build System Organization\n\nThe repository includes platform-specific build scripts and a comprehensive automation pipeline for building and validating the Fortran DSSAT reference implementation.\n\n### Build Script Structure\n\n```mermaid\ngraph TD\n    BuildSystem[\"Build System\"]\n    \n    subgraph \"Platform Scripts\"\n        MacOSBuild[\"scripts/build_dssat_macos.sh\"]\n        WindowsBuild[\"scripts/build_dssat_windows.cmd\"]\n    end\n    \n    subgraph \"DSSAT Source\"\n        FortranSource[\"dssat-csm-os-develop/\"]\n        DataFiles[\"dssat-csm-data-develop/\"]\n        CMakeConfig[\"dssat-csm-os-develop/CMakeLists.txt\"]\n        Utilities[\"dssat-csm-os-develop/Utilities/\"]\n    end\n    \n    subgraph \"Build Outputs\"\n        RunDSSAT[\"Utilities/run_dssat\"]\n        BatchFiles[\"/usr/local/BatchFiles/\"]\n        Executable[\"DSSAT Executable\"]\n    end\n    \n    BuildSystem --\u003e MacOSBuild\n    BuildSystem --\u003e WindowsBuild\n    \n    MacOSBuild --\u003e FortranSource\n    WindowsBuild --\u003e FortranSource\n    \n    FortranSource --\u003e CMakeConfig\n    FortranSource --\u003e Utilities\n    DataFiles --\u003e BatchFiles\n    \n    CMakeConfig --\u003e RunDSSAT\n    CMakeConfig --\u003e Executable\n    Utilities --\u003e RunDSSAT\n```\n\n### Build Dependencies and Tools\n\n| Platform | Script | Dependencies | Output Location |\n|----------|--------|--------------|-----------------|\n| macOS | `scripts/build_dssat_macos.sh` | `cmake`, `gcc`, `gfortran` | `/usr/local/BatchFiles` |\n| Windows | `scripts/build_dssat_windows.cmd` | `cmake`, `mingw32-make`, `gfortran` | Local build directory |\n\n**Sources**: [README.md:102-135](), [AGENTS.md:19-23](), [README.md:86-100]()\n\n## Documentation and Configuration Structure\n\nThe repository maintains comprehensive documentation and configuration files to support development, deployment, and user guidance.\n\n### Documentation Hierarchy\n\n```mermaid\ngraph TD\n    Documentation[\"Documentation System\"]\n    \n    subgraph \"User Documentation\"\n        README[\"README.md\"]\n        StudentGuide[\"docs/student_guide.md\"]\n    end\n    \n    subgraph \"Developer Documentation\"\n        AGENTS[\"AGENTS.md\"]\n        DeveloperGuide[\"Developer Guide Content\"]\n    end\n    \n    subgraph \"Configuration Files\"\n        Requirements[\"requirements.txt\"]\n        GitIgnore[\".gitignore\"]\n    end\n    \n    subgraph \"Generated Documentation\"\n        ComparisonReports[\"comparison_reports/\"]\n        ValidationSummaries[\"Validation Summaries\"]\n    end\n    \n    Documentation --\u003e README\n    Documentation --\u003e StudentGuide\n    Documentation --\u003e AGENTS\n    Documentation --\u003e DeveloperGuide\n    Documentation --\u003e Requirements\n    Documentation --\u003e GitIgnore\n    Documentation --\u003e ComparisonReports\n    Documentation --\u003e ValidationSummaries\n```\n\n### Configuration File Purposes\n\n| File | Purpose | Key Contents |\n|------|---------|--------------|\n| `requirements.txt` | Python dependency specification | `numpy`, `pandas`, `matplotlib` |\n| `.gitignore` | Version control exclusions | Python bytecode, macOS artifacts, backup files |\n| `AGENTS.md` | Developer contribution guide | Build instructions, testing procedures, commit standards |\n| `README.md` | Primary user documentation | Setup, usage examples, feature overview |\n\n**Sources**: [README.md:53-64](), [.gitignore:1-10](), [AGENTS.md:1-46](), [README.md:154]()\n\n## File Interdependency Structure\n\nThe following diagram illustrates the execution flow and dependencies between major components in the repository, showing how different files interact during typical usage scenarios.\n\n### Component Interaction Flow\n\n```mermaid\ngraph LR\n    subgraph \"Development Cycle\"\n        PyModel[\"cropgro-strawberry-implementation.py\"]\n        UnitTest[\"cropgro-strawberry-test1.py\"]\n        BuildScript[\"scripts/build_dssat_*.sh|.cmd\"]\n        FortranDSSAT[\"dssat-csm-os-develop/\"]\n    end\n    \n    subgraph \"Validation Cycle\"\n        CompareScript[\"compare_with_fortran.py\"]\n        ValidateScript[\"validate_models.py\"]\n        RunOriginal[\"run_original_dssat.py\"]\n        FullPipeline[\"scripts/run_full_comparison.py\"]\n    end\n    \n    subgraph \"Output Generation\"\n        Reports[\"comparison_reports/\"]\n        Plots[\"scripts/plot_results.py\"]\n        Summary[\"Validation Summary\"]\n    end\n    \n    PyModel --\u003e UnitTest\n    UnitTest --\u003e CompareScript\n    BuildScript --\u003e FortranDSSAT\n    FortranDSSAT --\u003e RunOriginal\n    RunOriginal --\u003e CompareScript\n    CompareScript --\u003e ValidateScript\n    ValidateScript --\u003e FullPipeline\n    FullPipeline --\u003e Reports\n    Reports --\u003e Plots\n    Plots --\u003e Summary\n    \n    PyModel --\u003e CompareScript\n    ValidateScript --\u003e Reports\n```\n\n**Sources**: [AGENTS.md:11-28](), [README.md:136-171](), [README.md:76-82]()"])</script><script>self.__next_f.push([1,"1b:T2868,"])</script><script>self.__next_f.push([1,"# Python CROPGRO Implementation\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [README.md](README.md)\n- [cropgro-strawberry-implementation.py](cropgro-strawberry-implementation.py)\n\n\u003c/details\u003e\n\n\n\nThis document provides comprehensive documentation of the core Python strawberry crop model implementation. It covers the main `CropgroStrawberry` class, its architecture, key simulation capabilities, and the underlying computational processes that drive strawberry growth modeling.\n\nFor information about the broader DSSAT framework context, see [DSSAT Framework Context](#5). For testing procedures, see [Testing Framework](#3). For validation against the Fortran implementation, see [Validation System](#4).\n\n## Overview\n\nThe Python CROPGRO implementation is a modernized, accessible version of the DSSAT strawberry crop model. It provides a clean, object-oriented interface for simulating strawberry growth and development while maintaining scientific accuracy through validation against the original Fortran implementation.\n\nThe implementation centers around the `CropgroStrawberry` class, which encapsulates all model state, parameters, and simulation logic. The model operates on a daily time step, processing weather inputs and updating plant state variables including biomass accumulation, phenological development, and physiological processes.\n\n**Sources:** [cropgro-strawberry-implementation.py:1-8](), [cropgro-strawberry-implementation.py:134-141](), [README.md:1-4]()\n\n## Core Components Architecture\n\nThe Python implementation consists of several key components that work together to simulate strawberry crop growth:\n\n```mermaid\ngraph TB\n    subgraph \"Core Model Components\"\n        CropgroStrawberry[\"CropgroStrawberry\u003cbr/\u003eMain Model Class\"]\n        PlantState[\"PlantState\u003cbr/\u003e@dataclass\"]\n        UtilFunctions[\"Utility Functions\u003cbr/\u003e@njit decorated\"]\n    end\n    \n    subgraph \"Input Systems\"\n        Weather[\"Weather Data\u003cbr/\u003eDataFrame\"]\n        Soil[\"Soil Properties\u003cbr/\u003edict\"]\n        Cultivar[\"Cultivar Parameters\u003cbr/\u003edict\"]\n        Geographic[\"Geographic Info\u003cbr/\u003elatitude, planting_date\"]\n    end\n    \n    subgraph \"Simulation Process\"\n        InitModel[\"__init__()\u003cbr/\u003eModel Initialization\"]\n        SimulateDay[\"simulate_day()\u003cbr/\u003eDaily Simulation\"]\n        SimulateGrowth[\"simulate_growth()\u003cbr/\u003eMulti-day Simulation\"]\n    end\n    \n    subgraph \"Output Systems\"\n        Results[\"results\u003cbr/\u003elist of dicts\"]\n        ResultsDF[\"results_df\u003cbr/\u003epandas.DataFrame\"]\n        Plotting[\"plot_results()\u003cbr/\u003eVisualization\"]\n    end\n    \n    subgraph \"Physiological Processes\"\n        Phenology[\"update_phenology()\u003cbr/\u003eDevelopment Stages\"]\n        Photosynthesis[\"calculate_photosynthesis()\u003cbr/\u003eCarbon Assimilation\"]\n        WaterBalance[\"calculate_water_stress()\u003cbr/\u003eWater Relations\"]\n        BiomassPartition[\"partition_biomass()\u003cbr/\u003eGrowth Allocation\"]\n    end\n    \n    Weather --\u003e SimulateDay\n    Soil --\u003e InitModel\n    Cultivar --\u003e InitModel\n    Geographic --\u003e InitModel\n    \n    InitModel --\u003e CropgroStrawberry\n    CropgroStrawberry --\u003e PlantState\n    CropgroStrawberry --\u003e SimulateDay\n    SimulateDay --\u003e UtilFunctions\n    \n    SimulateDay --\u003e Phenology\n    SimulateDay --\u003e Photosynthesis\n    SimulateDay --\u003e WaterBalance\n    SimulateDay --\u003e BiomassPartition\n    \n    SimulateDay --\u003e Results\n    SimulateGrowth --\u003e ResultsDF\n    ResultsDF --\u003e Plotting\n```\n\n**Sources:** [cropgro-strawberry-implementation.py:134-184](), [cropgro-strawberry-implementation.py:22-36](), [cropgro-strawberry-implementation.py:415-506]()\n\n## Daily Simulation Workflow\n\nThe model operates through a structured daily simulation cycle that processes environmental inputs and updates plant state:\n\n```mermaid\nflowchart TD\n    Start[\"simulate_day()\"] --\u003e WeatherInput[\"Process Weather Data\u003cbr/\u003etmax, tmin, solar_radiation\u003cbr/\u003erainfall, rh, wind_speed\"]\n    WeatherInput --\u003e DayCalc[\"Calculate Day Properties\u003cbr/\u003e_calc_daylength()\u003cbr/\u003eday_of_year\"]\n    \n    DayCalc --\u003e ThermalTime[\"Calculate Thermal Time\u003cbr/\u003e_thermal_time()\u003cbr/\u003etbase, topt, tmax_th\"]\n    ThermalTime --\u003e Phenology[\"Update Phenology\u003cbr/\u003eupdate_phenology()\u003cbr/\u003ephenology_stages\"]\n    \n    Phenology --\u003e Photosynthesis[\"Calculate Photosynthesis\u003cbr/\u003e_photosynthesis()\u003cbr/\u003erue, lai, k_light\"]\n    Photosynthesis --\u003e Transpiration[\"Calculate Transpiration\u003cbr/\u003e_transpiration()\u003cbr/\u003elai, et0\"]\n    \n    Transpiration --\u003e WaterStress[\"Calculate Water Stress\u003cbr/\u003e_water_stress()\u003cbr/\u003efield_capacity, wilting_point\"]\n    WaterStress --\u003e StressAdjust[\"Apply Stress to Photosynthesis\u003cbr/\u003ephotosynthesis *= (1 - water_stress)\"]\n    \n    StressAdjust --\u003e BiomassCalc[\"Calculate Daily Biomass\u003cbr/\u003edaily_biomass = photosynthesis / plant_density\"]\n    BiomassCalc --\u003e Respiration[\"Subtract Maintenance Respiration\u003cbr/\u003e_maintenance_resp()\"]\n    \n    Respiration --\u003e Partition[\"Partition Biomass\u003cbr/\u003epartition_biomass()\u003cbr/\u003eroot, leaf, stem, fruit fractions\"]\n    Partition --\u003e UpdateStructures[\"Update Plant Structures\u003cbr/\u003eupdate_runners()\u003cbr/\u003eupdate_crowns()\u003cbr/\u003eupdate_fruits()\"]\n    \n    UpdateStructures --\u003e StoreResults[\"Store Daily Results\u003cbr/\u003eresults.append()\"]\n    StoreResults --\u003e End[\"End Day\"]\n```\n\n**Sources:** [cropgro-strawberry-implementation.py:415-506](), [cropgro-strawberry-implementation.py:224-245](), [cropgro-strawberry-implementation.py:306-386]()\n\n## Key Classes and Data Structures\n\n### CropgroStrawberry Class\n\nThe main model class encapsulates all simulation logic and state management. Key attributes include:\n\n| Attribute | Type | Purpose |\n|-----------|------|---------|\n| `latitude` | float | Geographic location for daylength calculations |\n| `planting_date` | datetime | Reference date for phenological timing |\n| `soil` | dict | Soil properties including water holding capacity |\n| `cultivar` | dict | Cultivar-specific parameters |\n| `plant_state` | PlantState | Current plant state variables |\n| `thermal_time` | float | Accumulated degree-days |\n| `phenology_stages` | dict | Development stage thresholds |\n| `results` | list | Daily simulation results |\n\n**Sources:** [cropgro-strawberry-implementation.py:142-184]()\n\n### PlantState Dataclass\n\nThe `PlantState` dataclass manages all dynamic plant variables:\n\n```mermaid\nclassDiagram\n    class PlantState {\n        +float biomass\n        +float leaf_area_index\n        +float root_depth\n        +float fruit_number\n        +float fruit_biomass\n        +float leaf_biomass\n        +float stem_biomass\n        +float root_biomass\n        +str phenological_stage\n        +float development_rate\n        +float crown_number\n        +float runner_number\n    }\n    \n    class CropgroStrawberry {\n        +PlantState plant_state\n        +float thermal_time\n        +dict phenology_stages\n        +list results\n        +simulate_day()\n        +partition_biomass()\n        +update_phenology()\n        +calculate_photosynthesis()\n        +calculate_transpiration()\n    }\n    \n    CropgroStrawberry --\u003e PlantState : contains\n```\n\n**Sources:** [cropgro-strawberry-implementation.py:22-36]()\n\n## Numba-Optimized Utility Functions\n\nThe implementation uses `@njit` decorated functions for computationally intensive calculations:\n\n| Function | Purpose | Key Parameters |\n|----------|---------|----------------|\n| `_calc_daylength` | Astronomical daylength calculation | `latitude`, `day_of_year` |\n| `_thermal_time` | Degree-day accumulation | `tmin`, `tmax`, `tbase`, `topt`, `tmax_th` |\n| `_photosynthesis` | Daily carbon assimilation | `solar_radiation`, `rue`, `lai`, `k_light` |\n| `_transpiration` | Water loss estimation | `solar_radiation`, `lai`, ET0 approach |\n| `_water_stress` | Soil moisture stress factor | `field_capacity`, `wilting_point`, `root_depth` |\n| `_maintenance_resp` | Respiratory carbon loss | `organ_biomass`, `temperature` |\n\n**Sources:** [cropgro-strawberry-implementation.py:38-133]()\n\n## Phenological Development System\n\nThe model tracks strawberry development through defined stages with thermal time thresholds:\n\n```mermaid\nstateDiagram-v2\n    [*] --\u003e GERMINATION\n    GERMINATION --\u003e EMERGENCE : 50 degree-days\n    EMERGENCE --\u003e JUVENILE : 100 degree-days\n    JUVENILE --\u003e VEGETATIVE : 200 degree-days\n    VEGETATIVE --\u003e FLORAL_INDUCTION : 400 degree-days\n    FLORAL_INDUCTION --\u003e FLOWERING : 600 degree-days\n    FLOWERING --\u003e FRUIT_SET : 700 degree-days\n    FRUIT_SET --\u003e FRUIT_DEVELOPMENT : 800 degree-days\n    FRUIT_DEVELOPMENT --\u003e FRUIT_MATURITY : 1000 degree-days\n    FRUIT_MATURITY --\u003e SENESCENCE : 1500 degree-days\n    SENESCENCE --\u003e [*]\n```\n\n**Sources:** [cropgro-strawberry-implementation.py:169-181](), [cropgro-strawberry-implementation.py:224-245]()\n\n## Model Inputs and Outputs\n\n### Required Inputs\n\nThe model requires several categories of input data:\n\n- **Geographic**: Latitude and planting date for location-specific calculations\n- **Soil Properties**: Maximum root depth, field capacity, wilting point\n- **Cultivar Parameters**: Temperature thresholds, radiation use efficiency, specific leaf area\n- **Weather Data**: Daily temperature, solar radiation, rainfall, humidity, wind speed\n\n### Primary Outputs\n\nThe simulation produces comprehensive daily time series data:\n\n- **Growth Metrics**: Total biomass, organ-specific biomass, leaf area index, root depth\n- **Reproductive Development**: Fruit number, fruit biomass, crown and runner counts\n- **Physiological Processes**: Phenological stage, thermal time, photosynthesis, transpiration rates\n- **Stress Indicators**: Water stress factors\n\n**Sources:** [README.md:5-50](), [cropgro-strawberry-implementation.py:487-506]()\n\n## Integration Points\n\nFor detailed information about specific aspects of the Python implementation:\n\n- **Model Architecture**: Internal structure and state management - see [Model Architecture](#2.1)\n- **Plant Processes**: Physiological process modeling details - see [Plant Processes](#2.2)  \n- **Input Configuration**: Parameter setup and data formats - see [Input Parameters and Configuration](#2.3)\n\nThe Python implementation serves as the foundation for the comprehensive validation framework documented in [Validation System](#4), which ensures compatibility with the original Fortran DSSAT implementation.\n\n**Sources:** [cropgro-strawberry-implementation.py:554-588](), [cropgro-strawberry-implementation.py:590-648]()"])</script><script>self.__next_f.push([1,"1c:T37cc,"])</script><script>self.__next_f.push([1,"# Model Architecture\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [cropgro-strawberry-implementation.py](cropgro-strawberry-implementation.py)\n\n\u003c/details\u003e\n\n\n\nThis document explains the internal structure and architecture of the Python CROPGRO-Strawberry crop model implementation. It covers the core classes, state management system, calculation engine, and the flow of daily simulations within the `CropgroStrawberry` class.\n\nFor information about the physiological processes and calculations, see [Plant Processes](#2.2). For details about input parameters and configuration, see [Input Parameters and Configuration](#2.3).\n\n## Core Architecture Overview\n\nThe strawberryDSSAT Python implementation follows a clean object-oriented architecture centered around the `CropgroStrawberry` class, which serves as the main simulation engine. The model uses a dataclass-based state management system and performance-optimized calculation functions.\n\n### High-Level System Components\n\n```mermaid\ngraph TB\n    subgraph \"CropgroStrawberry Class\"\n        Constructor[\"__init__()\"]\n        SimulateDay[\"simulate_day()\"]\n        SimulateGrowth[\"simulate_growth()\"]\n        PlotResults[\"plot_results()\"]\n    end\n    \n    subgraph \"State Management\"\n        PlantState[\"PlantState dataclass\"]\n        Results[\"results list\"]\n        ResultsDF[\"results_df DataFrame\"]\n    end\n    \n    subgraph \"Calculation Engine\"\n        CalcDaylength[\"_calc_daylength()\"]\n        ThermalTime[\"_thermal_time()\"]\n        Photosynthesis[\"_photosynthesis()\"]\n        Transpiration[\"_transpiration()\"]\n        WaterStress[\"_water_stress()\"]\n        MaintenanceResp[\"_maintenance_resp()\"]\n    end\n    \n    subgraph \"Process Methods\"\n        UpdatePhenology[\"update_phenology()\"]\n        PartitionBiomass[\"partition_biomass()\"]\n        UpdateRunners[\"update_runners()\"]\n        UpdateCrowns[\"update_crowns()\"]\n        UpdateFruits[\"update_fruits()\"]\n    end\n    \n    Constructor --\u003e PlantState\n    SimulateDay --\u003e CalcDaylength\n    SimulateDay --\u003e ThermalTime\n    SimulateDay --\u003e Photosynthesis\n    SimulateDay --\u003e Transpiration\n    SimulateDay --\u003e WaterStress\n    SimulateDay --\u003e MaintenanceResp\n    SimulateDay --\u003e UpdatePhenology\n    SimulateDay --\u003e PartitionBiomass\n    SimulateDay --\u003e UpdateRunners\n    SimulateDay --\u003e UpdateCrowns\n    SimulateDay --\u003e UpdateFruits\n    SimulateDay --\u003e Results\n    SimulateGrowth --\u003e SimulateDay\n    SimulateGrowth --\u003e ResultsDF\n    PlotResults --\u003e ResultsDF\n```\n\nSources: [cropgro-strawberry-implementation.py:134-649]()\n\n### Class Structure and Relationships\n\nThe model architecture is built around two primary classes that work together to manage simulation state and execute calculations:\n\n```mermaid\nclassDiagram\n    class PlantState {\n        +float biomass\n        +float leaf_area_index\n        +float root_depth\n        +float fruit_number\n        +float fruit_biomass\n        +float leaf_biomass\n        +float stem_biomass\n        +float root_biomass\n        +str phenological_stage\n        +float development_rate\n        +float crown_number\n        +float runner_number\n    }\n    \n    class CropgroStrawberry {\n        +float latitude\n        +datetime planting_date\n        +dict soil\n        +dict cultivar\n        +int days_after_planting\n        +PlantState plant_state\n        +float thermal_time\n        +dict phenology_stages\n        +list results\n        +DataFrame results_df\n        \n        +__init__(latitude, planting_date, soil_properties, cultivar_params)\n        +calculate_daylength(day_of_year)\n        +calculate_thermal_time(tmin, tmax)\n        +update_phenology(thermal_time_today)\n        +calculate_photosynthesis(solar_radiation, tmax, tmin, co2)\n        +calculate_transpiration(solar_radiation, tmax, tmin, rh, wind_speed)\n        +partition_biomass(daily_biomass)\n        +update_runners()\n        +update_crowns()\n        +update_fruits()\n        +simulate_day(weather_data)\n        +calculate_water_stress(rainfall, transpiration)\n        +calculate_maintenance_respiration(tmin, tmax)\n        +simulate_growth(weather_data_df)\n        +plot_results()\n    }\n    \n    CropgroStrawberry --\u003e PlantState : contains\n```\n\nSources: [cropgro-strawberry-implementation.py:22-36](), [cropgro-strawberry-implementation.py:134-649]()\n\n## State Management System\n\nThe model uses the `PlantState` dataclass to maintain all plant-related state variables throughout the simulation. This centralized state management approach ensures consistency and makes the model easy to understand and debug.\n\n### PlantState Variables\n\n| Variable | Type | Purpose | Initial Value |\n|----------|------|---------|---------------|\n| `biomass` | float | Total plant biomass (g/plant) | 0.0 |\n| `leaf_area_index` | float | Leaf area index (m²/m²) | 0.1 |\n| `root_depth` | float | Root penetration depth (cm) | 5.0 |\n| `fruit_number` | float | Number of fruits per plant | 0.0 |\n| `fruit_biomass` | float | Fruit biomass (g/plant) | 0.0 |\n| `leaf_biomass` | float | Leaf biomass (g/plant) | 0.0 |\n| `stem_biomass` | float | Stem biomass (g/plant) | 0.0 |\n| `root_biomass` | float | Root biomass (g/plant) | 0.0 |\n| `phenological_stage` | str | Current development stage | \"GERMINATION\" |\n| `development_rate` | float | Rate of development | 0.0 |\n| `crown_number` | float | Number of crowns per plant | 1.0 |\n| `runner_number` | float | Number of runners per plant | 0.0 |\n\nSources: [cropgro-strawberry-implementation.py:22-36]()\n\n### Phenological Stage Management\n\nThe model tracks plant development through discrete phenological stages, each with specific thermal time requirements:\n\n```mermaid\nstateDiagram-v2\n    [*] --\u003e GERMINATION : \"Planting\"\n    GERMINATION --\u003e EMERGENCE : \"50 °C·day\"\n    EMERGENCE --\u003e JUVENILE : \"100 °C·day\"\n    JUVENILE --\u003e VEGETATIVE : \"200 °C·day\"\n    VEGETATIVE --\u003e FLORAL_INDUCTION : \"400 °C·day\"\n    FLORAL_INDUCTION --\u003e FLOWERING : \"600 °C·day\"\n    FLOWERING --\u003e FRUIT_SET : \"700 °C·day\"\n    FRUIT_SET --\u003e FRUIT_DEVELOPMENT : \"800 °C·day\"\n    FRUIT_DEVELOPMENT --\u003e FRUIT_MATURITY : \"1000 °C·day\"\n    FRUIT_MATURITY --\u003e SENESCENCE : \"1500 °C·day\"\n    SENESCENCE --\u003e [*]\n```\n\nSources: [cropgro-strawberry-implementation.py:169-181](), [cropgro-strawberry-implementation.py:224-245]()\n\n## Calculation Engine\n\nThe model's calculation engine consists of performance-optimized functions decorated with `@njit` from the numba library. These functions handle the core mathematical computations for plant physiological processes.\n\n### Core Calculation Functions\n\n```mermaid\ngraph LR\n    subgraph \"Environmental Calculations\"\n        CalcDaylength[\"_calc_daylength(latitude, day_of_year)\"]\n        ThermalTime[\"_thermal_time(tmin, tmax, tbase, topt, tmax_th)\"]\n    end\n    \n    subgraph \"Physiological Calculations\"\n        Photosynthesis[\"_photosynthesis(solar_radiation, tmax, tmin, rue, tbase, topt, k_light, lai, co2)\"]\n        Transpiration[\"_transpiration(solar_radiation, tmax, tmin, rh, lai)\"]\n        WaterStress[\"_water_stress(field_capacity, wilting_point, root_depth, rainfall, transpiration)\"]\n        MaintenanceResp[\"_maintenance_resp(leaf_biomass, stem_biomass, root_biomass, fruit_biomass, tmin, tmax)\"]\n    end\n    \n    subgraph \"CropgroStrawberry Methods\"\n        CalculateDaylength[\"calculate_daylength()\"]\n        CalculateThermalTime[\"calculate_thermal_time()\"]\n        CalculatePhotosynthesis[\"calculate_photosynthesis()\"]\n        CalculateTranspiration[\"calculate_transpiration()\"]\n        CalculateWaterStress[\"calculate_water_stress()\"]\n        CalculateMaintenanceResp[\"calculate_maintenance_respiration()\"]\n    end\n    \n    CalcDaylength --\u003e CalculateDaylength\n    ThermalTime --\u003e CalculateThermalTime\n    Photosynthesis --\u003e CalculatePhotosynthesis\n    Transpiration --\u003e CalculateTranspiration\n    WaterStress --\u003e CalculateWaterStress\n    MaintenanceResp --\u003e CalculateMaintenanceResp\n```\n\nSources: [cropgro-strawberry-implementation.py:38-133](), [cropgro-strawberry-implementation.py:186-552]()\n\n## Daily Simulation Flow\n\nThe heart of the model is the `simulate_day` method, which orchestrates all calculations and state updates for a single day of plant growth. The method follows a structured sequence of operations that mirrors real plant physiological processes.\n\n### Daily Simulation Sequence\n\n```mermaid sequenceDiagram\n    participant Weather as \"Weather Data\"\n    participant SimDay as \"simulate_day()\"\n    participant Calc as \"Calculation Functions\"\n    participant State as \"PlantState\"\n    participant Results as \"Results Storage\"\n    \n    Weather-\u003e\u003eSimDay: \"Daily weather data\"\n    SimDay-\u003e\u003eSimDay: \"Increment days_after_planting\"\n    SimDay-\u003e\u003eCalc: \"calculate_daylength(day_of_year)\"\n    Calc--\u003e\u003eSimDay: \"daylength\"\n    SimDay-\u003e\u003eCalc: \"calculate_thermal_time(tmin, tmax)\"\n    Calc--\u003e\u003eSimDay: \"thermal_time_today\"\n    SimDay-\u003e\u003eSimDay: \"update_phenology(thermal_time_today)\"\n    SimDay-\u003e\u003eState: \"Update phenological_stage\"\n    SimDay-\u003e\u003eCalc: \"calculate_photosynthesis(...)\"\n    Calc--\u003e\u003eSimDay: \"photosynthesis\"\n    SimDay-\u003e\u003eCalc: \"calculate_transpiration(...)\"\n    Calc--\u003e\u003eSimDay: \"transpiration\"\n    SimDay-\u003e\u003eCalc: \"calculate_water_stress(...)\"\n    Calc--\u003e\u003eSimDay: \"water_stress\"\n    SimDay-\u003e\u003eSimDay: \"photosynthesis *= (1 - water_stress)\"\n    SimDay-\u003e\u003eCalc: \"calculate_maintenance_respiration(...)\"\n    Calc--\u003e\u003eSimDay: \"maintenance_resp\"\n    SimDay-\u003e\u003eSimDay: \"daily_biomass = photosynthesis - maintenance_resp\"\n    SimDay-\u003e\u003eSimDay: \"partition_biomass(daily_biomass)\"\n    SimDay-\u003e\u003eState: \"Update biomass components\"\n    SimDay-\u003e\u003eSimDay: \"update_runners(), update_crowns(), update_fruits()\"\n    SimDay-\u003e\u003eState: \"Update plant structure\"\n    SimDay-\u003e\u003eResults: \"Store daily results\"\n```\n\nSources: [cropgro-strawberry-implementation.py:415-506]()\n\n### Biomass Partitioning Strategy\n\nThe `partition_biomass` method allocates daily biomass production to different plant organs based on the current phenological stage. This stage-dependent partitioning reflects the changing priorities of plant growth throughout development.\n\n| Phenological Stage | Root | Leaf | Stem | Fruit |\n|-------------------|------|------|------|-------|\n| GERMINATION, EMERGENCE, JUVENILE | 40% | 40% | 20% | 0% |\n| VEGETATIVE, FLORAL_INDUCTION | 20% | 50% | 30% | 0% |\n| FLOWERING | 10% | 40% | 30% | 20% |\n| FRUIT_SET, FRUIT_DEVELOPMENT | 5% | 25% | 20% | 50% |\n| FRUIT_MATURITY | 0% | 10% | 10% | 80% |\n| SENESCENCE | 0% | 0% | 0% | 0% |\n\nSources: [cropgro-strawberry-implementation.py:306-386]()\n\n## Multi-Day Simulation Architecture\n\nThe `simulate_growth` method provides the interface for running multi-day simulations by processing weather data and orchestrating daily simulation calls.\n\n### Simulation Orchestration\n\n```mermaid\ngraph TD\n    WeatherDF[\"weather_data_df DataFrame\"]\n    SimGrowth[\"simulate_growth()\"]\n    ResetResults[\"Reset self.results = []\"]\n    IterateRows[\"Iterate weather_data_df.itertuples()\"]\n    CreateWeatherDay[\"Create weather_day dict\"]\n    SimDay[\"simulate_day(weather_day)\"]\n    StoreResults[\"Append to self.results\"]\n    ConvertDF[\"Convert to self.results_df DataFrame\"]\n    Return[\"Return results_df\"]\n    \n    WeatherDF --\u003e SimGrowth\n    SimGrowth --\u003e ResetResults\n    ResetResults --\u003e IterateRows\n    IterateRows --\u003e CreateWeatherDay\n    CreateWeatherDay --\u003e SimDay\n    SimDay --\u003e StoreResults\n    StoreResults --\u003e IterateRows\n    IterateRows --\u003e ConvertDF\n    ConvertDF --\u003e Return\n```\n\nSources: [cropgro-strawberry-implementation.py:554-588]()\n\n## Model Initialization and Configuration\n\nThe `CropgroStrawberry` constructor initializes all model components and establishes the simulation parameters that will govern plant behavior throughout the growth period.\n\n### Initialization Parameters\n\n| Parameter | Type | Purpose |\n|-----------|------|---------|\n| `latitude` | float | Site latitude for daylength calculations |\n| `planting_date` | str | Planting date in 'YYYY-MM-DD' format |\n| `soil_properties` | dict | Soil characteristics (depth, water holding capacity, etc.) |\n| `cultivar_params` | dict | Cultivar-specific parameters (temperature thresholds, efficiency values) |\n\n### Instance Variables Setup\n\nThe constructor establishes several key instance variables:\n\n- `self.days_after_planting`: Counter for simulation days\n- `self.plant_state`: `PlantState` instance for state management\n- `self.thermal_time`: Accumulated degree-day tracker\n- `self.phenology_stages`: Dictionary mapping stages to thermal time thresholds\n- `self.results`: List for storing daily simulation results\n\nSources: [cropgro-strawberry-implementation.py:142-184]()\n\n## Results Storage and Output\n\nThe model maintains a dual storage system for simulation results: a list for efficient daily appends during simulation and a pandas DataFrame for analysis and visualization.\n\n### Results Data Structure\n\nEach daily result contains comprehensive information about plant state and environmental conditions:\n\n```python\n{\n    'date': str,                    # Simulation date\n    'dap': int,                     # Days after planting\n    'stage': str,                   # Phenological stage\n    'thermal_time': float,          # Accumulated thermal time\n    'biomass': float,               # Total plant biomass\n    'leaf_area_index': float,       # Leaf area index\n    'root_depth': float,            # Root depth\n    'fruit_number': float,          # Number of fruits\n    'fruit_biomass': float,         # Fruit biomass\n    'leaf_biomass': float,          # Leaf biomass\n    'stem_biomass': float,          # Stem biomass\n    'root_biomass': float,          # Root biomass\n    'crown_number': float,          # Number of crowns\n    'runner_number': float,         # Number of runners\n    'water_stress': float,          # Water stress factor\n    'daylength': float,            # Daylength hours\n    'photosynthesis': float,       # Daily photosynthesis\n    'transpiration': float         # Daily transpiration\n}\n```\n\nSources: [cropgro-strawberry-implementation.py:486-506]()\n\nThe architecture provides a clean separation between the calculation engine, state management, and simulation orchestration, making the model both efficient and maintainable while preserving the scientific accuracy of the original DSSAT framework."])</script><script>self.__next_f.push([1,"1d:T26c2,"])</script><script>self.__next_f.push([1,"# Plant Processes\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [cropgro-strawberry-implementation.py](cropgro-strawberry-implementation.py)\n\n\u003c/details\u003e\n\n\n\nThis document details the physiological and developmental processes modeled in the strawberryDSSAT Python implementation. It covers environmental response mechanisms, growth processes, and developmental transitions that drive strawberry crop simulation.\n\nFor information about the overall model architecture and state management, see [Model Architecture](#2.1). For details about input parameters that control these processes, see [Input Parameters and Configuration](#2.3).\n\n## Process Overview\n\nThe strawberryDSSAT model simulates plant processes through a collection of specialized functions that respond to environmental conditions and internal plant state. These processes are integrated within the daily simulation cycle to predict plant growth and development.\n\n```mermaid\ngraph TB\n    subgraph \"Environmental Drivers\"\n        Weather[\"Weather Data\"]\n        Soil[\"Soil Properties\"]\n        Location[\"Site Location\"]\n    end\n    \n    subgraph \"Environmental Response Processes\"\n        CalcDaylength[\"_calc_daylength()\"]\n        ThermalTime[\"_thermal_time()\"]\n        Photosynthesis[\"_photosynthesis()\"]\n        Transpiration[\"_transpiration()\"]\n        WaterStress[\"_water_stress()\"]\n    end\n    \n    subgraph \"Growth Processes\"\n        MaintResp[\"_maintenance_resp()\"]\n        BiomassPartition[\"partition_biomass()\"]\n        UpdatePhenology[\"update_phenology()\"]\n    end\n    \n    subgraph \"Plant Structure Updates\"\n        UpdateRunners[\"update_runners()\"]\n        UpdateCrowns[\"update_crowns()\"]\n        UpdateFruits[\"update_fruits()\"]\n    end\n    \n    Weather --\u003e CalcDaylength\n    Weather --\u003e ThermalTime\n    Weather --\u003e Photosynthesis\n    Weather --\u003e Transpiration\n    Weather --\u003e WaterStress\n    Location --\u003e CalcDaylength\n    Soil --\u003e WaterStress\n    \n    ThermalTime --\u003e UpdatePhenology\n    Photosynthesis --\u003e BiomassPartition\n    MaintResp --\u003e BiomassPartition\n    \n    UpdatePhenology --\u003e BiomassPartition\n    UpdatePhenology --\u003e UpdateRunners\n    UpdatePhenology --\u003e UpdateCrowns\n    UpdatePhenology --\u003e UpdateFruits\n```\n\n**Sources:** [cropgro-strawberry-implementation.py:1-745]()\n\n## Environmental Response Processes\n\n### Daylength Calculation\n\nThe `_calc_daylength()` function computes photoperiod based on site latitude and day of year. This affects plant development timing and photoperiodic responses.\n\n```mermaid\nflowchart TD\n    Input1[\"latitude (degrees)\"]\n    Input2[\"day_of_year (1-366)\"]\n    \n    Calc1[\"declination = 23.45 * sin(360 * (doy - 80) / 365)\"]\n    Calc2[\"lat_rad = deg2rad(latitude)\"]\n    Calc3[\"term = -tan(lat_rad) * tan(deg2rad(declination))\"]\n    \n    Decision1{\"term \u003e= 1.0?\"}\n    Decision2{\"term \u003c= -1.0?\"}\n    \n    Output1[\"return 0.0 (polar night)\"]\n    Output2[\"return 24.0 (polar day)\"]\n    Output3[\"return 24.0 * arccos(term) / π\"]\n    \n    Input1 --\u003e Calc2\n    Input2 --\u003e Calc1\n    Calc1 --\u003e Calc3\n    Calc2 --\u003e Calc3\n    Calc3 --\u003e Decision1\n    \n    Decision1 --\u003e|Yes| Output1\n    Decision1 --\u003e|No| Decision2\n    Decision2 --\u003e|Yes| Output2\n    Decision2 --\u003e|No| Output3\n```\n\n**Sources:** [cropgro-strawberry-implementation.py:38-55]()\n\n### Thermal Time Accumulation\n\nThe `_thermal_time()` function calculates daily heat unit accumulation using a cardinal temperature model with base, optimal, and maximum threshold temperatures.\n\n| Temperature Range | Response Function |\n|------------------|-------------------|\n| T ≤ T_base | No accumulation (0.0) |\n| T_base \u003c T ≤ T_opt | Linear increase (T - T_base) |\n| T_opt \u003c T ≤ T_max | Linear decrease from optimum |\n| T \u003e T_max | No accumulation (0.0) |\n\n**Sources:** [cropgro-strawberry-implementation.py:57-70]()\n\n### Photosynthesis\n\nThe `_photosynthesis()` function estimates daily carbon assimilation based on radiation use efficiency, temperature response, CO2 effects, and light interception.\n\n```mermaid\ngraph LR\n    subgraph \"Input Factors\"\n        SolarRad[\"solar_radiation\"]\n        TempMax[\"tmax\"]\n        TempMin[\"tmin\"]\n        RUE[\"rue (radiation use efficiency)\"]\n        LAI[\"lai (leaf area index)\"]\n        CO2[\"co2 concentration\"]\n    end\n    \n    subgraph \"Response Functions\"\n        TempEffect[\"temp_effect = (tavg - tbase) / (topt - tbase)\"]\n        CO2Effect[\"co2_effect = 1.0 + 0.11 * ln(co2/400)\"]\n        LightInterception[\"light_interception = 1 - exp(-k_light * lai)\"]\n    end\n    \n    subgraph \"Output\"\n        Photosynthesis[\"Daily photosynthesis (g CH2O/m²)\"]\n    end\n    \n    TempMax --\u003e TempEffect\n    TempMin --\u003e TempEffect\n    CO2 --\u003e CO2Effect\n    LAI --\u003e LightInterception\n    \n    SolarRad --\u003e Photosynthesis\n    RUE --\u003e Photosynthesis\n    TempEffect --\u003e Photosynthesis\n    CO2Effect --\u003e Photosynthesis\n    LightInterception --\u003e Photosynthesis\n```\n\n**Sources:** [cropgro-strawberry-implementation.py:72-86]()\n\n### Transpiration\n\nThe `_transpiration()` function computes potential water loss using a simplified Penman-Monteith approach with crop coefficient adjustment based on canopy development.\n\n**Sources:** [cropgro-strawberry-implementation.py:88-100]()\n\n### Water Stress\n\nThe `_water_stress()` function determines stress intensity from soil water balance, comparing water demand against availability within the root zone.\n\n**Sources:** [cropgro-strawberry-implementation.py:102-118]()\n\n## Growth and Development Processes\n\n### Maintenance Respiration\n\nThe `_maintenance_resp()` function calculates respiratory carbon costs for maintaining existing plant tissues using Q10 temperature response and organ-specific respiration rates.\n\n| Plant Organ | Base Respiration Rate |\n|-------------|----------------------|\n| Leaves | 0.030 per gram biomass |\n| Stems | 0.015 per gram biomass |\n| Roots | 0.010 per gram biomass |\n| Fruits | 0.010 per gram biomass |\n\nTemperature factor: `2.0^((tavg - 20.0) / 10.0)`\n\n**Sources:** [cropgro-strawberry-implementation.py:120-133]()\n\n### Biomass Partitioning\n\nThe `partition_biomass()` method allocates daily net photosynthate to plant organs based on phenological stage using predefined partitioning coefficients.\n\n```mermaid\ngraph TD\n    subgraph \"Phenological Stages\"\n        Early[\"GERMINATION, EMERGENCE, JUVENILE\"]\n        Vegetative[\"VEGETATIVE, FLORAL_INDUCTION\"]\n        Flowering[\"FLOWERING\"]\n        Reproductive[\"FRUIT_SET, FRUIT_DEVELOPMENT\"]\n        Maturity[\"FRUIT_MATURITY\"]\n        Senescence[\"SENESCENCE\"]\n    end\n    \n    subgraph \"Partitioning Coefficients\"\n        EarlyCoeff[\"Root: 0.4, Leaf: 0.4, Stem: 0.2, Fruit: 0.0\"]\n        VegCoeff[\"Root: 0.2, Leaf: 0.5, Stem: 0.3, Fruit: 0.0\"]\n        FlowerCoeff[\"Root: 0.1, Leaf: 0.4, Stem: 0.3, Fruit: 0.2\"]\n        ReproCoeff[\"Root: 0.05, Leaf: 0.25, Stem: 0.2, Fruit: 0.5\"]\n        MaturityCoeff[\"Root: 0.0, Leaf: 0.1, Stem: 0.1, Fruit: 0.8\"]\n        SenCoeff[\"Root: 0.0, Leaf: 0.0, Stem: 0.0, Fruit: 0.0\"]\n    end\n    \n    subgraph \"Updates\"\n        BiomassUpdate[\"Update organ biomass\"]\n        LAIUpdate[\"Update LAI using SLA\"]\n        RootDepthUpdate[\"Update root depth\"]\n    end\n    \n    Early --\u003e EarlyCoeff\n    Vegetative --\u003e VegCoeff\n    Flowering --\u003e FlowerCoeff\n    Reproductive --\u003e ReproCoeff\n    Maturity --\u003e MaturityCoeff\n    Senescence --\u003e SenCoeff\n    \n    EarlyCoeff --\u003e BiomassUpdate\n    VegCoeff --\u003e BiomassUpdate\n    FlowerCoeff --\u003e BiomassUpdate\n    ReproCoeff --\u003e BiomassUpdate\n    MaturityCoeff --\u003e BiomassUpdate\n    SenCoeff --\u003e BiomassUpdate\n    \n    BiomassUpdate --\u003e LAIUpdate\n    BiomassUpdate --\u003e RootDepthUpdate\n```\n\n**Sources:** [cropgro-strawberry-implementation.py:306-387]()\n\n### Phenological Development\n\nThe `update_phenology()` method advances plant development stage based on accumulated thermal time thresholds defined in the `phenology_stages` dictionary.\n\n| Development Stage | Thermal Time Threshold (°C-days) |\n|------------------|----------------------------------|\n| GERMINATION | 0 |\n| EMERGENCE | 50 |\n| JUVENILE | 100 |\n| VEGETATIVE | 200 |\n| FLORAL_INDUCTION | 400 |\n| FLOWERING | 600 |\n| FRUIT_SET | 700 |\n| FRUIT_DEVELOPMENT | 800 |\n| FRUIT_MATURITY | 1000 |\n| SENESCENCE | 1500 |\n\n**Sources:** [cropgro-strawberry-implementation.py:224-245](), [cropgro-strawberry-implementation.py:169-181]()\n\n## Plant Structure Updates\n\n### Runner Development\n\nThe `update_runners()` method simulates asexual reproduction through stolon production during vigorous vegetative growth periods.\n\n**Sources:** [cropgro-strawberry-implementation.py:388-394]()\n\n### Crown Development\n\nThe `update_crowns()` method models plant branching and crown multiplication during active growth phases.\n\n**Sources:** [cropgro-strawberry-implementation.py:395-401]()\n\n### Fruit Development\n\nThe `update_fruits()` method tracks fruit initiation and number progression based on crown capacity and developmental timing.\n\n**Sources:** [cropgro-strawberry-implementation.py:402-414]()\n\n## Process Integration\n\nAll plant processes integrate within the `simulate_day()` method, which orchestrates the daily sequence of calculations and state updates.\n\n```mermaid\nsequenceDiagram\n    participant SD as \"simulate_day()\"\n    participant ENV as \"Environmental Processes\"\n    participant GROWTH as \"Growth Processes\"\n    participant STRUCT as \"Structure Updates\"\n    participant STATE as \"PlantState\"\n    \n    SD-\u003e\u003eENV: calculate_daylength()\n    SD-\u003e\u003eENV: calculate_thermal_time()\n    SD-\u003e\u003eENV: update_phenology()\n    SD-\u003e\u003eENV: calculate_photosynthesis()\n    SD-\u003e\u003eENV: calculate_transpiration()\n    SD-\u003e\u003eENV: calculate_water_stress()\n    SD-\u003e\u003eGROWTH: calculate_maintenance_respiration()\n    SD-\u003e\u003eGROWTH: partition_biomass()\n    SD-\u003e\u003eSTRUCT: update_runners()\n    SD-\u003e\u003eSTRUCT: update_crowns()\n    SD-\u003e\u003eSTRUCT: update_fruits()\n    SD-\u003e\u003eSTATE: Store daily results\n```\n\n**Sources:** [cropgro-strawberry-implementation.py:415-506]()"])</script><script>self.__next_f.push([1,"1e:T2bf0,"])</script><script>self.__next_f.push([1,"# Input Parameters and Configuration\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [README.md](README.md)\n- [cropgro-strawberry-implementation.py](cropgro-strawberry-implementation.py)\n\n\u003c/details\u003e\n\n\n\nThis page documents the input parameters, configuration dictionaries, and data formats required to initialize and run the CROPGRO-Strawberry Python model. It covers the four main parameter categories: geographic/temporal settings, soil properties, cultivar characteristics, and weather data specifications.\n\nFor information about the model's internal architecture and how these parameters are used during simulation, see [Model Architecture](#2.1). For details about plant physiological processes that utilize these parameters, see [Plant Processes](#2.2).\n\n## Parameter Categories Overview\n\nThe `CropgroStrawberry` class requires four distinct parameter categories for initialization, each serving specific roles in the growth simulation.\n\n```mermaid\ngraph TD\n    Init[\"CropgroStrawberry.__init__()\"] --\u003e Geo[\"Geographic Parameters\u003cbr/\u003elatitude, planting_date\"]\n    Init --\u003e Soil[\"Soil Properties Dictionary\u003cbr/\u003esoil_properties\"]\n    Init --\u003e Cultivar[\"Cultivar Parameters Dictionary\u003cbr/\u003ecultivar_params\"]\n    Init --\u003e Weather[\"Weather Data DataFrame\u003cbr/\u003eweather_data_df\"]\n    \n    Geo --\u003e CalcDay[\"_calc_daylength()\"]\n    Soil --\u003e WaterStress[\"_water_stress()\"]\n    Cultivar --\u003e ThermalTime[\"_thermal_time()\"]\n    Cultivar --\u003e Photosynthesis[\"_photosynthesis()\"]\n    Weather --\u003e SimulateDay[\"simulate_day()\"]\n    \n    CalcDay --\u003e DailyProcesses[\"Daily Growth Processes\"]\n    WaterStress --\u003e DailyProcesses\n    ThermalTime --\u003e DailyProcesses  \n    Photosynthesis --\u003e DailyProcesses\n    SimulateDay --\u003e DailyProcesses\n```\n\nSources: [cropgro-strawberry-implementation.py:142-161](), [cropgro-strawberry-implementation.py:554-588]()\n\n## Geographic and Temporal Parameters\n\n### Latitude Configuration\n\nThe `latitude` parameter controls daylength calculations throughout the growing season using the `_calc_daylength` function.\n\n| Parameter | Type | Units | Range | Purpose |\n|-----------|------|-------|-------|---------|\n| `latitude` | float | decimal degrees | -90 to 90 | Solar angle calculations for photoperiod |\n\n### Planting Date Specification\n\nThe `planting_date` parameter establishes the simulation start point and is used for day-of-year calculations.\n\n| Parameter | Type | Format | Example | Purpose |\n|-----------|------|--------|---------|---------|\n| `planting_date` | str | 'YYYY-MM-DD' | '2023-05-01' | Simulation timeline reference |\n\nSources: [cropgro-strawberry-implementation.py:142-161](), [cropgro-strawberry-implementation.py:186-200]()\n\n## Soil Properties Configuration\n\nThe `soil_properties` dictionary contains three required keys that define the soil water holding characteristics and rooting environment.\n\n```mermaid\ngraph LR\n    SoilDict[\"soil_properties dict\"] --\u003e MaxDepth[\"max_root_depth\u003cbr/\u003e(cm)\"]\n    SoilDict --\u003e FieldCap[\"field_capacity\u003cbr/\u003e(mm/m)\"]\n    SoilDict --\u003e WiltPoint[\"wilting_point\u003cbr/\u003e(mm/m)\"]\n    \n    MaxDepth --\u003e RootGrowth[\"Root depth limitation\u003cbr/\u003epartition_biomass()\"]\n    FieldCap --\u003e WaterCalc[\"Available water calculation\u003cbr/\u003e_water_stress()\"]\n    WiltPoint --\u003e WaterCalc\n    \n    WaterCalc --\u003e StressFactor[\"Water stress factor\u003cbr/\u003esimulate_day()\"]\n```\n\n### Soil Parameter Specifications\n\n| Key | Type | Units | Typical Range | Purpose |\n|-----|------|-------|---------------|---------|\n| `max_root_depth` | float | centimeters | 30-100 | Maximum rooting depth constraint |\n| `field_capacity` | float | mm/m | 150-350 | Soil water holding capacity at field capacity |\n| `wilting_point` | float | mm/m | 50-150 | Soil water content at permanent wilting point |\n\n### Example Soil Configuration\n\n```python\nsoil_properties = {\n    'max_root_depth': 50.0,   # cm - typical for strawberry production\n    'field_capacity': 200.0,  # mm/m - medium-textured soil\n    'wilting_point': 50.0,    # mm/m - available water = 150 mm/m\n}\n```\n\nSources: [cropgro-strawberry-implementation.py:654-659](), [cropgro-strawberry-implementation.py:508-527](), [cropgro-strawberry-implementation.py:102-118]()\n\n## Cultivar Parameters Configuration\n\nThe `cultivar_params` dictionary defines cultivar-specific physiological characteristics that control growth rates, temperature responses, and morphological traits.\n\n```mermaid\ngraph TB\n    CultivarDict[\"cultivar_params dict\"] --\u003e TempParams[\"Temperature Response\"]\n    CultivarDict --\u003e GrowthParams[\"Growth Characteristics\"] \n    CultivarDict --\u003e MorphParams[\"Morphological Traits\"]\n    \n    TempParams --\u003e TBase[\"tbase\u003cbr/\u003eBase temperature (°C)\"]\n    TempParams --\u003e TOpt[\"topt\u003cbr/\u003eOptimal temperature (°C)\"]\n    TempParams --\u003e TMax[\"tmax_th\u003cbr/\u003eMaximum threshold (°C)\"]\n    \n    GrowthParams --\u003e RUE[\"rue\u003cbr/\u003eRadiation use efficiency (g/MJ)\"]\n    GrowthParams --\u003e KLight[\"k_light\u003cbr/\u003eLight extinction coefficient\"]\n    \n    MorphParams --\u003e SLA[\"sla\u003cbr/\u003eSpecific leaf area (m²/g)\"]\n    MorphParams --\u003e FruitPot[\"potential_fruits_per_crown\u003cbr/\u003eMaximum fruits per crown\"]\n    \n    TBase --\u003e ThermalTimeCalc[\"_thermal_time()\"]\n    TOpt --\u003e ThermalTimeCalc\n    TMax --\u003e ThermalTimeCalc\n    \n    RUE --\u003e PhotosynthesisCalc[\"_photosynthesis()\"]\n    KLight --\u003e PhotosynthesisCalc\n    SLA --\u003e BiomassPartition[\"partition_biomass()\"]\n```\n\n### Cultivar Parameter Specifications\n\n| Key | Type | Units | Typical Range | Function Usage |\n|-----|------|-------|---------------|----------------|\n| `tbase` | float | °C | 2-6 | `_thermal_time()` base temperature |\n| `topt` | float | °C | 20-25 | `_thermal_time()` optimal temperature |\n| `tmax_th` | float | °C | 30-40 | `_thermal_time()` maximum threshold |\n| `rue` | float | g/MJ | 1.5-3.5 | `_photosynthesis()` radiation conversion |\n| `k_light` | float | dimensionless | 0.4-0.8 | `_photosynthesis()` light interception |\n| `sla` | float | m²/g | 0.015-0.025 | `partition_biomass()` leaf area calculation |\n| `potential_fruits_per_crown` | float | number | 5-15 | `update_fruits()` fruit initiation |\n\n### Example Cultivar Configuration\n\n```python\ncultivar_params = {\n    'name': 'Albion',           # Cultivar identifier\n    'tbase': 4.0,               # Base temperature for development\n    'topt': 22.0,               # Optimal temperature for growth\n    'tmax_th': 35.0,            # Heat stress threshold\n    'rue': 2.5,                 # Radiation use efficiency\n    'k_light': 0.6,             # Light extinction in canopy\n    'sla': 0.02,                # Specific leaf area\n    'potential_fruits_per_crown': 10.0  # Reproductive capacity\n}\n```\n\nSources: [cropgro-strawberry-implementation.py:661-671](), [cropgro-strawberry-implementation.py:57-70](), [cropgro-strawberry-implementation.py:72-86]()\n\n## Weather Data Format\n\nThe `simulate_growth()` method requires a pandas DataFrame with standardized column names and units for daily weather inputs.\n\n```mermaid\ngraph LR\n    WeatherDF[\"weather_data_df\u003cbr/\u003epandas.DataFrame\"] --\u003e DateCol[\"date\u003cbr/\u003eYYYY-MM-DD\"]\n    WeatherDF --\u003e TempCols[\"Temperature Columns\"]\n    WeatherDF --\u003e RadCol[\"solar_radiation\u003cbr/\u003eMJ/m²\"]\n    WeatherDF --\u003e PrecipCol[\"rainfall\u003cbr/\u003emm\"]\n    WeatherDF --\u003e HumidCol[\"rh\u003cbr/\u003e%\"]\n    WeatherDF --\u003e WindCol[\"wind_speed\u003cbr/\u003em/s\"]\n    \n    TempCols --\u003e TMax[\"tmax\u003cbr/\u003e°C\"]\n    TempCols --\u003e TMin[\"tmin\u003cbr/\u003e°C\"]\n    \n    DateCol --\u003e DayOfYear[\"Day of year calculation\u003cbr/\u003esimulate_day()\"]\n    TMax --\u003e ThermalTimeDaily[\"Daily thermal time\u003cbr/\u003ecalculate_thermal_time()\"]\n    TMin --\u003e ThermalTimeDaily\n    RadCol --\u003e PhotosynthesisDaily[\"Daily photosynthesis\u003cbr/\u003ecalculate_photosynthesis()\"]\n    PrecipCol --\u003e WaterStressDaily[\"Water stress calculation\u003cbr/\u003ecalculate_water_stress()\"]\n    HumidCol --\u003e TranspirationDaily[\"Daily transpiration\u003cbr/\u003ecalculate_transpiration()\"]\n    WindCol --\u003e TranspirationDaily\n```\n\n### Weather Data Column Specifications\n\n| Column | Type | Units | Valid Range | Required | Purpose |\n|--------|------|-------|-------------|----------|---------|\n| `date` | str | 'YYYY-MM-DD' | Valid dates | Yes | Temporal reference |\n| `tmax` | float | °C | -50 to 60 | Yes | Maximum daily temperature |\n| `tmin` | float | °C | -50 to 60 | Yes | Minimum daily temperature |\n| `solar_radiation` | float | MJ/m² | 0 to 50 | Yes | Daily solar radiation |\n| `rainfall` | float | mm | 0 to 500 | Yes | Daily precipitation |\n| `rh` | float | % | 0 to 100 | Yes | Relative humidity |\n| `wind_speed` | float | m/s | 0 to 30 | Yes | Wind speed |\n\n### Weather Data Processing Flow\n\nThe weather DataFrame is processed row-by-row in the `simulate_growth()` method using `itertuples()` for performance optimization.\n\n```python\n# Example weather data structure from run_example_simulation()\nweather_df = pd.DataFrame({\n    'date': ['2023-05-01', '2023-05-02', ...],\n    'tmax': [25.3, 27.1, ...],\n    'tmin': [12.4, 14.2, ...],\n    'solar_radiation': [18.5, 20.1, ...],\n    'rainfall': [0.0, 2.3, ...],\n    'rh': [68.5, 72.1, ...],\n    'wind_speed': [2.1, 1.8, ...]\n})\n```\n\nSources: [cropgro-strawberry-implementation.py:554-588](), [cropgro-strawberry-implementation.py:705-714](), [cropgro-strawberry-implementation.py:415-506]()\n\n## Parameter Integration and Validation\n\n### Initialization Parameter Flow\n\nThe model constructor validates and stores parameters in instance variables for use throughout the simulation lifecycle.\n\n```mermaid\ngraph TD\n    Constructor[\"CropgroStrawberry.__init__()\"] --\u003e ValidateInputs[\"Input Validation\"]\n    ValidateInputs --\u003e StoreParams[\"Parameter Storage\"]\n    \n    StoreParams --\u003e SelfLatitude[\"self.latitude\"]\n    StoreParams --\u003e SelfPlantingDate[\"self.planting_date\u003cbr/\u003edatetime object\"]\n    StoreParams --\u003e SelfSoil[\"self.soil\"]\n    StoreParams --\u003e SelfCultivar[\"self.cultivar\"]\n    \n    StoreParams --\u003e InitializeState[\"Initialize Plant State\"]\n    InitializeState --\u003e PlantStateObj[\"self.plant_state\u003cbr/\u003ePlantState dataclass\"]\n    InitializeState --\u003e ThermalTimeAcc[\"self.thermal_time = 0.0\"]\n    InitializeState --\u003e PhenologyStages[\"self.phenology_stages dict\"]\n    InitializeState --\u003e ResultsStorage[\"self.results = []\"]\n    \n    SelfLatitude --\u003e DaylengthCalcs[\"Daylength calculations\"]\n    SelfSoil --\u003e WaterBalance[\"Water balance calculations\"]\n    SelfCultivar --\u003e PhysiologicalProcesses[\"Growth and development\"]\n```\n\n### Default Values and Constraints\n\nThe model does not implement extensive input validation, but relies on sensible parameter ranges and the numerical stability of underlying functions like `_thermal_time()` and `_photosynthesis()`.\n\n| Parameter Category | Constraint Handling | Default Behavior |\n|--------------------|--------------------| -----------------|\n| Geographic | Latitude clamped in `_calc_daylength()` | Returns 0 or 24 hours for extreme values |\n| Soil Properties | No explicit validation | User responsibility for valid ranges |\n| Cultivar Parameters | Temperature bounds in `_thermal_time()` | Returns 0 for invalid temperature ranges |\n| Weather Data | DataFrame column validation | Runtime errors for missing columns |\n\nSources: [cropgro-strawberry-implementation.py:142-184](), [cropgro-strawberry-implementation.py:38-55](), [cropgro-strawberry-implementation.py:22-37]()"])</script><script>self.__next_f.push([1,"1f:T1f6a,"])</script><script>self.__next_f.push([1,"# Testing Framework\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [AGENTS.md](AGENTS.md)\n- [cropgro-strawberry-test1.py](cropgro-strawberry-test1.py)\n\n\u003c/details\u003e\n\n\n\nThis document covers the comprehensive unit testing infrastructure for the Python CROPGRO strawberry model implementation. The testing framework validates model functionality through systematic testing of individual components, physiological processes, and complete simulation runs.\n\nFor information about validation against the Fortran DSSAT implementation, see [Model Comparison Tools](#4.1). For integration testing and full pipeline validation, see [Validation Pipeline](#4.3).\n\n## Test Suite Architecture\n\nThe testing framework is built around Python's `unittest` module and provides comprehensive coverage of the strawberry crop model components. The main test file contains both the test suite and a simplified version of the model class for self-contained testing.\n\n```mermaid\ngraph TD\n    TestSuite[\"TestCropgroStrawberry Class\"] --\u003e TestInit[\"test_initialization()\"]\n    TestSuite --\u003e TestCalc[\"test_daylength_calculation()\"]\n    TestSuite --\u003e TestThermal[\"test_thermal_time_calculation()\"]\n    TestSuite --\u003e TestPhenology[\"test_phenology_update()\"]\n    TestSuite --\u003e TestPhoto[\"test_photosynthesis_calculation()\"]\n    TestSuite --\u003e TestTransp[\"test_transpiration_calculation()\"]\n    TestSuite --\u003e TestBiomass[\"test_biomass_partitioning()\"]\n    TestSuite --\u003e TestWater[\"test_water_stress_calculation()\"]\n    TestSuite --\u003e TestResp[\"test_maintenance_respiration()\"]\n    TestSuite --\u003e TestSingleDay[\"test_single_day_simulation()\"]\n    TestSuite --\u003e TestFullSim[\"test_full_simulation()\"]\n    TestSuite --\u003e TestPlot[\"test_plotting()\"]\n    TestSuite --\u003e TestIO[\"test_model_inputs_outputs()\"]\n    \n    TestSuite --\u003e SetUp[\"setUp() Method\"]\n    SetUp --\u003e SoilProps[\"soil_properties Dict\"]\n    SetUp --\u003e CultivarParams[\"cultivar_params Dict\"]\n    SetUp --\u003e WeatherData[\"weather_df DataFrame\"]\n    SetUp --\u003e ModelInit[\"CropgroStrawberry Instance\"]\n    \n    RunTestSuite[\"run_test_suite() Function\"] --\u003e TestLoader[\"unittest.TestLoader\"]\n    RunTestSuite --\u003e TextTestRunner[\"unittest.TextTestRunner\"]\n```\n\n**Sources:** [cropgro-strawberry-test1.py:453-811]()\n\n## Test Categories\n\nThe test suite is organized into several categories that systematically validate different aspects of the crop model:\n\n### Model Initialization Tests\n\n| Test Method | Purpose | Key Assertions |\n|-------------|---------|----------------|\n| `test_initialization()` | Validates proper model setup | Latitude, planting date, soil properties, initial plant state |\n\n### Calculation Method Tests\n\n| Test Method | Target Function | Validation Focus |\n|-------------|----------------|------------------|\n| `test_daylength_calculation()` | `calculate_daylength()` | Seasonal variation, latitude effects |\n| `test_thermal_time_calculation()` | `calculate_thermal_time()` | Temperature thresholds, degree-day accumulation |\n| `test_photosynthesis_calculation()` | `calculate_photosynthesis()` | Light response, temperature effects, CO2 enrichment |\n| `test_transpiration_calculation()` | `calculate_transpiration()` | Evapotranspiration estimation, canopy scaling |\n\n### Physiological Process Tests\n\n```mermaid\ngraph LR\n    PhysioTests[\"Physiological Process Tests\"] --\u003e PhenologyTest[\"test_phenology_update()\"]\n    PhysioTests --\u003e BiomassTest[\"test_biomass_partitioning()\"]\n    PhysioTests --\u003e WaterStressTest[\"test_water_stress_calculation()\"]\n    PhysioTests --\u003e RespTest[\"test_maintenance_respiration()\"]\n    \n    PhenologyTest --\u003e ThermalTime[\"thermal_time Accumulation\"]\n    PhenologyTest --\u003e StageTransition[\"phenological_stage Updates\"]\n    \n    BiomassTest --\u003e OrganGrowth[\"root_biomass, leaf_biomass, stem_biomass, fruit_biomass\"]\n    BiomassTest --\u003e LAIUpdate[\"leaf_area_index Calculation\"]\n    \n    WaterStressTest --\u003e SoilWater[\"field_capacity, wilting_point\"]\n    WaterStressTest --\u003e RootZone[\"root_depth Effects\"]\n    \n    RespTest --\u003e TempResponse[\"Q10 Temperature Effect\"]\n    RespTest --\u003e BiomassScaling[\"Organ-specific Coefficients\"]\n```\n\n**Sources:** [cropgro-strawberry-test1.py:551-661]()\n\n### Integration Tests\n\n| Test Method | Scope | Validation |\n|-------------|-------|------------|\n| `test_single_day_simulation()` | `simulate_day()` | Daily state updates, results storage |\n| `test_full_simulation()` | `simulate_growth()` | Multi-day consistency, result structure |\n| `test_plotting()` | `plot_results()` | Output visualization functionality |\n| `test_model_inputs_outputs()` | Complete workflow | Input/output data integrity |\n\n## Test Data and Fixtures\n\nThe test framework uses synthetic data generated in the `setUp()` method to ensure consistent and predictable test conditions:\n\n```mermaid\ngraph TB\n    SetUp[\"setUp() Method\"] --\u003e SoilData[\"soil_properties\"]\n    SetUp --\u003e CultivarData[\"cultivar_params\"]\n    SetUp --\u003e WeatherGen[\"Synthetic Weather Generation\"]\n    SetUp --\u003e ModelCreate[\"Model Instantiation\"]\n    \n    SoilData --\u003e MaxRootDepth[\"max_root_depth: 50.0 cm\"]\n    SoilData --\u003e FieldCap[\"field_capacity: 200.0 mm/m\"]\n    SoilData --\u003e WiltPoint[\"wilting_point: 50.0 mm/m\"]\n    \n    CultivarData --\u003e TempParams[\"tbase: 4.0°C, topt: 22.0°C, tmax_th: 35.0°C\"]\n    CultivarData --\u003e PhysioParams[\"rue: 2.5 g/MJ, k_light: 0.6, sla: 0.02 m²/g\"]\n    CultivarData --\u003e ReproParams[\"potential_fruits_per_crown: 10.0\"]\n    \n    WeatherGen --\u003e DateRange[\"pd.date_range('2023-05-01', '2023-05-10')\"]\n    WeatherGen --\u003e ConstantValues[\"tmax: 25°C, tmin: 15°C, solar: 20 MJ/m²\"]\n    \n    ModelCreate --\u003e ModelInstance[\"CropgroStrawberry(latitude=40.0, planting_date='2023-05-01')\"]\n```\n\n**Sources:** [cropgro-strawberry-test1.py:456-498]()\n\n## Test Execution and Output\n\n### Running Tests\n\nThe test suite can be executed through multiple interfaces:\n\n```bash\n# Direct execution\npython cropgro-strawberry-test1.py\n\n# Developer workflow (as mentioned in AGENTS.md)\npython cropgro-strawberry-test1.py\n```\n\nThe `run_test_suite()` function provides automated test execution with summary reporting:\n\n```mermaid\ngraph LR\n    RunTests[\"run_test_suite()\"] --\u003e LoadTests[\"unittest.TestLoader().loadTestsFromTestCase()\"]\n    LoadTests --\u003e ExecuteTests[\"unittest.TextTestRunner(verbosity=1).run()\"]\n    ExecuteTests --\u003e ResultSummary[\"Print Test Summary\"]\n    ExecuteTests --\u003e ReturnStatus[\"Return Success/Failure Boolean\"]\n    \n    ResultSummary --\u003e TestsRun[\"Tests run: N\"]\n    ResultSummary --\u003e ErrorCount[\"Errors: N\"]\n    ResultSummary --\u003e FailureCount[\"Failures: N\"]\n```\n\n**Sources:** [cropgro-strawberry-test1.py:792-806](), [AGENTS.md:30-36]()\n\n### Test Output Examples\n\nThe testing framework provides detailed output for model validation. The `test_model_inputs_outputs()` method generates comprehensive reports showing:\n\n- Model configuration parameters\n- Weather data samples\n- Plant state progression\n- Time series output comparison\n\nExample output structure includes:\n- Initial plant state: biomass, LAI, phenological stage\n- Daily simulation results: photosynthesis, transpiration, water stress\n- Final plant measurements: fruit number, crown number, root depth\n\n**Sources:** [cropgro-strawberry-test1.py:731-790]()\n\n## Test Framework Integration\n\nThe unit testing framework integrates with the broader development workflow through:\n\n### Pre-commit Validation\nTests serve as a quality gate before code commits, ensuring model functionality remains intact across development iterations.\n\n### Model Development Support\nThe simplified `CropgroStrawberry` class embedded in the test file [cropgro-strawberry-test1.py:21-451]() provides a self-contained reference implementation for testing without external dependencies.\n\n### Continuous Integration Readiness\nThe test structure supports automated execution in CI/CD pipelines through standardized unittest interfaces and boolean return values for success/failure status.\n\n**Sources:** [cropgro-strawberry-test1.py:1-815](), [AGENTS.md:30-44]()"])</script><script>self.__next_f.push([1,"20:T2aaa,"])</script><script>self.__next_f.push([1,"# Unit Tests\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [cropgro-strawberry-test1.py](cropgro-strawberry-test1.py)\n\n\u003c/details\u003e\n\n\n\nThis document describes the unit test suite for the strawberryDSSAT Python CROPGRO implementation. The test suite validates the core functionality of the `CropgroStrawberry` model class through comprehensive testing of individual methods, calculations, and simulation processes.\n\nFor information about integration testing and cross-model validation, see [Validation System](#4). For details about test data management and fixtures used across the testing framework, see [Test Data and Fixtures](#3.2).\n\n## Test Suite Architecture\n\nThe unit test framework is built around the `TestCropgroStrawberry` class which inherits from `unittest.TestCase`. The test suite is organized into logical categories that correspond to different aspects of the crop model functionality.\n\n```mermaid\ngraph TB\n    subgraph \"Test Suite Structure\"\n        TestClass[\"TestCropgroStrawberry\"]\n        \n        subgraph \"Test Categories\"\n            InitTests[\"Model Initialization Tests\"]\n            CalcTests[\"Calculation Method Tests\"]\n            PhysioTests[\"Physiological Process Tests\"]\n            SimTests[\"Simulation Tests\"]\n            ValidationTests[\"Input/Output Validation Tests\"]\n        end\n        \n        subgraph \"Test Fixtures\"\n            setUp[\"setUp()\"]\n            SoilProps[\"soil_properties\"]\n            CultivarParams[\"cultivar_params\"] \n            WeatherData[\"weather_df\"]\n            ModelInstance[\"model instance\"]\n        end\n        \n        subgraph \"Test Execution\"\n            RunSuite[\"run_test_suite()\"]\n            TestRunner[\"unittest.TextTestRunner\"]\n            Results[\"Test Results \u0026 Summary\"]\n        end\n    end\n    \n    TestClass --\u003e InitTests\n    TestClass --\u003e CalcTests\n    TestClass --\u003e PhysioTests\n    TestClass --\u003e SimTests\n    TestClass --\u003e ValidationTests\n    \n    setUp --\u003e SoilProps\n    setUp --\u003e CultivarParams\n    setUp --\u003e WeatherData\n    setUp --\u003e ModelInstance\n    \n    TestClass --\u003e setUp\n    RunSuite --\u003e TestRunner\n    TestRunner --\u003e Results\n```\n\n**Sources:** [cropgro-strawberry-test1.py:453-790]()\n\n## Test Fixtures and Setup\n\nThe `setUp` method establishes consistent test fixtures used across all test methods. This includes soil properties, cultivar parameters, synthetic weather data, and a model instance initialized with standard test values.\n\n### Test Configuration Parameters\n\n| Parameter Category | Key Parameters | Purpose |\n|-------------------|----------------|---------|\n| **Soil Properties** | `max_root_depth`, `field_capacity`, `wilting_point` | Define soil constraints for water stress calculations |\n| **Cultivar Parameters** | `tbase`, `topt`, `tmax_th`, `rue`, `k_light`, `sla` | Configure temperature responses and physiological constants |\n| **Weather Data** | Synthetic 10-day dataset with constant values | Provide predictable inputs for deterministic testing |\n| **Model Instance** | `latitude=40.0`, `planting_date='2023-05-01'` | Standard initialization for consistent test conditions |\n\n```mermaid\ngraph LR\n    subgraph \"Test Fixture Generation\"\n        setUp[\"setUp()\"] --\u003e SoilDict[\"soil_properties dict\"]\n        setUp --\u003e CultivarDict[\"cultivar_params dict\"]\n        setUp --\u003e WeatherDF[\"weather_df DataFrame\"]\n        setUp --\u003e ModelInit[\"CropgroStrawberry instance\"]\n        \n        SoilDict --\u003e TestMethods[\"Individual Test Methods\"]\n        CultivarDict --\u003e TestMethods\n        WeatherDF --\u003e TestMethods\n        ModelInit --\u003e TestMethods\n    end\n    \n    subgraph \"Synthetic Data\"\n        ConstantTemp[\"Constant Temperatures\u003cbr/\u003etmax=25°C, tmin=15°C\"]\n        ConstantRadiation[\"Solar Radiation: 20 MJ/m²/day\"]\n        ConstantRain[\"Rainfall: 5mm/day\"]\n        ConstantHumidity[\"RH: 70%, Wind: 2m/s\"]\n    end\n    \n    WeatherDF --\u003e ConstantTemp\n    WeatherDF --\u003e ConstantRadiation\n    WeatherDF --\u003e ConstantRain\n    WeatherDF --\u003e ConstantHumidity\n```\n\n**Sources:** [cropgro-strawberry-test1.py:456-499]()\n\n## Core Test Categories\n\n### Initialization Tests\n\nThe `test_initialization` method validates proper model setup and initial state configuration.\n\n**Validated Components:**\n- Latitude and planting date parsing\n- Soil and cultivar parameter assignment\n- Initial plant state values (`biomass=0.0`, `leaf_area_index=0.1`, `phenological_stage='GERMINATION'`)\n- Days after planting counter initialization\n\n**Sources:** [cropgro-strawberry-test1.py:500-519]()\n\n### Environmental Calculation Tests\n\nThese tests verify the accuracy of fundamental environmental and physiological calculations:\n\n#### Daylength Calculation Tests\n- `test_daylength_calculation`: Tests `calculate_daylength` method using summer and winter solstice values\n- Validates seasonal variation in daylength at specified latitude\n- Checks reasonable bounds (14-15 hours summer, 9-10 hours winter at 40°N)\n\n#### Thermal Time Tests  \n- `test_thermal_time_calculation`: Tests `calculate_thermal_time` method across temperature ranges\n- Validates trapezoidal temperature response function\n- Checks boundary conditions (below `tbase`, above `tmax_th`)\n\n**Sources:** [cropgro-strawberry-test1.py:521-549]()\n\n### Physiological Process Tests\n\n#### Phenology Tests\n- `test_phenology_update`: Validates `update_phenology` method progression through growth stages\n- Tests thermal time accumulation and stage transitions\n- Verifies progression from `GERMINATION` → `EMERGENCE` → `JUVENILE`\n\n#### Photosynthesis Tests\n- `test_photosynthesis_calculation`: Tests `calculate_photosynthesis` method responses\n- Validates light, temperature, and CO2 effects on photosynthesis rates\n- Checks radiation use efficiency and light interception calculations\n\n#### Transpiration Tests\n- `test_transpiration_calculation`: Tests `calculate_transpiration` method\n- Validates Hargreaves equation implementation and crop coefficient scaling\n- Tests response to weather conditions and canopy development\n\n**Sources:** [cropgro-strawberry-test1.py:551-597]()\n\n### Biomass and Growth Tests\n\n#### Biomass Partitioning Tests\n- `test_biomass_partitioning`: Tests `partition_biomass` method allocation\n- Validates organ-specific biomass distribution based on phenological stage\n- Checks mass balance and leaf area index updates\n\n#### Water Stress Tests\n- `test_water_stress_calculation`: Tests `calculate_water_stress` method\n- Validates soil water availability and deficit calculations\n- Tests stress factor responses to rainfall and transpiration balance\n\n#### Maintenance Respiration Tests\n- `test_maintenance_respiration`: Tests temperature-dependent respiration calculation\n- Validates Q10 temperature response and organ-specific coefficients\n- Tests respiration scaling with biomass accumulation\n\n**Sources:** [cropgro-strawberry-test1.py:599-660]()\n\n## Simulation Integration Tests\n\n### Single Day Simulation\nThe `test_single_day_simulation` method tests the `simulate_day` method which integrates all daily processes:\n\n```mermaid\ngraph TB\n    subgraph \"Single Day Simulation Test Flow\"\n        WeatherInput[\"Weather Input Dictionary\"]\n        SimulateDay[\"simulate_day() method\"]\n        \n        subgraph \"Validated Processes\"\n            DaylengthCalc[\"calculate_daylength()\"]\n            ThermalTime[\"calculate_thermal_time()\"]\n            Phenology[\"update_phenology()\"]\n            Photosynthesis[\"calculate_photosynthesis()\"]\n            Transpiration[\"calculate_transpiration()\"]\n            WaterStress[\"calculate_water_stress()\"]\n            MaintenanceResp[\"calculate_maintenance_respiration()\"]\n            BiomassPartition[\"partition_biomass()\"]\n            UpdateRunners[\"update_runners()\"]\n            UpdateCrowns[\"update_crowns()\"]\n            UpdateFruits[\"update_fruits()\"]\n        end\n        \n        subgraph \"Test Validations\"\n            DapIncrement[\"Days After Planting +1\"]\n            ResultsStorage[\"Results List Updated\"]\n            BiomassIncrease[\"Biomass \u003e Initial Value\"]\n        end\n    end\n    \n    WeatherInput --\u003e SimulateDay\n    SimulateDay --\u003e DaylengthCalc\n    SimulateDay --\u003e ThermalTime\n    SimulateDay --\u003e Phenology\n    SimulateDay --\u003e Photosynthesis\n    SimulateDay --\u003e Transpiration\n    SimulateDay --\u003e WaterStress\n    SimulateDay --\u003e MaintenanceResp\n    SimulateDay --\u003e BiomassPartition\n    SimulateDay --\u003e UpdateRunners\n    SimulateDay --\u003e UpdateCrowns\n    SimulateDay --\u003e UpdateFruits\n    \n    SimulateDay --\u003e DapIncrement\n    SimulateDay --\u003e ResultsStorage\n    SimulateDay --\u003e BiomassIncrease\n```\n\n**Sources:** [cropgro-strawberry-test1.py:662-689]()\n\n### Full Simulation Tests\nThe `test_full_simulation` method validates the complete `simulate_growth` method:\n\n- Tests multi-day simulation execution across the 10-day weather dataset\n- Validates results DataFrame structure and required columns\n- Checks biomass and thermal time accumulation over time\n- Verifies output data types and consistency\n\n**Sources:** [cropgro-strawberry-test1.py:691-711]()\n\n## Test Execution and Utilities\n\n### Test Runner Implementation\nThe `run_test_suite` function provides a custom test runner with summary reporting:\n\n```python\ndef run_test_suite():\n    suite = unittest.TestLoader().loadTestsFromTestCase(TestCropgroStrawberry)\n    result = unittest.TextTestRunner(verbosity=1).run(suite)\n    # Returns boolean success status\n```\n\n### Comprehensive Model Validation\nThe `test_model_inputs_outputs` method provides detailed inspection of model behavior:\n\n- Prints complete input parameter sets\n- Displays weather data samples\n- Reports final plant state across all variables\n- Shows time series progression (first day vs. last day)\n- Validates output data types and structure\n\n**Sources:** [cropgro-strawberry-test1.py:792-811](), [cropgro-strawberry-test1.py:731-789]()\n\n## Test Coverage Matrix\n\n| Model Component | Test Methods | Coverage Areas |\n|----------------|--------------|----------------|\n| **Model Initialization** | `test_initialization` | Parameter assignment, initial state |\n| **Environmental Calculations** | `test_daylength_calculation`, `test_thermal_time_calculation` | Solar geometry, temperature responses |\n| **Plant Phenology** | `test_phenology_update` | Stage transitions, thermal time thresholds |\n| **Photosynthesis** | `test_photosynthesis_calculation` | RUE, light interception, CO2 effects |\n| **Water Relations** | `test_transpiration_calculation`, `test_water_stress_calculation` | ET calculation, stress factors |\n| **Growth Processes** | `test_biomass_partitioning`, `test_maintenance_respiration` | Organ allocation, respiration |\n| **Simulation Integration** | `test_single_day_simulation`, `test_full_simulation` | Daily processes, multi-day runs |\n| **Output Validation** | `test_plotting`, `test_model_inputs_outputs` | Results structure, data types |\n\n**Sources:** [cropgro-strawberry-test1.py:453-811]()"])</script><script>self.__next_f.push([1,"21:T2993,"])</script><script>self.__next_f.push([1,"# Test Data and Fixtures\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [cropgro-strawberry-test1.py](cropgro-strawberry-test1.py)\n\n\u003c/details\u003e\n\n\n\nThis document covers the test data setup, synthetic weather data generation, and fixture management used in the strawberryDSSAT testing framework. The test fixtures provide consistent, predictable input data for validating the Python CROPGRO-Strawberry model implementation.\n\nFor information about the actual test methods and execution, see [Unit Tests](#3.1). For model validation against the Fortran DSSAT implementation, see [Model Comparison Tools](#4.1).\n\n## Test Data Architecture\n\nThe testing framework uses a systematic approach to data fixture management, with centralized setup of all required input parameters and synthetic datasets. The `TestCropgroStrawberry` class implements comprehensive fixture initialization through the `setUp` method.\n\n```mermaid\ngraph TB\n    subgraph \"Test Fixture System\"\n        SetupMethod[\"setUp()\"]\n        \n        subgraph \"Environmental Data\"\n            WeatherDF[\"weather_df\u003cbr/\u003eSynthetic Weather Dataset\"]\n            SoilProps[\"soil_properties\u003cbr/\u003eSoil Characteristics\"]\n            LatLon[\"Geographic Parameters\u003cbr/\u003elatitude=40.0\"]\n            PlantDate[\"planting_date\u003cbr/\u003e'2023-05-01'\"]\n        end\n        \n        subgraph \"Biological Parameters\"\n            CultivarParams[\"cultivar_params\u003cbr/\u003eAlbion Cultivar Data\"]\n            TempParams[\"Temperature Thresholds\u003cbr/\u003etbase, topt, tmax_th\"]\n            PhysParams[\"Physiological Coefficients\u003cbr/\u003erue, k_light, sla\"]\n        end\n        \n        subgraph \"Model Instance\"\n            ModelInstance[\"CropgroStrawberry\u003cbr/\u003eTest Model Instance\"]\n        end\n        \n        subgraph \"Test Execution Context\"\n            TestMethods[\"Individual Test Methods\"]\n            TestRunner[\"unittest.TextTestRunner\"]\n        end\n    end\n    \n    SetupMethod --\u003e WeatherDF\n    SetupMethod --\u003e SoilProps\n    SetupMethod --\u003e CultivarParams\n    SetupMethod --\u003e LatLon\n    SetupMethod --\u003e PlantDate\n    \n    WeatherDF --\u003e ModelInstance\n    SoilProps --\u003e ModelInstance\n    CultivarParams --\u003e ModelInstance\n    LatLon --\u003e ModelInstance\n    PlantDate --\u003e ModelInstance\n    \n    ModelInstance --\u003e TestMethods\n    TestMethods --\u003e TestRunner\n```\n\nSources: [cropgro-strawberry-test1.py:453-498]()\n\n## Synthetic Weather Data Generation\n\nThe test framework generates consistent synthetic weather data to ensure predictable and reproducible test results. The weather dataset spans 10 days with constant meteorological conditions.\n\n### Weather Data Structure\n\n| Parameter | Value | Unit | Purpose |\n|-----------|-------|------|---------|\n| `tmax` | 25.0 | °C | Constant maximum temperature |\n| `tmin` | 15.0 | °C | Constant minimum temperature |\n| `solar_radiation` | 20.0 | MJ/m²/day | Constant solar radiation |\n| `rainfall` | 5.0 | mm/day | Constant precipitation |\n| `rh` | 70.0 | % | Constant relative humidity |\n| `wind_speed` | 2.0 | m/s | Constant wind speed |\n\n```mermaid\ngraph LR\n    subgraph \"Weather Data Generation Process\"\n        DateRange[\"pd.date_range()\u003cbr/\u003e2023-05-01 to 2023-05-10\"]\n        ConstantValues[\"Constant Weather Values\u003cbr/\u003etmax=25, tmin=15, solar=20\"]\n        WeatherDF[\"weather_df DataFrame\u003cbr/\u003e10 days × 7 columns\"]\n        \n        subgraph \"Weather Parameters\"\n            TempParams[\"Temperature Data\u003cbr/\u003etmax, tmin\"]\n            RadParams[\"Radiation Data\u003cbr/\u003esolar_radiation\"]\n            WaterParams[\"Water Data\u003cbr/\u003erainfall, rh\"]\n            WindParams[\"Wind Data\u003cbr/\u003ewind_speed\"]\n        end\n    end\n    \n    DateRange --\u003e WeatherDF\n    ConstantValues --\u003e TempParams\n    ConstantValues --\u003e RadParams\n    ConstantValues --\u003e WaterParams\n    ConstantValues --\u003e WindParams\n    \n    TempParams --\u003e WeatherDF\n    RadParams --\u003e WeatherDF\n    WaterParams --\u003e WeatherDF\n    WindParams --\u003e WeatherDF\n```\n\nSources: [cropgro-strawberry-test1.py:477-490]()\n\n## Soil Properties Fixture\n\nThe soil properties fixture defines the physical characteristics of the growing medium used in all test scenarios. These parameters control water availability and root zone dynamics in the model.\n\n### Soil Parameter Configuration\n\n```mermaid\ngraph TB\n    subgraph \"Soil Properties Configuration\"\n        SoilDict[\"soil_properties dict\"]\n        \n        subgraph \"Physical Properties\"\n            MaxRoot[\"max_root_depth: 50.0 cm\u003cbr/\u003eMaximum rooting depth\"]\n            FieldCap[\"field_capacity: 200.0 mm/m\u003cbr/\u003eWater holding capacity\"]\n            WiltPoint[\"wilting_point: 50.0 mm/m\u003cbr/\u003ePermanent wilting point\"]\n        end\n        \n        subgraph \"Derived Parameters\"\n            AvailWater[\"Available Water\u003cbr/\u003efield_capacity - wilting_point\"]\n            RootZone[\"Root Zone Volume\u003cbr/\u003emax_root_depth × soil_area\"]\n        end\n    end\n    \n    SoilDict --\u003e MaxRoot\n    SoilDict --\u003e FieldCap\n    SoilDict --\u003e WiltPoint\n    \n    FieldCap --\u003e AvailWater\n    WiltPoint --\u003e AvailWater\n    MaxRoot --\u003e RootZone\n```\n\nSources: [cropgro-strawberry-test1.py:458-463]()\n\n## Cultivar Parameters Fixture\n\nThe cultivar parameters fixture defines the biological characteristics of the 'Albion' strawberry cultivar used throughout the test suite. These parameters control physiological processes and developmental timing.\n\n### Cultivar Parameter Categories\n\n| Category | Parameters | Values |\n|----------|------------|--------|\n| **Temperature Response** | `tbase`, `topt`, `tmax_th` | 4.0°C, 22.0°C, 35.0°C |\n| **Photosynthesis** | `rue`, `k_light` | 2.5 g/MJ, 0.6 |\n| **Morphology** | `sla` | 0.02 m²/g |\n| **Reproduction** | `potential_fruits_per_crown` | 10.0 fruits |\n\n```mermaid\ngraph TB\n    subgraph \"Cultivar Parameters Structure\"\n        CultivarDict[\"cultivar_params\u003cbr/\u003eAlbion Cultivar\"]\n        \n        subgraph \"Thermal Parameters\"\n            Tbase[\"tbase: 4.0°C\u003cbr/\u003eBase Temperature\"]\n            Topt[\"topt: 22.0°C\u003cbr/\u003eOptimal Temperature\"]\n            TmaxTh[\"tmax_th: 35.0°C\u003cbr/\u003eMaximum Temperature\"]\n        end\n        \n        subgraph \"Photosynthetic Parameters\"\n            RUE[\"rue: 2.5 g/MJ\u003cbr/\u003eRadiation Use Efficiency\"]\n            KLight[\"k_light: 0.6\u003cbr/\u003eLight Extinction Coefficient\"]\n        end\n        \n        subgraph \"Morphological Parameters\"\n            SLA[\"sla: 0.02 m²/g\u003cbr/\u003eSpecific Leaf Area\"]\n            FruitPot[\"potential_fruits_per_crown: 10.0\u003cbr/\u003eReproductive Capacity\"]\n        end\n    end\n    \n    CultivarDict --\u003e Tbase\n    CultivarDict --\u003e Topt\n    CultivarDict --\u003e TmaxTh\n    CultivarDict --\u003e RUE\n    CultivarDict --\u003e KLight\n    CultivarDict --\u003e SLA\n    CultivarDict --\u003e FruitPot\n```\n\nSources: [cropgro-strawberry-test1.py:465-475]()\n\n## Test Model Initialization\n\nThe test fixture system culminates in the creation of a `CropgroStrawberry` model instance with all required parameters. This model instance is used across all test methods to ensure consistency.\n\n### Model Instance Configuration\n\n```mermaid\ngraph LR\n    subgraph \"Model Initialization Process\"\n        SetupInputs[\"Fixture Inputs\"]\n        ModelInit[\"CropgroStrawberry()\"]\n        ModelInstance[\"self.model\"]\n        \n        subgraph \"Initialization Parameters\"\n            LatParam[\"latitude=40.0\"]\n            DateParam[\"planting_date='2023-05-01'\"]\n            SoilParam[\"soil_properties=soil_dict\"]\n            CultParam[\"cultivar_params=cultivar_dict\"]\n        end\n        \n        subgraph \"Initial State\"\n            DAP[\"days_after_planting=0\"]\n            Biomass[\"biomass=0.0\"]\n            LAI[\"leaf_area_index=0.1\"]\n            Stage[\"phenological_stage='GERMINATION'\"]\n        end\n    end\n    \n    SetupInputs --\u003e LatParam\n    SetupInputs --\u003e DateParam\n    SetupInputs --\u003e SoilParam\n    SetupInputs --\u003e CultParam\n    \n    LatParam --\u003e ModelInit\n    DateParam --\u003e ModelInit\n    SoilParam --\u003e ModelInit\n    CultParam --\u003e ModelInit\n    \n    ModelInit --\u003e ModelInstance\n    ModelInstance --\u003e DAP\n    ModelInstance --\u003e Biomass\n    ModelInstance --\u003e LAI\n    ModelInstance --\u003e Stage\n```\n\nSources: [cropgro-strawberry-test1.py:492-498]()\n\n## Test Data Validation Patterns\n\nThe fixture system supports various testing patterns through consistent data structures and predictable model behavior. The synthetic data ensures deterministic outcomes for validation testing.\n\n### Data Flow in Test Execution\n\n```mermaid\nflowchart TD\n    subgraph \"Test Execution Flow\"\n        TestStart[\"Test Method Start\"]\n        AccessFixtures[\"Access self.model, self.weather_df\"]\n        RunSimulation[\"model.simulate_growth(weather_df)\"]\n        ValidateResults[\"Assert Expected Outcomes\"]\n        TestComplete[\"Test Method Complete\"]\n        \n        subgraph \"Fixture Data Sources\"\n            ModelFixture[\"self.model\u003cbr/\u003eInitialized CropgroStrawberry\"]\n            WeatherFixture[\"self.weather_df\u003cbr/\u003e10-day weather dataset\"]\n            SoilFixture[\"self.soil_properties\u003cbr/\u003eSoil parameters\"]\n            CultivarFixture[\"self.cultivar_params\u003cbr/\u003eAlbion parameters\"]\n        end\n        \n        subgraph \"Test Validation Types\"\n            StateValidation[\"Plant State Validation\u003cbr/\u003ebiomass, LAI, phenology\"]\n            ProcessValidation[\"Process Validation\u003cbr/\u003ephotosynthesis, transpiration\"]\n            OutputValidation[\"Output Format Validation\u003cbr/\u003eDataFrames, columns\"]\n        end\n    end\n    \n    TestStart --\u003e AccessFixtures\n    AccessFixtures --\u003e ModelFixture\n    AccessFixtures --\u003e WeatherFixture\n    RunSimulation --\u003e ValidateResults\n    ValidateResults --\u003e StateValidation\n    ValidateResults --\u003e ProcessValidation\n    ValidateResults --\u003e OutputValidation\n    ValidateResults --\u003e TestComplete\n```\n\nSources: [cropgro-strawberry-test1.py:691-711](), [cropgro-strawberry-test1.py:731-789]()\n\n## Expected Output Characteristics\n\nThe fixture configuration produces predictable model outputs that facilitate automated testing. The consistent input data generates deterministic growth patterns suitable for validation.\n\n### Typical Test Simulation Results\n\n| Output Variable | Initial Value | Final Value (Day 10) | Units |\n|----------------|---------------|---------------------|-------|\n| `biomass` | 0.0 | ~9.45 | g/plant |\n| `leaf_area_index` | 0.1 | ~0.08 | m²/m² |\n| `thermal_time` | 0.0 | 160.0 | degree-days |\n| `phenological_stage` | 'GERMINATION' | 'JUVENILE' | stage name |\n| `root_depth` | 5.0 | ~7.0 | cm |\n\nThe test fixtures ensure that simulations produce scientifically reasonable outputs while maintaining reproducibility across test runs. This enables robust validation of model behavior and regression testing during development.\n\nSources: [cropgro-strawberry-test1.py:816-899]()"])</script><script>self.__next_f.push([1,"22:T22ae,"])</script><script>self.__next_f.push([1,"# Validation System\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [AGENTS.md](AGENTS.md)\n- [README.md](README.md)\n- [compare_with_fortran.py](compare_with_fortran.py)\n\n\u003c/details\u003e\n\n\n\nThis document explains the comprehensive validation framework used to ensure the Python `CropgroStrawberry` implementation produces results equivalent to the original Fortran DSSAT model. The validation system provides automated comparison tools, tolerance-based validation, and batch processing capabilities to maintain model accuracy and scientific integrity.\n\nFor information about the core Python model being validated, see [Python CROPGRO Implementation](#2). For details about building the Fortran reference implementation, see [Fortran DSSAT Build System](#4.2).\n\n## Validation Architecture\n\nThe validation system operates through a multi-stage process that compares outputs between the Python and Fortran implementations across identical experimental conditions.\n\n### Validation System Overview\n\n```mermaid\ngraph TB\n    subgraph \"Input Processing\"\n        SRXFile[\"SRX Experiment File\"]\n        WeatherData[\"WTH Weather Files\"]\n        ExpParams[\"Experiment Parameters\"]\n    end\n    \n    subgraph \"Model Execution\"\n        PythonModel[\"CropgroStrawberry Class\"]\n        FortranDSSAT[\"run_dssat Utility\"]\n        PythonOutput[\"Python DataFrame\"]\n        FortranOutput[\"summary.csv / PlantGro.OUT\"]\n    end\n    \n    subgraph \"Comparison Engine\"\n        CompareScript[\"compare_with_fortran.py\"]\n        ValidateScript[\"validate_models.py\"]\n        DataAlignment[\"Output Alignment\"]\n        ToleranceCheck[\"Tolerance Validation\"]\n    end\n    \n    subgraph \"Reporting\"\n        ValidationReport[\"Validation Reports\"]\n        PlotResults[\"Visualization\"]\n        PassFailStatus[\"Pass/Fail Status\"]\n    end\n    \n    SRXFile --\u003e ExpParams\n    SRXFile --\u003e FortranDSSAT\n    WeatherData --\u003e PythonModel\n    ExpParams --\u003e PythonModel\n    \n    PythonModel --\u003e PythonOutput\n    FortranDSSAT --\u003e FortranOutput\n    \n    PythonOutput --\u003e CompareScript\n    FortranOutput --\u003e CompareScript\n    CompareScript --\u003e DataAlignment\n    \n    DataAlignment --\u003e ValidateScript\n    ValidateScript --\u003e ToleranceCheck\n    ToleranceCheck --\u003e ValidationReport\n    \n    ValidationReport --\u003e PlotResults\n    ToleranceCheck --\u003e PassFailStatus\n```\n\nSources: [compare_with_fortran.py:1-146](), [README.md:136-172](), [AGENTS.md:25-28]()\n\n## Core Validation Workflow\n\nThe validation process follows a standardized workflow that ensures consistent comparison between model implementations.\n\n### Validation Process Flow\n\n```mermaid\nflowchart TD\n    Start[\"Validation Start\"] --\u003e ParseSRX[\"parse_srx_file()\"]\n    ParseSRX --\u003e ExtractParams[\"Extract planting_date, wsta\"]\n    ExtractParams --\u003e LoadWeather[\"read_wth_file()\"]\n    \n    LoadWeather --\u003e RunBoth[\"Execute Both Models\"]\n    RunBoth --\u003e RunFortran[\"run_dssat()\"]\n    RunBoth --\u003e RunPython[\"run_python_model()\"]\n    \n    RunFortran --\u003e ReadFortranOut[\"read_fortran_output()\"]\n    RunPython --\u003e PythonDF[\"Python DataFrame\"]\n    \n    ReadFortranOut --\u003e CompareOutputs[\"pandas.testing.assert_frame_equal()\"]\n    PythonDF --\u003e CompareOutputs\n    \n    CompareOutputs --\u003e ValidationPass{\"Within Tolerance?\"}\n    ValidationPass --\u003e|Yes| Success[\"Validation Success\"]\n    ValidationPass --\u003e|No| ReportDiff[\"Generate Difference Report\"]\n    \n    ReportDiff --\u003e Investigation[\"Manual Investigation Required\"]\n    Success --\u003e Complete[\"Validation Complete\"]\n```\n\nSources: [compare_with_fortran.py:114-145](), [compare_with_fortran.py:79-95](), [compare_with_fortran.py:98-111]()\n\n## Key Validation Components\n\n### Experiment File Parser\n\nThe `parse_srx_file()` function extracts essential parameters from DSSAT experiment files:\n\n| Parameter | SRX Section | Purpose |\n|-----------|-------------|---------|\n| `planting_date` | `@P PDATE` | Simulation start date |\n| `wsta` | `@L ID_FIELD` | Weather station identifier |\n\nThe parser handles DSSAT's YYDDD date format through `parse_dssat_date()`, converting to ISO format for Python model compatibility.\n\nSources: [compare_with_fortran.py:31-49](), [compare_with_fortran.py:24-28]()\n\n### Weather Data Processing\n\nThe `read_wth_file()` function parses DSSAT weather files into structured DataFrames:\n\n```mermaid\ngraph LR\n    WTHFile[\"WTH File\"] --\u003e ParseHeader[\"@DATE Header Detection\"]\n    ParseHeader --\u003e ExtractFields[\"Field Extraction\"]\n    ExtractFields --\u003e DateConversion[\"YYDDD to ISO Date\"]\n    DateConversion --\u003e WeatherDF[\"Weather DataFrame\"]\n    \n    WeatherDF --\u003e RequiredFields[\"tmax, tmin, solar_radiation\"]\n    WeatherDF --\u003e OptionalFields[\"rainfall, rh, wind_speed\"]\n```\n\nDefault values are applied for missing optional fields: rainfall (0.0), relative humidity (70.0), wind speed (2.0).\n\nSources: [compare_with_fortran.py:52-76]()\n\n### Model Execution Framework\n\n#### Fortran DSSAT Execution\n\nThe `run_dssat()` function manages Fortran model execution:\n\n- Locates `Utilities/run_dssat` executable\n- Executes DSSAT in experiment directory context\n- Handles process management and error checking\n\nSources: [compare_with_fortran.py:79-84]()\n\n#### Python Model Execution\n\nThe `run_python_model()` function configures and runs the Python implementation:\n\n- Applies standardized soil parameters\n- Uses generic cultivar configuration\n- Returns structured DataFrame output\n\n| Parameter | Value | Units |\n|-----------|-------|-------|\n| `max_root_depth` | 50.0 | cm |\n| `field_capacity` | 200.0 | mm/m |\n| `wilting_point` | 50.0 | mm/m |\n| `tbase` | 4.0 | °C |\n| `topt` | 22.0 | °C |\n| `rue` | 2.5 | g/MJ |\n\nSources: [compare_with_fortran.py:98-111]()\n\n### Output Comparison Engine\n\n#### Data Alignment\n\nThe `read_fortran_output()` function handles multiple DSSAT output formats:\n\n1. **Primary**: `summary.csv` (CSV format)\n2. **Fallback**: `PlantGro.OUT` (fixed-width format)\n\nThe comparison process aligns DataFrame structures and applies `pandas.testing.assert_frame_equal()` for precise validation.\n\nSources: [compare_with_fortran.py:87-95](), [compare_with_fortran.py:140]()\n\n#### Tolerance-Based Validation\n\nThe validation system supports configurable tolerance levels through `validate_models.py`:\n\n```bash\npython validate_models.py path/to/UFBA1601.SRX --dssat-dir dssat-csm-os-develop --tolerance 1.0\n```\n\nThis generates detailed reports showing maximum differences for each output variable and pass/fail status.\n\nSources: [README.md:148-152](), [AGENTS.md:28]()\n\n## Validation Pipeline Architecture\n\n### Automated Validation Pipeline\n\nThe `scripts/run_full_comparison.py` script provides comprehensive batch validation:\n\n```mermaid\ngraph TB\n    Pipeline[\"run_full_comparison.py\"] --\u003e DetectOS[\"OS Detection\"]\n    DetectOS --\u003e BuildDSSAT[\"Platform-specific Build\"]\n    BuildDSSAT --\u003e BatchValidation[\"Batch Experiment Processing\"]\n    \n    BatchValidation --\u003e ProcessExp[\"Process Each SRX\"]\n    ProcessExp --\u003e RunValidation[\"validate_models.py\"]\n    RunValidation --\u003e GenerateReport[\"Generate Report\"]\n    \n    GenerateReport --\u003e SaveResults[\"comparison_reports/\"]\n    SaveResults --\u003e PlotResults[\"scripts/plot_results.py\"]\n    PlotResults --\u003e ValidationSummary[\"Validation Summary\"]\n```\n\nThe pipeline automatically:\n- Detects operating system (macOS/Windows)\n- Builds DSSAT if required\n- Processes all sample experiments\n- Generates comprehensive reports\n- Creates visualization summaries\n\nSources: [README.md:156-170](), [README.md:166-170]()\n\n### Cross-Platform Support\n\nThe validation system supports multiple platforms through specialized build scripts:\n\n| Platform | Build Script | Requirements |\n|----------|-------------|--------------|\n| macOS | `scripts/build_dssat_macos.sh` | cmake, gcc (gfortran) |\n| Windows | `scripts/build_dssat_windows.cmd` | CMake, MinGW-w64 |\n\nBoth scripts perform identical operations: compilation, installation, data staging, and validation execution.\n\nSources: [README.md:102-134](), [AGENTS.md:19-23]()\n\n## Validation Quality Assurance\n\n### Error Handling and Diagnostics\n\nThe validation system includes comprehensive error detection:\n\n- **Missing Dependencies**: Validates `run_dssat` utility existence\n- **File Validation**: Ensures SRX, weather, and output files are accessible\n- **Data Integrity**: Verifies parsed parameters and DataFrame structures\n- **Process Management**: Handles subprocess execution and error reporting\n\n### Validation Metrics\n\nThe comparison framework tracks multiple validation metrics:\n\n- **Binary Comparison**: Exact match validation using `assert_frame_equal()`\n- **Tolerance-based**: Configurable difference thresholds\n- **Statistical Analysis**: Maximum difference reporting per variable\n- **Coverage Analysis**: Validation across multiple experimental conditions\n\nSources: [compare_with_fortran.py:82-83](), [compare_with_fortran.py:140](), [README.md:148-152]()"])</script><script>self.__next_f.push([1,"23:T1e2b,"])</script><script>self.__next_f.push([1,"# Model Comparison Tools\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [AGENTS.md](AGENTS.md)\n- [compare_with_fortran.py](compare_with_fortran.py)\n\n\u003c/details\u003e\n\n\n\n## Purpose and Scope\n\nThe Model Comparison Tools provide automated validation of the Python CROPGRO strawberry implementation against the original Fortran DSSAT model. These tools ensure that the Python model produces statistically equivalent results to the established Fortran reference implementation.\n\nFor information about the broader validation framework and pipeline automation, see [Validation Pipeline](#4.3). For details about building the Fortran DSSAT system used in comparisons, see [Fortran DSSAT Build System](#4.2).\n\n## Comparison Workflow\n\nThe model comparison process involves running both implementations with identical inputs and comparing their outputs using statistical validation methods.\n\n### Core Comparison Process\n\n```mermaid\nflowchart TD\n    SRX[\"SRX Experiment File\"] --\u003e ParseSRX[\"parse_srx_file()\"]\n    ParseSRX --\u003e PlantingDate[\"Planting Date\"]\n    ParseSRX --\u003e WeatherStation[\"Weather Station Code\"]\n    \n    WeatherStation --\u003e FindWeather[\"Locate .WTH File\"]\n    FindWeather --\u003e ReadWeather[\"read_wth_file()\"]\n    ReadWeather --\u003e WeatherDF[\"Weather DataFrame\"]\n    \n    SRX --\u003e RunDSSAT[\"run_dssat()\"]\n    RunDSSAT --\u003e FortranOutput[\"DSSAT Output Files\"]\n    FortranOutput --\u003e ReadFortran[\"read_fortran_output()\"]\n    ReadFortran --\u003e FortranDF[\"Fortran Results DataFrame\"]\n    \n    WeatherDF --\u003e RunPython[\"run_python_model()\"]\n    PlantingDate --\u003e RunPython\n    RunPython --\u003e PythonDF[\"Python Results DataFrame\"]\n    \n    FortranDF --\u003e Compare[\"pandas.testing.assert_frame_equal()\"]\n    PythonDF --\u003e Compare\n    Compare --\u003e ValidationResult[\"Validation Result\"]\n```\n\nSources: [compare_with_fortran.py:1-146]()\n\n### Data Processing Pipeline\n\nThe comparison tools handle multiple DSSAT file formats and coordinate data alignment between the two model implementations.\n\n```mermaid\nflowchart LR\n    subgraph \"Input Processing\"\n        SRXFile[\".SRX Experiment File\"] --\u003e SRXParser[\"parse_srx_file()\"]\n        WTHFile[\".WTH Weather File\"] --\u003e WTHReader[\"read_wth_file()\"]\n    end\n    \n    subgraph \"Model Execution\"\n        SRXParser --\u003e DSSATRunner[\"run_dssat()\"]\n        WTHReader --\u003e PythonRunner[\"run_python_model()\"]\n        SRXParser --\u003e PythonRunner\n    end\n    \n    subgraph \"Output Processing\"\n        DSSATRunner --\u003e OutputReader[\"read_fortran_output()\"]\n        OutputReader --\u003e SummaryCSV[\"summary.csv\"]\n        OutputReader --\u003e PlantGroOUT[\"PlantGro.OUT\"]\n    end\n    \n    subgraph \"Validation\"\n        SummaryCSV --\u003e FrameCompare[\"assert_frame_equal()\"]\n        PlantGroOUT --\u003e FrameCompare\n        PythonRunner --\u003e FrameCompare\n    end\n```\n\nSources: [compare_with_fortran.py:31-95]()\n\n## Key Components\n\n### Primary Comparison Script\n\nThe `compare_with_fortran.py` script serves as the main entry point for model validation. It orchestrates the entire comparison process from input parsing to final validation.\n\n| Function | Purpose | Input | Output |\n|----------|---------|-------|--------|\n| `parse_dssat_date()` | Convert YYDDD date codes to ISO format | YYDDD string | YYYY-MM-DD string |\n| `parse_srx_file()` | Extract experiment metadata | .SRX file path | Planting date, weather station |\n| `read_wth_file()` | Parse DSSAT weather data | .WTH file path | Weather DataFrame |\n| `run_dssat()` | Execute Fortran DSSAT model | .SRX path, DSSAT directory | None (generates output files) |\n| `read_fortran_output()` | Load DSSAT results | Experiment directory | Results DataFrame |\n| `run_python_model()` | Execute Python CROPGRO model | Weather data, planting date | Results DataFrame |\n\nSources: [compare_with_fortran.py:24-142]()\n\n### Date and Format Processing\n\nThe comparison tools handle DSSAT's proprietary date format (YYDDD) and file structures. The `parse_dssat_date()` function converts two-digit year and day-of-year codes to standard ISO dates.\n\n```python\n# Example: \"23001\" becomes \"2023-01-01\"\ndef parse_dssat_date(code: str) -\u003e str:\n    year = 2000 + int(code[:2])\n    doy = int(code[2:])\n    return datetime.strptime(f\"{year} {doy}\", \"%Y %j\").strftime(\"%Y-%m-%d\")\n```\n\nSources: [compare_with_fortran.py:24-28]()\n\n### Weather Data Integration\n\nThe `read_wth_file()` function parses DSSAT weather files into pandas DataFrames with standardized column names for temperature, solar radiation, rainfall, humidity, and wind speed.\n\n```mermaid\ngraph TD\n    WTHFile[\"Weather File (.WTH)\"] --\u003e HeaderScan[\"Scan for @DATE Header\"]\n    HeaderScan --\u003e ColumnMap[\"Map Column Indices\"]\n    ColumnMap --\u003e ParseLines[\"Parse Data Lines\"]\n    ParseLines --\u003e DateConvert[\"Convert YYDDD Dates\"]\n    DateConvert --\u003e DataRecord[\"Daily Weather Records\"]\n    DataRecord --\u003e DataFrame[\"Weather DataFrame\"]\n```\n\nSources: [compare_with_fortran.py:52-76]()\n\n### Model Coordination\n\nThe comparison system instantiates both the Python `CropgroStrawberry` model and the Fortran DSSAT executable with identical input parameters.\n\n```mermaid\ngraph LR\n    subgraph \"Python Model Setup\"\n        SoilParams[\"Soil Parameters\"] --\u003e CropgroStrawberry[\"CropgroStrawberry()\"]\n        CultivarParams[\"Cultivar Parameters\"] --\u003e CropgroStrawberry\n        WeatherData[\"Weather DataFrame\"] --\u003e CropgroStrawberry\n        PlantingDate[\"Planting Date\"] --\u003e CropgroStrawberry\n        CropgroStrawberry --\u003e PythonResults[\"Python Results\"]\n    end\n    \n    subgraph \"Fortran Model Setup\"\n        SRXFile[\".SRX File\"] --\u003e RunDSSAT[\"run_dssat Utility\"]\n        RunDSSAT --\u003e DSSATOutput[\"DSSAT Output Files\"]\n        DSSATOutput --\u003e FortranResults[\"Fortran Results\"]\n    end\n    \n    PythonResults --\u003e Comparison[\"Model Comparison\"]\n    FortranResults --\u003e Comparison\n```\n\nSources: [compare_with_fortran.py:98-111](), [compare_with_fortran.py:79-84]()\n\n## Validation Methods\n\n### Statistical Comparison\n\nThe primary validation method uses `pandas.testing.assert_frame_equal()` to perform strict comparison between model outputs. This function validates that corresponding values are within floating-point precision tolerances.\n\n```python\npdt.assert_frame_equal(\n    py_df.head(len(fort_df)), \n    fort_df.head(len(py_df)), \n    check_dtype=False\n)\n```\n\nSources: [compare_with_fortran.py:140-141]()\n\n### Output Format Handling\n\nThe comparison tools accommodate different DSSAT output formats. The `read_fortran_output()` function attempts to load `summary.csv` first, then falls back to `PlantGro.OUT` for fixed-width format data.\n\n| Output File | Format | Processing Method |\n|-------------|--------|------------------|\n| `summary.csv` | CSV | `pd.read_csv()` |\n| `PlantGro.OUT` | Fixed-width | `pd.read_fwf()` with header skip |\n\nSources: [compare_with_fortran.py:87-95]()\n\n### Command Line Interface\n\nThe comparison script provides a command-line interface for automated testing and continuous integration workflows.\n\n```bash\npython compare_with_fortran.py path/to/experiment.SRX --dssat-dir dssat-csm-os-develop\n```\n\nThe CLI accepts the experiment file path and optionally specifies the DSSAT installation directory.\n\nSources: [compare_with_fortran.py:114-118](), [AGENTS.md:27]()\n\n## Integration with Validation Ecosystem\n\nThe model comparison tools integrate with other validation components referenced in the developer workflow. The `validate_models.py` script extends the basic comparison with tolerance-based validation and report generation.\n\n```bash\npython validate_models.py path/to/experiment.SRX --tolerance 1.0\n```\n\nThe `run_full_comparison.py` script orchestrates comprehensive validation across multiple experiments and scenarios.\n\nSources: [AGENTS.md:28]()"])</script><script>self.__next_f.push([1,"24:T2599,"])</script><script>self.__next_f.push([1,"# Fortran DSSAT Build System\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [AGENTS.md](AGENTS.md)\n- [README.md](README.md)\n\n\u003c/details\u003e\n\n\n\n## Purpose and Scope\n\nThe Fortran DSSAT Build System provides the infrastructure for compiling and running the original DSSAT-CSM-OS Fortran implementation within the strawberryDSSAT repository. This build system serves as a critical component of the validation framework, enabling direct comparison between the Python implementation and the established Fortran reference model.\n\nThis page covers the compilation process, platform-specific build procedures, and integration with the validation pipeline. For information about the validation comparison tools that use the compiled Fortran model, see [Model Comparison Tools](#4.1). For details about the broader validation workflow, see [Validation Pipeline](#4.3).\n\n## Build System Architecture\n\nThe build system is designed around CMake for cross-platform compilation, with platform-specific wrapper scripts that handle dependencies and automation. The system builds the complete DSSAT-CSM-OS framework and generates the `run_dssat` utility needed for validation.\n\n### Build System Flow\n\n```mermaid\nflowchart TD\n    Start[\"Build Process Start\"] --\u003e DetectPlatform[\"Detect Platform\"]\n    DetectPlatform --\u003e MacOS{\"macOS?\"}\n    DetectPlatform --\u003e Windows{\"Windows?\"}\n    \n    MacOS --\u003e|Yes| InstallDepsMac[\"Install Dependencies\u003cbr/\u003ecmake, gcc via Homebrew\"]\n    Windows --\u003e|Yes| InstallDepsWin[\"Install Dependencies\u003cbr/\u003eCMake, MinGW-w64\"]\n    \n    InstallDepsMac --\u003e ConfigureMac[\"Configure CMake Build\u003cbr/\u003edssat-csm-os-develop/\"]\n    InstallDepsWin --\u003e ConfigureWin[\"Configure CMake Build\u003cbr/\u003edssat-csm-os-develop/\"]\n    \n    ConfigureMac --\u003e CompileMac[\"Compile with make\"]\n    ConfigureWin --\u003e CompileWin[\"Compile with mingw32-make\"]\n    \n    CompileMac --\u003e GenerateUtils[\"Generate run_dssat Utility\u003cbr/\u003eUtilities/run_dssat\"]\n    CompileWin --\u003e GenerateUtils\n    \n    GenerateUtils --\u003e CopyData[\"Copy Sample Data\u003cbr/\u003eStrawberry experiments\"]\n    CopyData --\u003e CreateBatch[\"Create STRB.V48 Batch File\"]\n    CreateBatch --\u003e TestRun[\"Execute Test Run\"]\n    TestRun --\u003e BuildComplete[\"Build Complete\"]\n```\n\nSources: [README.md:84-135](), [AGENTS.md:19-24]()\n\n## Platform-Specific Build Processes\n\n### macOS Build Process\n\nThe macOS build process uses Homebrew for dependency management and standard Unix build tools. The system requires `cmake` and `gcc` (which provides `gfortran`) to compile the Fortran source code.\n\n#### Dependencies and Configuration\n\n| Component | Installation Method | Purpose |\n|-----------|-------------------|---------|\n| `cmake` | `brew install cmake` | Build system generator |\n| `gcc` | `brew install gcc` | Provides `gfortran` compiler |\n| `gfortran` | Included with gcc | Fortran compiler |\n\n#### Build Script Workflow\n\n```mermaid\nflowchart LR\n    Script[\"build_dssat_macos.sh\"] --\u003e CreateBuild[\"mkdir build \u0026\u0026 cd build\"]\n    CreateBuild --\u003e CMakeConfig[\"cmake ..\"]\n    CMakeConfig --\u003e Compile[\"make\"]\n    Compile --\u003e Install[\"make install\"]\n    Install --\u003e StageData[\"Copy strawberry experiments\u003cbr/\u003eand weather files\"]\n    StageData --\u003e GenerateBatch[\"Generate STRB.V48 batch file\"]\n    GenerateBatch --\u003e Execute[\"Execute DSSAT simulation\"]\n    Execute --\u003e Results[\"Write results to\u003cbr/\u003e/usr/local/BatchFiles\"]\n```\n\nSources: [README.md:102-116]()\n\n### Windows Build Process\n\nThe Windows build process uses MinGW-w64 for the GNU toolchain and relies on Windows-specific commands for file operations and build execution.\n\n#### Dependencies and Configuration\n\n| Component | Installation Method | Purpose |\n|-----------|-------------------|---------|\n| `CMake` | Manual installation | Build system generator |\n| `MinGW-w64` | Manual installation | GNU toolchain for Windows |\n| `gfortran` | Included with MinGW-w64 | Fortran compiler |\n\n#### Build Script Components\n\nThe Windows build script `build_dssat_windows.cmd` performs equivalent operations to the macOS script but uses Windows-specific commands:\n\n- `xcopy` for file copying operations\n- `mingw32-make` instead of `make`\n- `cmd.exe` shell commands and batch file syntax\n\nSources: [README.md:118-134]()\n\n## Build Scripts and Automation\n\n### Script Architecture\n\n```mermaid\ngraph TB\n    subgraph \"Build Automation Scripts\"\n        MacScript[\"scripts/build_dssat_macos.sh\"]\n        WinScript[\"scripts/build_dssat_windows.cmd\"]\n        FullPipeline[\"scripts/run_full_comparison.py\"]\n    end\n    \n    subgraph \"Core Build System\"\n        CMakeFiles[\"dssat-csm-os-develop/CMakeLists.txt\"]\n        SourceCode[\"dssat-csm-os-develop/Source/\"]\n        Utilities[\"dssat-csm-os-develop/Utilities/\"]\n    end\n    \n    subgraph \"Generated Artifacts\"\n        RunDSSAT[\"Utilities/run_dssat\"]\n        BatchFiles[\"/usr/local/BatchFiles/\u003cbr/\u003eor Windows equivalent\"]\n        OutputFiles[\"Summary.csv, PlantGro.OUT\"]\n    end\n    \n    MacScript --\u003e CMakeFiles\n    WinScript --\u003e CMakeFiles\n    FullPipeline --\u003e MacScript\n    FullPipeline --\u003e WinScript\n    \n    CMakeFiles --\u003e SourceCode\n    SourceCode --\u003e RunDSSAT\n    RunDSSAT --\u003e BatchFiles\n    BatchFiles --\u003e OutputFiles\n```\n\nSources: [README.md:157-162](), [AGENTS.md:21-22]()\n\n### Automated Build Detection\n\nThe full comparison pipeline automatically detects the operating system and invokes the appropriate build script:\n\n```mermaid\nflowchart TD\n    Pipeline[\"run_full_comparison.py\"] --\u003e DetectOS[\"Detect Operating System\"]\n    DetectOS --\u003e MacOSPath{\"macOS detected?\"}\n    DetectOS --\u003e WindowsPath{\"Windows detected?\"}\n    \n    MacOSPath --\u003e|Yes| InvokeMac[\"Execute build_dssat_macos.sh\"]\n    WindowsPath --\u003e|Yes| InvokeWin[\"Execute build_dssat_windows.cmd\"]\n    \n    InvokeMac --\u003e BuildDSSAT[\"Build DSSAT if needed\"]\n    InvokeWin --\u003e BuildDSSAT\n    \n    BuildDSSAT --\u003e ValidateExperiments[\"Validate all sample experiments\"]\n    ValidateExperiments --\u003e GenerateReports[\"Save reports in\u003cbr/\u003ecomparison_reports/\"]\n```\n\nSources: [README.md:157-162]()\n\n## Running the Compiled DSSAT\n\n### Direct Execution\n\nOnce compiled, the DSSAT model can be executed directly using the generated `run_dssat` utility:\n\n```bash\n./Utilities/run_dssat ../../dssat-csm-data-develop/Strawberry/UFBA1601.SRX\n```\n\n### Python Wrapper Integration\n\nThe build system integrates with Python wrapper scripts that facilitate automated execution and result processing:\n\n#### Key Integration Points\n\n| Script | Purpose | DSSAT Integration |\n|--------|---------|-------------------|\n| `run_original_dssat.py` | Execute DSSAT with experiment files | Direct `run_dssat` invocation |\n| `compare_with_fortran.py` | Compare Python vs Fortran outputs | Automated DSSAT execution |\n| `validate_models.py` | Automated validation pipeline | Batch DSSAT processing |\n\n### Execution Flow Integration\n\n```mermaid\nsequenceDiagram\n    participant ValidationScript as \"Validation Script\"\n    participant BuildSystem as \"Build System\"\n    participant RunDSSAT as \"run_dssat Utility\"\n    participant OutputFiles as \"DSSAT Output Files\"\n    \n    ValidationScript-\u003e\u003eBuildSystem: Check if DSSAT compiled\n    BuildSystem-\u003e\u003eBuildSystem: Build if necessary\n    ValidationScript-\u003e\u003eRunDSSAT: Execute with .SRX file\n    RunDSSAT-\u003e\u003eOutputFiles: Generate Summary.csv, PlantGro.OUT\n    OutputFiles-\u003e\u003eValidationScript: Return output data\n    ValidationScript-\u003e\u003eValidationScript: Compare with Python results\n```\n\nSources: [README.md:96-100](), [AGENTS.md:23]()\n\n## Integration with Validation Pipeline\n\n### Build Verification Process\n\nThe build system includes verification steps to ensure the compiled DSSAT produces expected outputs:\n\n1. **Test Execution**: Each build script runs a test simulation using sample strawberry experiments\n2. **Output Validation**: Verifies that standard output files (`Summary.csv`, `PlantGro.OUT`) are generated\n3. **File Structure Check**: Confirms proper installation of utilities and data files\n\n### Validation Workflow Integration\n\n```mermaid\ngraph LR\n    subgraph \"Build Phase\"\n        CompileDS[\"Compile DSSAT\"]\n        VerifyBuild[\"Verify Build Success\"]\n        TestRun[\"Execute Test Simulation\"]\n    end\n    \n    subgraph \"Validation Phase\"\n        LoadExp[\"Load .SRX Experiment\"]\n        RunPython[\"Execute Python Model\"]\n        RunFortran[\"Execute Fortran DSSAT\"]\n        Compare[\"Compare Outputs\"]\n    end\n    \n    CompileDS --\u003e VerifyBuild\n    VerifyBuild --\u003e TestRun\n    TestRun --\u003e LoadExp\n    \n    LoadExp --\u003e RunPython\n    LoadExp --\u003e RunFortran\n    RunPython --\u003e Compare\n    RunFortran --\u003e Compare\n```\n\nSources: [README.md:136-153](), [AGENTS.md:25-28]()\n\n## Build Artifacts and File Structure\n\n### Generated Directory Structure\n\nAfter successful compilation, the build system creates the following structure:\n\n```\ndssat-csm-os-develop/\n├── build/                    # CMake build directory\n├── Utilities/\n│   └── run_dssat            # Main DSSAT executable\n├── Data/                    # Sample data files\n└── BatchFiles/              # Batch execution files\n    └── STRB.V48            # Strawberry batch configuration\n```\n\n### Output File Integration\n\nThe build system ensures that DSSAT output files are generated in predictable locations for integration with validation scripts:\n\n| File Type | Location | Purpose |\n|-----------|----------|---------|\n| `Summary.csv` | BatchFiles directory | Simulation summary data |\n| `PlantGro.OUT` | BatchFiles directory | Detailed plant growth data |\n| `STRB.V48` | BatchFiles directory | Batch configuration file |\n\nSources: [README.md:112-113](), [README.md:96-100]()"])</script><script>self.__next_f.push([1,"25:T2125,"])</script><script>self.__next_f.push([1,"# Validation Pipeline\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [AGENTS.md](AGENTS.md)\n- [README.md](README.md)\n\n\u003c/details\u003e\n\n\n\nThe validation pipeline provides an automated framework for running comprehensive comparisons between the Python CROPGRO-Strawberry implementation and the original Fortran DSSAT model across multiple experiments. This system ensures model fidelity by systematically validating outputs, generating detailed reports, and providing visualization tools for analysis.\n\nFor information about individual model comparison tools, see [Model Comparison Tools](#4.1). For details about building the Fortran DSSAT system, see [Fortran DSSAT Build System](#4.2).\n\n## Pipeline Overview\n\nThe validation pipeline orchestrates a complete validation workflow that automatically builds required dependencies, runs experiments through both implementations, compares results, and generates comprehensive reports.\n\n### Full Validation Workflow\n\n```mermaid\nflowchart TD\n    Start[\"run_full_comparison.py\"] --\u003e DetectOS[\"Detect Operating System\"]\n    DetectOS --\u003e BuildCheck[\"Check DSSAT Build Status\"]\n    BuildCheck --\u003e NeedBuild{\"DSSAT Built?\"}\n    NeedBuild --\u003e|No| BuildMacOS[\"build_dssat_macos.sh\"]\n    NeedBuild --\u003e|No| BuildWindows[\"build_dssat_windows.cmd\"]\n    NeedBuild --\u003e|Yes| LoadExperiments[\"Load Sample Experiments\"]\n    BuildMacOS --\u003e LoadExperiments\n    BuildWindows --\u003e LoadExperiments\n    \n    LoadExperiments --\u003e RunLoop[\"For Each Experiment\"]\n    RunLoop --\u003e ValidateModel[\"validate_models.py\"]\n    ValidateModel --\u003e RunPython[\"Execute Python Implementation\"]\n    ValidateModel --\u003e RunFortran[\"Execute Fortran DSSAT\"]\n    RunPython --\u003e CompareOutputs[\"Compare Model Outputs\"]\n    RunFortran --\u003e CompareOutputs\n    CompareOutputs --\u003e GenerateReport[\"Generate Validation Report\"]\n    GenerateReport --\u003e SaveReport[\"Save to comparison_reports/\"]\n    \n    SaveReport --\u003e MoreExperiments{\"More Experiments?\"}\n    MoreExperiments --\u003e|Yes| RunLoop\n    MoreExperiments --\u003e|No| PipelineComplete[\"Pipeline Complete\"]\n    \n    PipelineComplete --\u003e PlotResults[\"plot_results.py\"]\n    PlotResults --\u003e VisualizeReports[\"Generate Summary Visualizations\"]\n```\n\nSources: [README.md:156-162](), [README.md:166-170](), [AGENTS.md:19-28]()\n\n## Core Pipeline Components\n\nThe validation pipeline consists of several interconnected scripts that handle different aspects of the validation process.\n\n### Pipeline Component Architecture\n\n```mermaid\ngraph TB\n    subgraph \"Main Pipeline Controller\"\n        FullComparison[\"scripts/run_full_comparison.py\u003cbr/\u003eMain Pipeline Orchestrator\"]\n    end\n    \n    subgraph \"Build System Integration\"\n        MacOSBuild[\"scripts/build_dssat_macos.sh\u003cbr/\u003emacOS DSSAT Builder\"]\n        WindowsBuild[\"scripts/build_dssat_windows.cmd\u003cbr/\u003eWindows DSSAT Builder\"]\n    end\n    \n    subgraph \"Validation Core\"\n        ValidateModels[\"validate_models.py\u003cbr/\u003eModel Comparison Engine\"]\n        CompareFortran[\"compare_with_fortran.py\u003cbr/\u003eDirect Comparison Tool\"]\n    end\n    \n    subgraph \"Output Processing\"\n        PlotResults[\"scripts/plot_results.py\u003cbr/\u003eResults Visualizer\"]\n        ReportsDir[\"comparison_reports/\u003cbr/\u003eGenerated Reports\"]\n    end\n    \n    subgraph \"Model Implementations\"\n        PythonModel[\"cropgro-strawberry-implementation.py\u003cbr/\u003ePython CROPGRO Model\"]\n        FortranDSSAT[\"dssat-csm-os-develop/\u003cbr/\u003eFortran DSSAT System\"]\n    end\n    \n    FullComparison --\u003e MacOSBuild\n    FullComparison --\u003e WindowsBuild\n    FullComparison --\u003e ValidateModels\n    ValidateModels --\u003e CompareFortran\n    ValidateModels --\u003e PythonModel\n    ValidateModels --\u003e FortranDSSAT\n    ValidateModels --\u003e ReportsDir\n    ReportsDir --\u003e PlotResults\n```\n\nSources: [README.md:156-162](), [AGENTS.md:19-28](), [README.md:84-127]()\n\n## Validation Process\n\nThe validation process systematically compares model outputs using tolerance-based validation and statistical analysis.\n\n### Model Execution and Comparison Flow\n\n```mermaid\nsequenceDiagram\n    participant FC as run_full_comparison.py\n    participant VM as validate_models.py\n    participant PY as Python Model\n    participant DS as DSSAT Fortran\n    participant RP as Report Generator\n    \n    FC-\u003e\u003eVM: validate_models.py experiment.SRX --tolerance 1.0\n    VM-\u003e\u003ePY: Execute Python simulation\n    PY--\u003e\u003eVM: Python output data\n    VM-\u003e\u003eDS: Execute DSSAT simulation via run_dssat\n    DS--\u003e\u003eVM: DSSAT output files\n    VM-\u003e\u003eVM: Align output timestamps\n    VM-\u003e\u003eVM: Calculate differences per column\n    VM-\u003e\u003eVM: Apply tolerance validation\n    VM-\u003e\u003eRP: Generate validation report\n    RP--\u003e\u003eFC: Report saved to comparison_reports/\n```\n\nSources: [README.md:146-152](), [AGENTS.md:27-28]()\n\n### Validation Metrics and Tolerance Checking\n\nThe validation system performs detailed statistical comparisons across multiple output variables:\n\n| Validation Component | Description | Implementation |\n|---------------------|-------------|----------------|\n| **Column Alignment** | Matches output variables between models | `validate_models.py` |\n| **Difference Calculation** | Computes maximum absolute differences | Statistical comparison |\n| **Tolerance Validation** | Checks if differences are within acceptable bounds | Configurable tolerance parameter |\n| **Report Generation** | Creates detailed validation reports | Text-based reports in `comparison_reports/` |\n\nThe tolerance parameter allows for acceptable numerical differences between implementations while flagging significant deviations that require investigation.\n\nSources: [README.md:146-152](), [AGENTS.md:27-28]()\n\n## Report Generation\n\nThe pipeline generates comprehensive reports that document validation results across all tested experiments.\n\n### Report Structure and Organization\n\n```mermaid\ngraph LR\n    subgraph \"Report Generation Process\"\n        ValidateScript[\"validate_models.py\"] --\u003e ComparisonData[\"Model Output Differences\"]\n        ComparisonData --\u003e ReportFormat[\"Text Report Format\"]\n        ReportFormat --\u003e SaveLocation[\"comparison_reports/ Directory\"]\n    end\n    \n    subgraph \"Report Contents\"\n        MaxDiff[\"Maximum Differences per Column\"]\n        ToleranceStatus[\"Within Tolerance Status\"]\n        ExperimentDetails[\"Experiment Metadata\"]\n        TimestampInfo[\"Simulation Timeframe\"]\n    end\n    \n    SaveLocation --\u003e MaxDiff\n    SaveLocation --\u003e ToleranceStatus\n    SaveLocation --\u003e ExperimentDetails\n    SaveLocation --\u003e TimestampInfo\n```\n\nSources: [README.md:146-152](), [README.md:156-162]()\n\nThe reports provide essential information for validating model fidelity:\n\n- **Maximum difference values** for each output variable\n- **Pass/fail status** based on specified tolerance thresholds  \n- **Experiment identification** and configuration details\n- **Statistical summaries** of model agreement\n\n## Results Visualization\n\nThe pipeline includes visualization capabilities for analyzing validation results across multiple experiments.\n\n### Visualization Workflow\n\n```mermaid\nflowchart LR\n    ReportsDir[\"comparison_reports/\u003cbr/\u003eValidation Reports\"] --\u003e PlotScript[\"scripts/plot_results.py\"]\n    PlotScript --\u003e LoadReports[\"Load All Report Files\"]\n    LoadReports --\u003e ParseData[\"Parse Validation Data\"]\n    ParseData --\u003e GenerateCharts[\"Generate Summary Visualizations\"]\n    GenerateCharts --\u003e DisplayResults[\"Display Validation Summaries\"]\n    \n    subgraph \"Visualization Types\"\n        SummaryCharts[\"Summary Charts\"]\n        DifferenceDistributions[\"Difference Distributions\"]\n        ToleranceAnalysis[\"Tolerance Analysis\"]\n    end\n    \n    GenerateCharts --\u003e SummaryCharts\n    GenerateCharts --\u003e DifferenceDistributions\n    GenerateCharts --\u003e ToleranceAnalysis\n```\n\nSources: [README.md:166-170]()\n\n### Usage Examples\n\nThe validation pipeline supports several execution patterns:\n\n**Full automated pipeline:**\n```bash\npython scripts/run_full_comparison.py\n```\n\n**Individual experiment validation:**\n```bash\npython validate_models.py path/to/UFBA1601.SRX --dssat-dir dssat-csm-os-develop --tolerance 1.0\n```\n\n**Results visualization:**\n```bash\npython scripts/plot_results.py --reports comparison_reports\n```\n\nSources: [README.md:156-162](), [README.md:146-152](), [README.md:166-170]()\n\nThe pipeline automatically handles cross-platform differences by detecting the operating system and invoking the appropriate build scripts, ensuring consistent validation across development environments.\n\nSources: [README.md:156-162](), [README.md:102-134]()"])</script><script>self.__next_f.push([1,"26:T30f2,"])</script><script>self.__next_f.push([1,"# DSSAT Framework Context\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [deepwiki.com/DSSAT/dssat-csm-os/1-overview](deepwiki.com/DSSAT/dssat-csm-os/1-overview)\n- [deepwiki.com/DSSAT/dssat-csm-os/2-system-architecture](deepwiki.com/DSSAT/dssat-csm-os/2-system-architecture)\n\n\u003c/details\u003e\n\n\n\n## Purpose and Scope\n\nThis page provides background information about the broader DSSAT (Decision Support System for Agrotechnology Transfer) ecosystem and explains how the strawberryDSSAT Python implementation fits within this established framework. The content covers the core architectural concepts, modular design principles, and simulation methodology inherited from the original DSSAT-CSM-OS system.\n\nFor information about the specific Python implementation details, see [Python CROPGRO Implementation](#2). For details about the validation process against the Fortran implementation, see [Validation System](#4).\n\n## DSSAT Ecosystem Overview\n\nThe Decision Support System for Agrotechnology Transfer - Cropping System Model (DSSAT-CSM) is a process-based crop simulation framework that predicts crop growth, development, and yield as a function of soil-plant-atmosphere dynamics. The framework simulates more than 45 different crops through a modular structure that separates components along scientific discipline lines, allowing easy replacement or addition of modules.\n\n```mermaid\ngraph TB\n    subgraph \"DSSAT Ecosystem\"\n        subgraph \"Original DSSAT-CSM-OS (Fortran)\"\n            CSM[\"CSM.for\u003cbr/\u003eMain Control Module\"]\n            LAND[\"LAND.for\u003cbr/\u003eLand Interface Module\"]\n            SOIL[\"SOIL.for\u003cbr/\u003eSoil Processes\"]\n            PLANT[\"plant.for\u003cbr/\u003ePlant Module Dispatcher\"]\n            SPAM[\"SPAM.for\u003cbr/\u003eSoil-Plant-Atmosphere\"]\n        end\n        \n        subgraph \"Plant Models\"\n            CROPGRO[\"CROPGRO.for\u003cbr/\u003eGeneric Crop Model\"]\n            CERES[\"CERES Models\u003cbr/\u003eCereal Crops\"]\n            FORAGE[\"FORAGE Models\u003cbr/\u003eForage Crops\"]\n            CSCER[\"CSCER/CSCRP\u003cbr/\u003eWheat, Barley\"]\n        end\n        \n        subgraph \"Data Management\"\n            InputModule[\"input_sub.for\u003cbr/\u003eInput Processing\"]\n            DataFiles[\"*.CDE Files\u003cbr/\u003eConfiguration Data\"]\n            Genotype[\"*.CUL, *.ECO, *.SPE\u003cbr/\u003eCultivar Parameters\"]\n        end\n        \n        subgraph \"strawberryDSSAT (Python)\"\n            PythonCROPGRO[\"CropgroStrawberry\u003cbr/\u003ePython Implementation\"]\n            ValidationSuite[\"Validation Framework\u003cbr/\u003eFortran Comparison\"]\n        end\n    end\n    \n    CSM --\u003e LAND\n    LAND --\u003e SOIL\n    LAND --\u003e SPAM\n    LAND --\u003e PLANT\n    PLANT --\u003e CROPGRO\n    PLANT --\u003e CERES\n    PLANT --\u003e FORAGE\n    PLANT --\u003e CSCER\n    InputModule --\u003e CSM\n    DataFiles --\u003e InputModule\n    Genotype --\u003e PLANT\n    \n    CROPGRO -.-\u003e PythonCROPGRO\n    PythonCROPGRO --\u003e ValidationSuite\n    ValidationSuite -.-\u003e CROPGRO\n```\n\n**DSSAT Ecosystem Architecture**\n\nSources: [CSM_Main/CSM.for:35-48](), [CSM_Main/LAND.for:8-14](), [Plant/plant.for:9-22](), [Soil/SOIL.for:8-17](), [SPAM/SPAM.for:8-12]()\n\n## Modular Architecture Principles\n\nDSSAT-CSM employs a modular design where each module handles specific aspects of the soil-plant-atmosphere system. This architecture enables the strawberryDSSAT Python implementation to maintain structural compatibility while providing enhanced accessibility and maintainability.\n\n```mermaid\ngraph LR\n    subgraph \"Scientific Discipline Modules\"\n        subgraph \"Atmosphere\"\n            Weather[\"Weather Data\u003cbr/\u003eDaily Climate Inputs\"]\n            SPAM_Module[\"SPAM Module\u003cbr/\u003eEnergy Balance\"]\n        end\n        \n        subgraph \"Plant\"\n            PlantDispatcher[\"plant.for\u003cbr/\u003eModel Dispatcher\"]\n            CropModels[\"Crop-Specific Models\u003cbr/\u003eCROPGRO, CERES, etc.\"]\n        end\n        \n        subgraph \"Soil\"\n            SoilMain[\"SOIL.for\u003cbr/\u003eMain Soil Module\"]\n            WaterBalance[\"WATBAL\u003cbr/\u003eWater Balance\"]\n            NutrientDynamics[\"SoilN, SoilP, SoilK\u003cbr/\u003eNutrient Cycling\"]\n            OrganicMatter[\"CENTURY/SoilOrg\u003cbr/\u003eOrganic Matter\"]\n        end\n        \n        subgraph \"Management\"\n            Operations[\"Management Operations\u003cbr/\u003ePlanting, Irrigation, etc.\"]\n            InputFiles[\"Experiment Files\u003cbr/\u003e.SRX, .WTH, .SOL\"]\n        end\n    end\n    \n    Weather --\u003e SPAM_Module\n    SPAM_Module --\u003e PlantDispatcher\n    SPAM_Module --\u003e SoilMain\n    PlantDispatcher --\u003e CropModels\n    SoilMain --\u003e WaterBalance\n    SoilMain --\u003e NutrientDynamics\n    SoilMain --\u003e OrganicMatter\n    Operations --\u003e PlantDispatcher\n    Operations --\u003e SoilMain\n    InputFiles --\u003e Operations\n```\n\n**DSSAT Modular Architecture by Scientific Discipline**\n\nSources: [README.md:25-35](), [Plant/plant.for:80-104](), [Soil/SOIL.for:8-17](), [SPAM/SPAM.for:34-36]()\n\n## Simulation Control Flow\n\nBoth the original Fortran DSSAT and the strawberryDSSAT Python implementation follow the same fundamental simulation control pattern using the `DYNAMIC` variable to represent different execution phases.\n\n```mermaid\nflowchart TD\n    Start[\"Simulation Start\"] --\u003e RUNINIT[\"RUNINIT\u003cbr/\u003eOne-time Initialization\"]\n    RUNINIT --\u003e SeasonLoop[\"Begin Season Loop\"]\n    SeasonLoop --\u003e SEASINIT[\"SEASINIT\u003cbr/\u003eSeason Initialization\"]\n    SEASINIT --\u003e DailyLoop[\"Begin Daily Loop\"]\n    \n    DailyLoop --\u003e RATE[\"RATE\u003cbr/\u003eDaily Rate Calculations\"]\n    RATE --\u003e Weather[\"Read Weather Data\"]\n    Weather --\u003e SoilRates[\"Soil Process Rates\"]\n    SoilRates --\u003e PlantRates[\"Plant Process Rates\"]\n    PlantRates --\u003e SPAMRates[\"SPAM Energy Balance\"]\n    \n    SPAMRates --\u003e INTEGR[\"INTEGR\u003cbr/\u003eState Integration\"]\n    INTEGR --\u003e SoilIntegr[\"Update Soil States\"]\n    SoilIntegr --\u003e PlantIntegr[\"Update Plant States\"]\n    PlantIntegr --\u003e SPAMIntegr[\"Update SPAM States\"]\n    \n    SPAMIntegr --\u003e OUTPUT[\"OUTPUT\u003cbr/\u003eGenerate Outputs\"]\n    OUTPUT --\u003e EndDay{\"End of Season?\"}\n    EndDay --\u003e|No| DailyLoop\n    EndDay --\u003e|Yes| SEASEND[\"SEASEND\u003cbr/\u003eEnd-of-Season Processing\"]\n    \n    SEASEND --\u003e MoreSeasons{\"More Seasons?\"}\n    MoreSeasons --\u003e|Yes| SeasonLoop\n    MoreSeasons --\u003e|No| ENDRUN[\"ENDRUN\u003cbr/\u003eFinal Cleanup\"]\n    ENDRUN --\u003e End[\"Simulation Complete\"]\n```\n\n**DSSAT Simulation Control Flow Using DYNAMIC Variable**\n\nSources: [CSM_Main/CSM.for:207-804](), [CSM_Main/LAND.for:119-531]()\n\n## strawberryDSSAT Integration Context\n\nThe strawberryDSSAT repository implements a Python version of the CROPGRO strawberry model while maintaining structural and functional compatibility with the broader DSSAT ecosystem.\n\n```mermaid\ngraph TB\n    subgraph \"Integration Architecture\"\n        subgraph \"Fortran DSSAT Reference\"\n            FortranDSSAT[\"dssat-csm-os/\u003cbr/\u003eOriginal Fortran Implementation\"]\n            FortranCROPGRO[\"CROPGRO.for\u003cbr/\u003eStrawberry Model\"]\n            FortranData[\"CBGRO048.*\u003cbr/\u003eStrawberry Parameters\"]\n        end\n        \n        subgraph \"Python Implementation\"\n            PythonModel[\"cropgro-strawberry-implementation.py\u003cbr/\u003eCropgroStrawberry Class\"]\n            PythonState[\"PlantState Management\u003cbr/\u003eBiomass, LAI, Phenology\"]\n            PythonProcesses[\"Physiological Processes\u003cbr/\u003ePhotosynthesis, Transpiration\"]\n        end\n        \n        subgraph \"Validation Framework\"\n            Comparison[\"compare_with_fortran.py\u003cbr/\u003eOutput Comparison\"]\n            Validation[\"validate_models.py\u003cbr/\u003eStatistical Validation\"]\n            FullPipeline[\"run_full_comparison.py\u003cbr/\u003eComplete Validation\"]\n        end\n        \n        subgraph \"Build System\"\n            MacBuild[\"build_dssat_macos.sh\u003cbr/\u003emacOS Build Script\"]\n            WinBuild[\"build_dssat_windows.sh\u003cbr/\u003eWindows Build Script\"]\n            CMakeConfig[\"CMakeLists.txt\u003cbr/\u003eCross-platform Build\"]\n        end\n    end\n    \n    FortranDSSAT --\u003e FortranCROPGRO\n    FortranCROPGRO --\u003e FortranData\n    \n    PythonModel --\u003e PythonState\n    PythonModel --\u003e PythonProcesses\n    \n    FortranCROPGRO --\u003e Comparison\n    PythonModel --\u003e Comparison\n    Comparison --\u003e Validation\n    Validation --\u003e FullPipeline\n    \n    MacBuild --\u003e FortranDSSAT\n    WinBuild --\u003e FortranDSSAT\n    CMakeConfig --\u003e FortranDSSAT\n```\n\n**strawberryDSSAT Integration with DSSAT Ecosystem**\n\nSources: [cropgro-strawberry-implementation.py:1-50](), [compare_with_fortran.py:1-30](), [validate_models.py:1-25](), [build_dssat_macos.sh:1-20]()\n\n## Data Management and File Formats\n\nThe strawberryDSSAT implementation maintains compatibility with DSSAT file formats and data structures, enabling seamless integration with existing DSSAT workflows and datasets.\n\n| Component | DSSAT Format | strawberryDSSAT Usage | Purpose |\n|-----------|--------------|----------------------|---------|\n| Experiment Files | `.SRX` | Input to both implementations | Define simulation parameters |\n| Weather Data | `.WTH` | Shared format | Daily climate inputs |\n| Soil Data | `.SOL` | Compatible format | Soil profile parameters |\n| Cultivar Parameters | `.CUL` | CBGRO048.CUL reference | Genetic coefficients |\n| Ecotype Parameters | `.ECO` | CBGRO048.ECO reference | Environmental adaptations |\n| Species Parameters | `.SPE` | CBGRO048.SPE reference | Species-level constants |\n| Output Files | `.OUT`, `.CSV` | Validation comparison | Simulation results |\n\nSources: [Data/Genotype/CBGRO048.CUL:1-10](), [Data/Genotype/CBGRO048.ECO:1-10](), [Data/Genotype/CBGRO048.SPE:1-10](), [InputModule/input_sub.for:1-50]()\n\n## Configuration and Code Management\n\nThe DSSAT framework uses extensive configuration files (`.CDE` files) to define simulation parameters, output variables, and system behavior. The strawberryDSSAT implementation references these configurations for compatibility validation.\n\n```mermaid\ngraph LR\n    subgraph \"Configuration System\"\n        subgraph \"Core Configuration\"\n            SIMULATION[\"SIMULATION.CDE\u003cbr/\u003eSimulation Control\"]\n            OUTPUT[\"OUTPUT.CDE\u003cbr/\u003eOutput Variables\"]\n            DETAIL[\"DETAIL.CDE\u003cbr/\u003eDetail Levels\"]\n        end\n        \n        subgraph \"Scientific Configuration\"\n            SOIL_CDE[\"SOIL.CDE\u003cbr/\u003eSoil Parameters\"]\n            WEATHER_CDE[\"WEATHER.CDE\u003cbr/\u003eWeather Codes\"]\n            GRSTAGE[\"GRSTAGE.CDE\u003cbr/\u003eGrowth Stages\"]\n            GCOEFF[\"GCOEFF.CDE\u003cbr/\u003eGrowth Coefficients\"]\n        end\n        \n        subgraph \"Management Configuration\"\n            PEST[\"PEST.CDE\u003cbr/\u003ePest Management\"]\n            ECONOMIC[\"ECONOMIC.CDE\u003cbr/\u003eEconomic Analysis\"]\n            JDATE[\"JDATE.CDE\u003cbr/\u003eJulian Date Utilities\"]\n        end\n    end\n    \n    subgraph \"Python Implementation\"\n        ConfigReader[\"Configuration Reader\u003cbr/\u003eParse .CDE files\"]\n        ParameterValidation[\"Parameter Validation\u003cbr/\u003eEnsure Compatibility\"]\n    end\n    \n    SIMULATION --\u003e ConfigReader\n    OUTPUT --\u003e ConfigReader\n    SOIL_CDE --\u003e ConfigReader\n    WEATHER_CDE --\u003e ConfigReader\n    ConfigReader --\u003e ParameterValidation\n```\n\n**DSSAT Configuration System and Python Integration**\n\nSources: [Data/SIMULATION.CDE:1-10](), [Data/OUTPUT.CDE:1-10](), [Data/SOIL.CDE:1-10](), [Data/WEATHER.CDE:1-10](), [Data/GRSTAGE.CDE:1-10](), [Data/GCOEFF.CDE:1-10]()\n\n## Build System Integration\n\nThe strawberryDSSAT repository includes build scripts for compiling the original Fortran DSSAT system on multiple platforms, enabling direct comparison and validation of the Python implementation.\n\n```mermaid\ngraph TB\n    subgraph \"Cross-Platform Build System\"\n        subgraph \"Build Scripts\"\n            MacOSBuild[\"build_dssat_macos.sh\u003cbr/\u003emacOS Compilation\"]\n            WindowsBuild[\"build_dssat_windows.sh\u003cbr/\u003eWindows Compilation\"]\n            CMakeBuild[\"CMakeLists.txt\u003cbr/\u003eCross-platform Config\"]\n        end\n        \n        subgraph \"Fortran Compilation\"\n            SetFlags[\"SetFortranFlags.cmake\u003cbr/\u003eCompiler Configuration\"]\n            SourceFiles[\"*.for Files\u003cbr/\u003eFortran Source Code\"]\n            Executable[\"dssat048\u003cbr/\u003eCompiled Executable\"]\n        end\n        \n        subgraph \"Validation Pipeline\"\n            RunDSSAT[\"run_dssat Utility\u003cbr/\u003eExecute Fortran Model\"]\n            CompareOutputs[\"Output Comparison\u003cbr/\u003ePython vs Fortran\"]\n            GenerateReports[\"Validation Reports\u003cbr/\u003eStatistical Analysis\"]\n        end\n    end\n    \n    MacOSBuild --\u003e SetFlags\n    WindowsBuild --\u003e SetFlags\n    CMakeBuild --\u003e SetFlags\n    SetFlags --\u003e SourceFiles\n    SourceFiles --\u003e Executable\n    Executable --\u003e RunDSSAT\n    RunDSSAT --\u003e CompareOutputs\n    CompareOutputs --\u003e GenerateReports\n```\n\n**Build System for Fortran DSSAT Integration**\n\nSources: [build_dssat_macos.sh:1-30](), [build_dssat_windows.sh:1-30](), [cmake/Modules/SetFortranFlags.cmake:1-20](), [CMakeLists.txt:1-50]()"])</script><script>self.__next_f.push([1,"27:T2625,"])</script><script>self.__next_f.push([1,"# DSSAT System Architecture\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [deepwiki.com/DSSAT/dssat-csm-os/2-system-architecture](deepwiki.com/DSSAT/dssat-csm-os/2-system-architecture)\n- [deepwiki.com/DSSAT/dssat-csm-os/2.1-build-system](deepwiki.com/DSSAT/dssat-csm-os/2.1-build-system)\n- [deepwiki.com/DSSAT/dssat-csm-os/2.2-simulation-control](deepwiki.com/DSSAT/dssat-csm-os/2.2-simulation-control)\n\n\u003c/details\u003e\n\n\n\n## Purpose and Scope\n\nThis document describes the overall architecture of the DSSAT Cropping System Model (DSSAT-CSM), a process-based crop simulation model implemented in Fortran. It covers the modular design structure, core components, simulation control flow, and inter-module communication patterns within the DSSAT framework.\n\nThis page focuses on the architectural design of the original DSSAT-CSM-OS implementation. For information about specific core modules, see [Core DSSAT Modules](#5.2). For details about individual plant models, see [Plant Models in DSSAT](#5.3). For soil process modeling, see [Soil Process Modeling](#5.4).\n\n## High-Level System Architecture\n\nDSSAT-CSM follows a hierarchical modular design where the main program (`CSM`) orchestrates multiple specialized modules organized by scientific discipline. The system employs a central coordination pattern through the `LAND` module, which serves as the primary interface between atmospheric, soil, plant, and management components.\n\n```mermaid\ngraph TD\n    CSM[\"CSM.for\u003cbr/\u003eMain Program\"]\n    LAND[\"LAND.for\u003cbr/\u003eCentral Coordinator\"]\n    SOIL[\"SOIL.for\u003cbr/\u003eSoil Processes\"]\n    PLANT[\"PLANT.for\u003cbr/\u003ePlant Interface\"]\n    WEATHER[\"Weather Module\u003cbr/\u003eAtmospheric Data\"]\n    SPAM[\"SPAM.for\u003cbr/\u003eSoil-Plant-Atmosphere\"]\n    INPUT[\"InputModule\u003cbr/\u003eData Input\"]\n    OUTPUT[\"Output System\u003cbr/\u003eResults \u0026 Reports\"]\n    \n    CSM --\u003e LAND\n    LAND --\u003e SOIL\n    LAND --\u003e PLANT\n    LAND --\u003e WEATHER\n    LAND --\u003e SPAM\n    CSM --\u003e INPUT\n    CSM --\u003e OUTPUT\n    \n    PLANT --\u003e CROPGRO[\"CROPGRO.for\u003cbr/\u003eCrop Growth Model\"]\n    PLANT --\u003e CERES[\"CERES Models\"]\n    PLANT --\u003e FORAGE[\"FORAGE Model\"]\n```\n\nThe architecture implements separation of concerns where each module handles a specific domain of the simulation:\n- **CSM**: Overall simulation control and coordination\n- **LAND**: Interface management between major subsystems  \n- **SOIL**: Soil water balance, nutrient dynamics, and soil processes\n- **PLANT**: Plant growth, development, and physiological processes\n- **WEATHER**: Climate data processing and atmospheric conditions\n- **SPAM**: Soil-Plant-Atmosphere-Management interactions\n\nSources: [CSM_Main/CSM.for:424-425](), [CSM_Main/LAND.for:24-37](), [Plant/plant.for:65-108](), [Soil/SOIL.for:11-19](), [SPAM/SPAM.for:28-35]()\n\n## Core System Components\n\n### Main Program Structure\n\nThe system is built around several key Fortran modules that implement the core functionality:\n\n```mermaid\ngraph LR\n    subgraph \"Control Layer\"\n        CSM_Main[\"CSM.for\u003cbr/\u003eMain Control Loop\"]\n        LAND_Mod[\"LAND.for\u003cbr/\u003eLand Surface Interface\"]\n    end\n    \n    subgraph \"Process Modules\"\n        SOIL_Mod[\"SOIL.for\u003cbr/\u003eSoil Dynamics\"]\n        PLANT_Mod[\"PLANT.for\u003cbr/\u003ePlant Interface\"]\n        SPAM_Mod[\"SPAM.for\u003cbr/\u003eIntegrated Processes\"]\n    end\n    \n    subgraph \"Input/Output Layer\"\n        INPUT_Mod[\"input_sub.for\u003cbr/\u003eInput Processing\"]\n        OUTPUT_Sys[\"Output Generation\u003cbr/\u003eSummary \u0026 Reports\"]\n    end\n    \n    subgraph \"Plant Models\"\n        CROPGRO_Mod[\"CROPGRO.for\u003cbr/\u003eGeneric Crop Model\"]\n        GENOTYPE_Data[\"*.CUL, *.ECO, *.SPE\u003cbr/\u003eCultivar Parameters\"]\n    end\n    \n    CSM_Main --\u003e LAND_Mod\n    CSM_Main --\u003e INPUT_Mod\n    CSM_Main --\u003e OUTPUT_Sys\n    LAND_Mod --\u003e SOIL_Mod\n    LAND_Mod --\u003e PLANT_Mod\n    LAND_Mod --\u003e SPAM_Mod\n    PLANT_Mod --\u003e CROPGRO_Mod\n    CROPGRO_Mod --\u003e GENOTYPE_Data\n```\n\n### Module Responsibilities\n\n| Module | Primary Function | Key Files |\n|--------|------------------|-----------|\n| `CSM` | Main program control, simulation loops | [CSM_Main/CSM.for]() |\n| `LAND` | Central interface, module coordination | [CSM_Main/LAND.for]() |\n| `SOIL` | Soil water balance, nutrient dynamics | [Soil/SOIL.for]() |\n| `PLANT` | Plant model interface and coordination | [Plant/plant.for]() |\n| `CROPGRO` | Generic crop growth simulation | [Plant/CROPGRO/CROPGRO.for]() |\n| `SPAM` | Soil-Plant-Atmosphere-Management integration | [SPAM/SPAM.for]() |\n| Input System | Data file reading and parsing | [InputModule/input_sub.for]() |\n\nSources: [CSM_Main/CSM.for:254-599](), [CSM_Main/LAND.for:287-349](), [Plant/CROPGRO/CROPGRO.for](), [InputModule/input_sub.for]()\n\n## Simulation Control Flow\n\n### Nested Loop Structure\n\nDSSAT-CSM implements a hierarchical control structure with four nested simulation loops:\n\n```mermaid\nflowchart TD\n    Start[\"Program Start\"]\n    ExpLoop[\"Experiment Loop\u003cbr/\u003eMultiple Experiments\"]\n    TrtLoop[\"Treatment Loop\u003cbr/\u003eDifferent Treatments\"]\n    SeasonLoop[\"Season Loop\u003cbr/\u003eMultiple Years/Seasons\"]\n    DayLoop[\"Daily Loop\u003cbr/\u003eDaily Time Steps\"]\n    \n    InitPhase[\"Initialization Phase\u003cbr/\u003eDYNAMIC = RUNINIT\"]\n    SeasonInit[\"Seasonal Init\u003cbr/\u003eDYNAMIC = SEASINIT\"]\n    RatePhase[\"Rate Calculation\u003cbr/\u003eDYNAMIC = RATE\"]\n    IntegPhase[\"Integration\u003cbr/\u003eDYNAMIC = INTEGR\"]\n    OutputPhase[\"Output Generation\u003cbr/\u003eDYNAMIC = OUTPUT\"]\n    EndSeason[\"End Season\u003cbr/\u003eDYNAMIC = SEASEND\"]\n    \n    Start --\u003e ExpLoop\n    ExpLoop --\u003e TrtLoop\n    TrtLoop --\u003e SeasonLoop\n    SeasonLoop --\u003e InitPhase\n    InitPhase --\u003e SeasonInit\n    SeasonInit --\u003e DayLoop\n    DayLoop --\u003e RatePhase\n    RatePhase --\u003e IntegPhase\n    IntegPhase --\u003e OutputPhase\n    OutputPhase --\u003e DayLoop\n    DayLoop --\u003e EndSeason\n    EndSeason --\u003e SeasonLoop\n```\n\n### Dynamic Phase Control\n\nEach simulation day executes through standardized phases controlled by the `DYNAMIC` variable:\n\n| Phase | DYNAMIC Value | Purpose |\n|-------|---------------|---------|\n| Initialization | `RUNINIT` | Model setup and parameter reading |\n| Seasonal Init | `SEASINIT` | Season-specific initialization |\n| Rate Calculation | `RATE` | Calculate daily rates of change |\n| Integration | `INTEGR` | Update state variables |\n| Output | `OUTPUT` | Generate daily outputs |\n| Season End | `SEASEND` | End-of-season calculations |\n\nSources: [CSM_Main/CSM.for:254-599](), [CSM_Main/CSM.for:473-480](), [CSM_Main/CSM.for:507-511](), [CSM_Main/CSM.for:528-532](), [CSM_Main/CSM.for:542-545]()\n\n## Module Interaction Patterns\n\n### Daily Execution Sequence\n\nWithin each daily simulation loop, modules are called in a specific sequence through the `LAND` module:\n\n```mermaid\nsequenceDiagram\n    participant CSM as \"CSM.for\"\n    participant LAND as \"LAND.for\"\n    participant WEATHER as \"Weather Module\"\n    participant SOIL as \"SOIL.for\"\n    participant PLANT as \"PLANT.for\"\n    participant SPAM as \"SPAM.for\"\n    participant OUTPUT as \"Output System\"\n    \n    CSM-\u003e\u003eLAND: Call with DYNAMIC phase\n    LAND-\u003e\u003eWEATHER: Process weather data\n    LAND-\u003e\u003eSOIL: Soil water \u0026 nutrient processes\n    LAND-\u003e\u003ePLANT: Plant growth \u0026 development\n    LAND-\u003e\u003eSPAM: Integrated system processes\n    LAND-\u003e\u003eOUTPUT: Generate outputs\n    LAND--\u003e\u003eCSM: Return control\n```\n\n### Data Flow Architecture\n\nThe system implements a centralized data flow pattern where the `LAND` module manages information exchange between subsystems:\n\n```mermaid\ngraph TB\n    subgraph \"External Data\"\n        WeatherFiles[\"Weather Files\u003cbr/\u003e.WTH format\"]\n        SoilFiles[\"Soil Files\u003cbr/\u003e.SOL format\"]\n        CultivarFiles[\"Cultivar Files\u003cbr/\u003e.CUL, .ECO, .SPE\"]\n        ExpFiles[\"Experiment Files\u003cbr/\u003e.SRX format\"]\n    end\n    \n    subgraph \"Input Processing\"\n        InputSub[\"input_sub.for\u003cbr/\u003eFile Reading\"]\n    end\n    \n    subgraph \"Central Data Hub\"\n        LAND_Data[\"LAND Module\u003cbr/\u003eShared Variables\"]\n    end\n    \n    subgraph \"Process Modules\"\n        SoilProc[\"SOIL.for\u003cbr/\u003eSoil State Variables\"]\n        PlantProc[\"PLANT.for\u003cbr/\u003ePlant State Variables\"]\n        WeatherProc[\"Weather Processing\u003cbr/\u003eDaily Climate Data\"]\n    end\n    \n    subgraph \"Output Generation\"\n        Summary[\"Summary.OUT\"]\n        PlantGro[\"PlantGro.OUT\"]\n        SoilWat[\"SoilWat.OUT\"]\n    end\n    \n    WeatherFiles --\u003e InputSub\n    SoilFiles --\u003e InputSub\n    CultivarFiles --\u003e InputSub\n    ExpFiles --\u003e InputSub\n    \n    InputSub --\u003e LAND_Data\n    \n    LAND_Data \u003c--\u003e SoilProc\n    LAND_Data \u003c--\u003e PlantProc\n    LAND_Data \u003c--\u003e WeatherProc\n    \n    LAND_Data --\u003e Summary\n    LAND_Data --\u003e PlantGro\n    LAND_Data --\u003e SoilWat\n```\n\nSources: [CSM_Main/LAND.for:287-349](), [CSM_Main/LAND.for:354-392](), [CSM_Main/LAND.for:400-438]()\n\n## Build System Integration\n\nThe system uses CMake for cross-platform compilation with version management integrated into the build process:\n\n### Version Control Integration\n\n```mermaid\ngraph LR\n    subgraph \"Version Management\"\n        CMakeVars[\"CMakeLists.txt\u003cbr/\u003eVersion Variables\"]\n        GitInfo[\"Git Branch \u0026 Commit\u003cbr/\u003eRuntime Information\"]\n        VersionTemplate[\"CSMVersion.for.in\u003cbr/\u003eTemplate File\"]\n        VersionModule[\"CSMVersion.for\u003cbr/\u003eGenerated Module\"]\n    end\n    \n    subgraph \"Build Configuration\"\n        FortranFlags[\"SetFortranFlags.cmake\u003cbr/\u003eCompiler Settings\"]\n        BuildTarget[\"DSSAT Executable\u003cbr/\u003eFinal Binary\"]\n    end\n    \n    CMakeVars --\u003e VersionTemplate\n    GitInfo --\u003e VersionTemplate\n    VersionTemplate --\u003e VersionModule\n    FortranFlags --\u003e BuildTarget\n    VersionModule --\u003e BuildTarget\n```\n\nThe build system automatically embeds version information including major/minor version numbers, build numbers, Git branch names, and commit hashes into the compiled executable.\n\nSources: [CMakeLists.txt:22-25](), [CMakeLists.txt:27-48](), [Utilities/CSMVersion.for.in:13-21](), [cmake/Modules/SetFortranFlags.cmake]()"])</script><script>self.__next_f.push([1,"28:T2920,"])</script><script>self.__next_f.push([1,"# Core DSSAT Modules\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [deepwiki.com/DSSAT/dssat-csm-os/3-core-modules](deepwiki.com/DSSAT/dssat-csm-os/3-core-modules)\n- [deepwiki.com/DSSAT/dssat-csm-os/3.1-land-module](deepwiki.com/DSSAT/dssat-csm-os/3.1-land-module)\n- [deepwiki.com/DSSAT/dssat-csm-os/3.2-soil-module](deepwiki.com/DSSAT/dssat-csm-os/3.2-soil-module)\n- [deepwiki.com/DSSAT/dssat-csm-os/3.3-plant-module](deepwiki.com/DSSAT/dssat-csm-os/3.3-plant-module)\n- [deepwiki.com/DSSAT/dssat-csm-os/3.4-weather-module](deepwiki.com/DSSAT/dssat-csm-os/3.4-weather-module)\n\n\u003c/details\u003e\n\n\n\nThis document provides detailed documentation of the core functional modules within the DSSAT-CSM (Decision Support System for Agrotechnology Transfer - Cropping System Model) framework. These modules form the foundational architecture that enables agricultural crop simulation through coordinated soil, plant, weather, and management process modeling.\n\nFor information about the overall DSSAT system architecture and how these modules fit into the broader framework, see [DSSAT System Architecture](#5.1). For details about specific plant growth models that integrate with these core modules, see [Plant Models in DSSAT](#5.3). For soil-specific process modeling details, see [Soil Process Modeling](#5.4).\n\n## Module Architecture Overview\n\nThe DSSAT core modules follow a hierarchical architecture where the CSM (Cropping System Model) serves as the main controller, coordinating execution of specialized functional modules. Each module operates within a defined interface and maintains specific responsibilities within the overall simulation framework.\n\n```mermaid\ngraph TB\n    CSM[\"CSM.for\u003cbr/\u003eMain Controller\"]\n    LAND[\"LAND.for\u003cbr/\u003eCentral Coordination\"]\n    SOIL[\"SOIL.for\u003cbr/\u003eSoil Processes\"]\n    PLANT[\"plant.for\u003cbr/\u003ePlant Interface\"]\n    WEATHER[\"Weather Module\u003cbr/\u003eClimate Data\"]\n    SPAM[\"SPAM.for\u003cbr/\u003eSoil-Plant-Atmosphere\"]\n    INPUT[\"InputModule\u003cbr/\u003eData Management\"]\n    \n    CSM --\u003e LAND\n    LAND --\u003e SOIL\n    LAND --\u003e PLANT\n    LAND --\u003e WEATHER\n    LAND --\u003e SPAM\n    CSM --\u003e INPUT\n    \n    subgraph \"Core Execution Flow\"\n        LAND\n        SOIL\n        PLANT\n        WEATHER\n        SPAM\n    end\n    \n    subgraph \"Support Systems\"\n        INPUT\n    end\n```\n\nSources: [CSM_Main/CSM.for](), [CSM_Main/LAND.for](), [Soil/SOIL.for](), [Plant/plant.for](), [SPAM/SPAM.for](), [InputModule/input_sub.for]()\n\n## CSM Main Controller Module\n\nThe `CSM.for` module serves as the primary simulation controller, managing the overall execution flow and coordinating calls to specialized modules. It handles simulation initialization, daily time-step iteration, and final output generation.\n\n| Component | File Path | Primary Functions |\n|-----------|-----------|-------------------|\n| Main Controller | `CSM_Main/CSM.for` | Simulation orchestration, time-step management |\n| Simulation Control | `CSM_Main/` | Overall execution flow control |\n\nThe CSM module implements the main simulation loop that drives daily calculations across all component modules. It maintains simulation state and ensures proper sequencing of module execution.\n\n```mermaid\ngraph LR\n    CSM_INIT[\"CSM Initialize\"]\n    CSM_LOOP[\"Daily Time Step Loop\"]\n    CSM_LAND[\"Call LAND Module\"]\n    CSM_OUTPUT[\"Generate Outputs\"]\n    CSM_END[\"Simulation End\"]\n    \n    CSM_INIT --\u003e CSM_LOOP\n    CSM_LOOP --\u003e CSM_LAND\n    CSM_LAND --\u003e CSM_OUTPUT\n    CSM_OUTPUT --\u003e CSM_LOOP\n    CSM_LOOP --\u003e CSM_END\n```\n\nSources: [CSM_Main/CSM.for]()\n\n## LAND Coordination Module\n\nThe `LAND.for` module functions as the central coordination hub that manages interactions between soil, plant, weather, and soil-plant-atmosphere interface modules. It serves as the primary interface point for daily simulation calculations.\n\n### LAND Module Responsibilities\n\n- **Module Coordination**: Orchestrates calls to SOIL, PLANT, WEATHER, and SPAM modules\n- **Data Exchange**: Manages data flow between component modules\n- **State Management**: Maintains system state variables across simulation steps\n- **Interface Management**: Provides standardized interfaces for module communication\n\n```mermaid\ngraph TD\n    LAND_INIT[\"LAND Module Initialize\"]\n    LAND_DAILY[\"Daily Calculations\"]\n    \n    subgraph \"Daily Module Calls\"\n        CALL_WEATHER[\"Call Weather Module\"]\n        CALL_SOIL[\"Call SOIL Module\"]\n        CALL_PLANT[\"Call PLANT Module\"] \n        CALL_SPAM[\"Call SPAM Module\"]\n    end\n    \n    LAND_INIT --\u003e LAND_DAILY\n    LAND_DAILY --\u003e CALL_WEATHER\n    CALL_WEATHER --\u003e CALL_SOIL\n    CALL_SOIL --\u003e CALL_PLANT\n    CALL_PLANT --\u003e CALL_SPAM\n    CALL_SPAM --\u003e LAND_DAILY\n```\n\nSources: [CSM_Main/LAND.for]()\n\n## SOIL Processing Module\n\nThe `SOIL.for` module handles all soil-related processes including water balance, nutrient dynamics, temperature calculations, and soil physical property management. It maintains soil state variables and processes soil-related management operations.\n\n### SOIL Module Components\n\n| Component | File Path | Function |\n|-----------|-----------|----------|\n| Main SOIL Interface | `Soil/SOIL.for` | Primary soil process coordination |\n| Soil Dynamics | `Soil/SoilUtilities/SOILDYN.for` | Dynamic soil property calculations |\n| Water Balance | Various soil water modules | Soil moisture and drainage |\n| Temperature | `SPAM/STEMP.for`, `SPAM/STEMP_EPIC.for` | Soil temperature modeling |\n\n```mermaid\ngraph TB\n    SOIL_MAIN[\"SOIL.for\u003cbr/\u003eMain Interface\"]\n    \n    subgraph \"Soil Processes\"\n        WATER[\"Water Balance\u003cbr/\u003eCalculations\"]\n        TEMP[\"Temperature\u003cbr/\u003eSTEMP.for\"]\n        NUTRIENTS[\"Nutrient\u003cbr/\u003eDynamics\"]\n        DYNAMICS[\"Soil Dynamics\u003cbr/\u003eSOILDYN.for\"]\n    end\n    \n    SOIL_MAIN --\u003e WATER\n    SOIL_MAIN --\u003e TEMP\n    SOIL_MAIN --\u003e NUTRIENTS\n    SOIL_MAIN --\u003e DYNAMICS\n```\n\nSources: [Soil/SOIL.for](), [Soil/SoilUtilities/SOILDYN.for](), [SPAM/STEMP.for](), [SPAM/STEMP_EPIC.for]()\n\n## PLANT Interface Module\n\nThe `plant.for` module serves as the interface between the main simulation system and crop-specific growth models. It provides a standardized interface for different plant models while allowing crop-specific implementations.\n\n### PLANT Module Architecture\n\n- **Model Interface**: Standardized interface for crop models (CROPGRO, CERES, etc.)\n- **Growth Calculations**: Coordinates plant growth and development processes\n- **Phenology**: Manages crop development stages and timing\n- **Biomass Allocation**: Handles biomass partitioning and yield formation\n\n```mermaid\ngraph LR\n    PLANT_INTERFACE[\"plant.for\u003cbr/\u003ePlant Interface\"]\n    \n    subgraph \"Crop Models\"\n        CROPGRO[\"CROPGRO.for\u003cbr/\u003eLegume/Strawberry Models\"]\n        CERES[\"CERES Models\u003cbr/\u003eCereal Crops\"]\n        FORAGE[\"Forage Models\u003cbr/\u003ePasture/Grass\"]\n    end\n    \n    PLANT_INTERFACE --\u003e CROPGRO\n    PLANT_INTERFACE --\u003e CERES\n    PLANT_INTERFACE --\u003e FORAGE\n```\n\nSources: [Plant/plant.for](), [Plant/CROPGRO/CROPGRO.for]()\n\n## SPAM Soil-Plant-Atmosphere Module\n\nThe SPAM (Soil-Plant-Atmosphere) module manages the critical interface between soil, plant, and atmospheric processes. It handles evapotranspiration, soil evaporation, and energy balance calculations.\n\n### SPAM Module Components\n\n| Component | File Path | Function |\n|-----------|-----------|----------|\n| Main SPAM Interface | `SPAM/SPAM.for` | Primary SPAM coordination |\n| Soil Evaporation | `SPAM/SOILEV.for`, `SPAM/ESR_SoilEvap.for` | Soil surface evaporation |\n| Transpiration | `SPAM/TRANS.for` | Plant transpiration calculations |\n| Utilities | `SPAM/SPSUBS.for` | SPAM utility functions |\n\n```mermaid\ngraph TB\n    SPAM_MAIN[\"SPAM.for\u003cbr/\u003eMain Interface\"]\n    \n    subgraph \"SPAM Processes\"\n        EVAP[\"Soil Evaporation\u003cbr/\u003eSOILEV.for\"]\n        TRANS[\"Plant Transpiration\u003cbr/\u003eTRANS.for\"]\n        ENERGY[\"Energy Balance\u003cbr/\u003eCalculations\"]\n        UTILS[\"Utilities\u003cbr/\u003eSPSUBS.for\"]\n    end\n    \n    SPAM_MAIN --\u003e EVAP\n    SPAM_MAIN --\u003e TRANS\n    SPAM_MAIN --\u003e ENERGY\n    SPAM_MAIN --\u003e UTILS\n```\n\nSources: [SPAM/SPAM.for](), [SPAM/SOILEV.for](), [SPAM/ESR_SoilEvap.for](), [SPAM/TRANS.for](), [SPAM/SPSUBS.for]()\n\n## Input Processing Module\n\nThe Input Module manages data input, validation, and preprocessing for all simulation components. It handles experimental data files, soil parameters, weather data, and management information.\n\n### Input Module Structure\n\n| Component | File Path | Function |\n|-----------|-----------|----------|\n| Main Input Controller | `InputModule/IPSIM.for` | Primary input coordination |\n| Input Utilities | `InputModule/input_sub.for` | Input processing utilities |\n| Experiment Data | `InputModule/ipexp.for` | Experiment file processing |\n\n```mermaid\ngraph LR\n    INPUT_MAIN[\"IPSIM.for\u003cbr/\u003eInput Controller\"]\n    \n    subgraph \"Input Processing\"\n        EXP_DATA[\"Experiment Files\u003cbr/\u003eipexp.for\"]\n        WEATHER_DATA[\"Weather Data\u003cbr/\u003eProcessing\"]\n        SOIL_DATA[\"Soil Parameters\u003cbr/\u003eValidation\"]\n        MGMT_DATA[\"Management\u003cbr/\u003eOperations\"]\n    end\n    \n    INPUT_MAIN --\u003e EXP_DATA\n    INPUT_MAIN --\u003e WEATHER_DATA\n    INPUT_MAIN --\u003e SOIL_DATA\n    INPUT_MAIN --\u003e MGMT_DATA\n```\n\nSources: [InputModule/IPSIM.for](), [InputModule/input_sub.for](), [InputModule/ipexp.for]()\n\n## Module Interaction and Data Flow\n\nThe core DSSAT modules operate through a coordinated data exchange system where each module maintains specific state variables and provides defined interfaces for data sharing.\n\n```mermaid\ngraph TB\n    subgraph \"Daily Simulation Flow\"\n        START[\"Simulation Start\"]\n        WEATHER_READ[\"Read Weather Data\"]\n        SOIL_CALC[\"Soil Process Calculations\"]\n        PLANT_CALC[\"Plant Growth Calculations\"]\n        SPAM_CALC[\"SPAM Interface Calculations\"]\n        OUTPUT_GEN[\"Generate Daily Outputs\"]\n        END_CHECK[\"Check End Conditions\"]\n    end\n    \n    START --\u003e WEATHER_READ\n    WEATHER_READ --\u003e SOIL_CALC\n    SOIL_CALC --\u003e PLANT_CALC\n    PLANT_CALC --\u003e SPAM_CALC\n    SPAM_CALC --\u003e OUTPUT_GEN\n    OUTPUT_GEN --\u003e END_CHECK\n    END_CHECK --\u003e WEATHER_READ\n    END_CHECK --\u003e START\n```\n\n### Inter-Module Data Exchange\n\nThe modules exchange critical state variables including:\n\n- **Soil to Plant**: Soil water availability, nutrient status, temperature\n- **Plant to Soil**: Root water uptake, nutrient uptake, residue additions\n- **SPAM Interface**: Evapotranspiration rates, energy balance components\n- **Weather to All**: Temperature, radiation, precipitation, humidity\n\nSources: [CSM_Main/LAND.for](), [Soil/SOIL.for](), [Plant/plant.for](), [SPAM/SPAM.for]()"])</script><script>self.__next_f.push([1,"29:T2cfc,"])</script><script>self.__next_f.push([1,"# Plant Models in DSSAT\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [deepwiki.com/DSSAT/dssat-csm-os/4-plant-models](deepwiki.com/DSSAT/dssat-csm-os/4-plant-models)\n- [deepwiki.com/DSSAT/dssat-csm-os/4.1-cropgro-model](deepwiki.com/DSSAT/dssat-csm-os/4.1-cropgro-model)\n- [deepwiki.com/DSSAT/dssat-csm-os/4.2-ceres-models](deepwiki.com/DSSAT/dssat-csm-os/4.2-ceres-models)\n- [deepwiki.com/DSSAT/dssat-csm-os/4.3-forage-model](deepwiki.com/DSSAT/dssat-csm-os/4.3-forage-model)\n- [deepwiki.com/DSSAT/dssat-csm-os/4.4-cscer-and-other-models](deepwiki.com/DSSAT/dssat-csm-os/4.4-cscer-and-other-models)\n\n\u003c/details\u003e\n\n\n\nThis document provides an overview of the plant models within the DSSAT-CSM (Decision Support System for Agrotechnology Transfer - Cropping System Model) framework. Plant models are the core simulation engines that predict crop growth, development, and yield based on genetic, environmental, and management factors.\n\nFor information about the Python implementation of CROPGRO for strawberries, see [Python CROPGRO Implementation](#2). For details about soil processes that interact with plant models, see [Soil Process Modeling](#5.4).\n\n## Plant Model Architecture\n\nPlant models in DSSAT follow a modular architecture where each model family implements a standardized interface for integration with the broader DSSAT-CSM framework. The models simulate daily crop growth processes including photosynthesis, respiration, biomass partitioning, phenological development, and yield formation.\n\n```mermaid\ngraph TB\n    subgraph \"DSSAT-CSM Framework\"\n        CSM[\"CSM Main Controller\"]\n        LAND[\"LAND Module\"]\n        \n        subgraph \"Plant Model Interface\"\n            PlantInit[\"Plant Initialization\"]\n            PlantGrow[\"Daily Growth Simulation\"] \n            PlantHarv[\"Harvest Operations\"]\n        end\n        \n        subgraph \"Plant Model Families\"\n            CROPGRO[\"CROPGRO Models\u003cbr/\u003e(Legumes, Strawberry)\"]\n            CERES[\"CERES Models\u003cbr/\u003e(Cereals)\"]\n            FORAGE[\"FORAGE Models\u003cbr/\u003e(Perennials)\"]\n            CSCER[\"CSCER Models\u003cbr/\u003e(Rice, Cassava)\"]\n        end\n        \n        subgraph \"Supporting Systems\"\n            Weather[\"Weather Data\"]\n            Soil[\"Soil Processes\"]\n            Genetics[\"Genetic Parameters\"]\n            Management[\"Management Operations\"]\n        end\n    end\n    \n    CSM --\u003e LAND\n    LAND --\u003e PlantInit\n    LAND --\u003e PlantGrow  \n    LAND --\u003e PlantHarv\n    \n    PlantInit --\u003e CROPGRO\n    PlantInit --\u003e CERES\n    PlantInit --\u003e FORAGE\n    PlantInit --\u003e CSCER\n    \n    PlantGrow --\u003e CROPGRO\n    PlantGrow --\u003e CERES\n    PlantGrow --\u003e FORAGE\n    PlantGrow --\u003e CSCER\n    \n    Weather --\u003e PlantGrow\n    Soil --\u003e PlantGrow\n    Genetics --\u003e PlantInit\n    Management --\u003e PlantGrow\n```\n\n**Sources:** [CSM_Main/CSM.for](), [CSM_Main/LAND.for]()\n\n## Model Families Overview\n\nDSSAT includes several distinct plant model families, each optimized for specific crop types and growth characteristics:\n\n| Model Family | Target Crops | Key Characteristics | Directory |\n|--------------|--------------|-------------------|-----------|\n| **CROPGRO** | Legumes, strawberry, tomato, potato | Determinate/indeterminate growth, nitrogen fixation | `Plant/CROPGRO/` |\n| **CERES** | Wheat, maize, barley, millet, sorghum | Cereal-specific phenology, grain filling | `Plant/CERES-*/` |\n| **FORAGE** | Alfalfa, bermudagrass, bahiagrass | Perennial growth, cutting management | `Plant/FORAGE/` |\n| **CSCER** | Rice, cassava | Specialized crop requirements | `Plant/CSCER*/` |\n\n**Sources:** [Plant/CROPGRO/CROPGRO.for](), [Plant/CERES-Wheat_Barley/](), [Plant/FORAGE/]()\n\n## CROPGRO Model Family\n\nThe CROPGRO model is the most versatile plant model family in DSSAT, capable of simulating a wide range of annual crops including legumes, vegetables, and specialty crops like strawberries.\n\n```mermaid\ngraph TB\n    subgraph \"CROPGRO Model Structure\"\n        CropgroMain[\"CROPGRO Main\u003cbr/\u003e(CROPGRO.for)\"]\n        \n        subgraph \"Core Processes\"\n            Photosyn[\"Photosynthesis\u003cbr/\u003e(PHOTO.for)\"]\n            Growth[\"Growth \u0026 Development\u003cbr/\u003e(GROW.for)\"]\n            Phenology[\"Phenology\u003cbr/\u003e(PHENOL.for)\"]\n            Partition[\"Biomass Partitioning\u003cbr/\u003e(PARTIT.for)\"]\n        end\n        \n        subgraph \"Specialized Functions\"\n            Roots[\"Root Growth\u003cbr/\u003e(ROOTS.for)\"]\n            Pods[\"Pod/Fruit Development\u003cbr/\u003e(PODS.for)\"]\n            Leaves[\"Leaf Area\u003cbr/\u003e(VEGGR.for)\"]\n            FreshWt[\"Fresh Weight\u003cbr/\u003e(FreshWt.for)\"]\n        end\n        \n        subgraph \"Species Files\"\n            ECO[\"Ecotype Parameters\u003cbr/\u003e(.ECO files)\"]\n            SPE[\"Species Parameters\u003cbr/\u003e(.SPE files)\"]\n            CUL[\"Cultivar Parameters\u003cbr/\u003e(.CUL files)\"]\n        end\n    end\n    \n    CropgroMain --\u003e Photosyn\n    CropgroMain --\u003e Growth\n    CropgroMain --\u003e Phenology\n    CropgroMain --\u003e Partition\n    \n    Growth --\u003e Roots\n    Growth --\u003e Pods\n    Growth --\u003e Leaves\n    Growth --\u003e FreshWt\n    \n    CropgroMain --\u003e ECO\n    CropgroMain --\u003e SPE\n    CropgroMain --\u003e CUL\n```\n\n**Sources:** [Plant/CROPGRO/CROPGRO.for](), [Plant/CROPGRO/GROW.for](), [Plant/CROPGRO/FreshWt.for](), [Data/Genotype/COGRO048.ECO](), [Data/Genotype/COGRO048.SPE]()\n\n## CERES Model Family\n\nCERES models are specialized for cereal crops, featuring grain-specific growth processes and phenological development patterns optimized for wheat, maize, and related species.\n\n```mermaid\ngraph TB\n    subgraph \"CERES Model Structure\"\n        CeresMain[\"CERES Main Controller\"]\n        \n        subgraph \"Growth Modules\"\n            CerGrowth[\"CER_Growth.for\u003cbr/\u003eGrowth Calculations\"]\n            CerInit[\"CER_Init.for\u003cbr/\u003eInitialization\"]\n            CerTrans[\"CER_First_Trans_m.for\u003cbr/\u003ePhase Transitions\"]\n        end\n        \n        subgraph \"Specialized Processes\"\n            Tillering[\"Tillering Dynamics\"]\n            GrainFill[\"Grain Filling\"]\n            Vernalization[\"Vernalization Response\"]\n            Photoperiod[\"Photoperiod Sensitivity\"]\n        end\n        \n        subgraph \"Crop-Specific Variants\"\n            Wheat[\"CERES-Wheat\"]\n            Maize[\"CERES-Maize\"] \n            Barley[\"CERES-Barley\"]\n            Millet[\"CERES-Millet\"]\n        end\n    end\n    \n    CeresMain --\u003e CerGrowth\n    CeresMain --\u003e CerInit\n    CeresMain --\u003e CerTrans\n    \n    CerGrowth --\u003e Tillering\n    CerGrowth --\u003e GrainFill\n    CerInit --\u003e Vernalization\n    CerInit --\u003e Photoperiod\n    \n    CeresMain --\u003e Wheat\n    CeresMain --\u003e Maize\n    CeresMain --\u003e Barley\n    CeresMain --\u003e Millet\n```\n\n**Sources:** [Plant/CERES-Wheat_Barley/CER_Growth.for](), [Plant/CERES-Wheat_Barley/CER_Init.for](), [Plant/CERES-Wheat_Barley/CER_First_Trans_m.for]()\n\n## Model Integration Framework\n\nPlant models integrate with other DSSAT modules through standardized interfaces that handle data exchange for water, nutrients, temperature, and management operations.\n\n```mermaid\ngraph LR\n    subgraph \"Daily Simulation Loop\"\n        Weather[\"Weather Module\u003cbr/\u003eWEATHR\"]\n        Soil[\"Soil Module\u003cbr/\u003eSOILNI, WATBAL\"]\n        Plant[\"Plant Model\u003cbr/\u003eCROPGRO/CERES/FORAGE\"]\n        Management[\"Management\u003cbr/\u003eAUTHAR, IRRIG\"]\n    end\n    \n    subgraph \"Data Exchange\"\n        PlantSoil[\"Plant-Soil Interface\u003cbr/\u003eWater/Nutrient Uptake\"]\n        PlantWeather[\"Plant-Weather Interface\u003cbr/\u003eTemperature/Radiation\"]\n        PlantMgmt[\"Plant-Management Interface\u003cbr/\u003eOperations/Stress\"]\n    end\n    \n    Weather --\u003e PlantWeather\n    PlantWeather --\u003e Plant\n    \n    Soil --\u003e PlantSoil\n    PlantSoil --\u003e Plant\n    \n    Management --\u003e PlantMgmt\n    PlantMgmt --\u003e Plant\n    \n    Plant --\u003e PlantSoil\n    Plant --\u003e PlantWeather\n```\n\n**Sources:** [InputModule/SEHARV.for](), [Management/AUTHAR.for](), [InputModule/input_sub.for]()\n\n## Python Implementation Context\n\nThe strawberryDSSAT repository provides a Python implementation of the CROPGRO model specifically adapted for strawberry cultivation, serving as both a standalone model and a validation framework against the original Fortran implementation.\n\n```mermaid\ngraph TB\n    subgraph \"strawberryDSSAT Python Implementation\"\n        PyModel[\"CropgroStrawberry\u003cbr/\u003ecropgro-strawberry-implementation.py\"]\n        \n        subgraph \"Core Methods\"\n            Initialize[\"initialize()\"]\n            SimulateDay[\"simulate_day()\"]\n            CalcPhotosyn[\"calculate_photosynthesis()\"]\n            CalcGrowth[\"calculate_growth()\"]\n        end\n        \n        subgraph \"Validation Framework\"\n            TestSuite[\"Unit Tests\u003cbr/\u003ecropgro-strawberry-test1.py\"]\n            Comparison[\"Fortran Comparison\u003cbr/\u003ecompare_with_fortran.py\"]\n            Validation[\"Model Validation\u003cbr/\u003evalidate_models.py\"]\n        end\n        \n        subgraph \"Fortran DSSAT Reference\"\n            FortranBuild[\"DSSAT Build System\"]\n            FortranCROPGRO[\"Original CROPGRO\u003cbr/\u003ePlant/CROPGRO/\"]\n            FortranOutput[\"DSSAT Output Files\"]\n        end\n    end\n    \n    PyModel --\u003e Initialize\n    PyModel --\u003e SimulateDay\n    SimulateDay --\u003e CalcPhotosyn\n    SimulateDay --\u003e CalcGrowth\n    \n    PyModel --\u003e TestSuite\n    PyModel --\u003e Comparison\n    Comparison --\u003e Validation\n    \n    Comparison --\u003e FortranBuild\n    FortranBuild --\u003e FortranCROPGRO\n    FortranCROPGRO --\u003e FortranOutput\n    Validation --\u003e FortranOutput\n```\n\n**Sources:** [cropgro-strawberry-implementation.py](), [cropgro-strawberry-test1.py](), [compare_with_fortran.py](), [validate_models.py]()\n\n## Parameter Management\n\nPlant models rely on hierarchical parameter files that define species, ecotype, and cultivar characteristics. These parameters control genetic traits, environmental responses, and developmental patterns.\n\n| Parameter Level | File Extension | Purpose | Example Files |\n|----------------|----------------|---------|---------------|\n| **Species** | `.SPE` | Basic species characteristics | `COGRO048.SPE` |\n| **Ecotype** | `.ECO` | Environmental adaptation | `COGRO048.ECO` |\n| **Cultivar** | `.CUL` | Variety-specific traits | `COGRO048.CUL` |\n\nThe parameter hierarchy allows models to capture both broad species behavior and specific cultivar performance under different environmental conditions.\n\n**Sources:** [Data/Genotype/COGRO048.ECO](), [Data/Genotype/COGRO048.SPE](), [InputModule/COMIBS.blk]()\n\n## Model Output Integration\n\nPlant models generate comprehensive output data that integrates with DSSAT's output system for analysis and visualization. The models produce daily growth variables, seasonal summaries, and harvest information.\n\n```mermaid\ngraph LR\n    subgraph \"Plant Model Outputs\"\n        Daily[\"Daily Growth Variables\u003cbr/\u003eLAI, Biomass, Phenology\"]\n        Seasonal[\"Seasonal Summary\u003cbr/\u003eYield, Harvest Index\"]\n        Events[\"Phenological Events\u003cbr/\u003eFlowering, Maturity\"]\n    end\n    \n    subgraph \"Output Processing\"\n        PlantGro[\"PlantGro.OUT\u003cbr/\u003eGrowth Time Series\"]\n        Summary[\"Summary.OUT\u003cbr/\u003eSeasonal Results\"]\n        Events_OUT[\"Events.OUT\u003cbr/\u003ePhenology Dates\"]\n    end\n    \n    subgraph \"Analysis Tools\"\n        Graphs[\"Growth Curves\"]\n        Statistics[\"Yield Statistics\"]\n        Validation[\"Model Validation\"]\n    end\n    \n    Daily --\u003e PlantGro\n    Seasonal --\u003e Summary\n    Events --\u003e Events_OUT\n    \n    PlantGro --\u003e Graphs\n    Summary --\u003e Statistics\n    Events_OUT --\u003e Validation\n```\n\nThis output framework enables comprehensive model evaluation and supports the validation methodology used in the strawberryDSSAT Python implementation.\n\n**Sources:** [scripts/run_full_comparison.py](), [plot_results.py]()"])</script><script>self.__next_f.push([1,"2a:T3dc4,"])</script><script>self.__next_f.push([1,"# Soil Process Modeling\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [deepwiki.com/DSSAT/dssat-csm-os/5-soil-processes](deepwiki.com/DSSAT/dssat-csm-os/5-soil-processes)\n- [deepwiki.com/DSSAT/dssat-csm-os/5.1-soil-water-balance](deepwiki.com/DSSAT/dssat-csm-os/5.1-soil-water-balance)\n- [deepwiki.com/DSSAT/dssat-csm-os/5.2-greenhouse-gas-emissions](deepwiki.com/DSSAT/dssat-csm-os/5.2-greenhouse-gas-emissions)\n- [deepwiki.com/DSSAT/dssat-csm-os/5.3-soil-dynamics](deepwiki.com/DSSAT/dssat-csm-os/5.3-soil-dynamics)\n\n\u003c/details\u003e\n\n\n\n## Purpose and Scope\n\nThis page documents the computational modeling framework used to simulate soil processes in DSSAT-CSM. It covers the mathematical models, algorithmic approaches, and software architecture that enable integrated simulation of soil water dynamics, nutrient cycling, organic matter decomposition, and greenhouse gas emissions. For specific details on individual soil processes, see [Soil Water Balance](#5.1), [Greenhouse Gas Emissions](#5.2), and [Soil Dynamics](#5.3). For information about soil data input and output formats, see [Input/Output System](#6).\n\nThe soil process modeling framework provides the computational foundation for simulating the complex interactions between physical, chemical, and biological processes that occur in agricultural soils and affect crop growth.\n\n## Modeling Framework Architecture\n\nThe DSSAT soil process modeling system is built around a modular architecture that allows different process models to be selected and combined based on simulation requirements and data availability.\n\n### Core Modeling Components\n\n```mermaid\ngraph TB\n    subgraph \"Soil Process Modeling Framework\"\n        SOILDYN[\"SOILDYN\u003cbr/\u003eMain soil dynamics controller\"]\n        \n        subgraph \"Water Balance Models\"\n            WATBAL[\"WATBAL\u003cbr/\u003eWater balance calculations\"]\n            INFIL[\"INFIL\u003cbr/\u003eInfiltration modeling\"]\n            SATFLO[\"SATFLO\u003cbr/\u003eSaturated flow\"]\n            WBSUBS[\"WBSUBS\u003cbr/\u003eWater balance subroutines\"]\n        end\n        \n        subgraph \"Organic Matter Models\"\n            CENTURY[\"CENTURY\u003cbr/\u003eCENTURY organic matter model\"]\n            CERES_OM[\"SoilOrg\u003cbr/\u003eCERES organic matter model\"]\n            TSOMLIT[\"TSOMLIT_C\u003cbr/\u003eTwo-pool SOM model\"]\n        end\n        \n        subgraph \"Greenhouse Gas Models\"\n            GHG_MOD[\"GHG_mod\u003cbr/\u003eGHG emissions controller\"]\n            METHANE[\"Methane\u003cbr/\u003eCH4 production model\"]\n            METHMOD[\"Methmod\u003cbr/\u003eMethane oxidation\"]\n        end\n        \n        subgraph \"Nutrient Models\"\n            SOILCBAL[\"SoilCBal\u003cbr/\u003eCarbon balance\"]\n            SOILNBAL[\"SoilNBal\u003cbr/\u003eNitrogen balance\"]\n            SOILPBAL[\"SoilPBal\u003cbr/\u003ePhosphorus balance\"]\n        end\n        \n        subgraph \"Physical Process Models\"\n            SOILEV[\"SOILEV\u003cbr/\u003eSoil evaporation\"]\n            ESR_SOILEVAP[\"ESR_SoilEvap\u003cbr/\u003eEnergy balance evaporation\"]\n            TILEDRAIN[\"TILEDRAIN\u003cbr/\u003eTile drainage modeling\"]\n            WATERTABLE[\"WaterTable\u003cbr/\u003eWater table dynamics\"]\n        end\n    end\n    \n    SOILDYN --\u003e WATBAL\n    SOILDYN --\u003e CENTURY\n    SOILDYN --\u003e CERES_OM\n    SOILDYN --\u003e GHG_MOD\n    SOILDYN --\u003e SOILCBAL\n    \n    WATBAL --\u003e INFIL\n    WATBAL --\u003e SATFLO\n    WATBAL --\u003e WBSUBS\n    \n    GHG_MOD --\u003e METHANE\n    GHG_MOD --\u003e METHMOD\n    \n    CENTURY --\u003e TSOMLIT\n    \n    WATBAL --\u003e SOILEV\n    WATBAL --\u003e ESR_SOILEVAP\n    WATBAL --\u003e TILEDRAIN\n    WATBAL --\u003e WATERTABLE\n```\n\nSources: [Soil/SoilUtilities/SOILDYN.for](), [Soil/SoilWater/WATBAL.for](), [Soil/CENTURY_OrganicMatter/CENTURY.for](), [Soil/CERES_OrganicMatter/SoilOrg.for](), [Soil/GHG/GHG_mod.for]()\n\n### Model Selection and Configuration\n\nThe DSSAT soil modeling framework supports multiple alternative models for key processes, allowing users to select the most appropriate approach based on data availability and scientific requirements.\n\n```mermaid\ngraph TD\n    subgraph \"Model Selection Framework\"\n        CONFIG[\"Model Configuration\u003cbr/\u003eInput parameters\"]\n        \n        subgraph \"Organic Matter Model Selection\"\n            OM_SWITCH[\"MSOM switch\u003cbr/\u003eOrganic matter model selector\"]\n            CENTURY_PATH[\"CENTURY Model\u003cbr/\u003eDetailed multi-pool model\"]\n            CERES_PATH[\"CERES Model\u003cbr/\u003eSimplified two-pool model\"]\n        end\n        \n        subgraph \"Water Balance Model Selection\"\n            WB_SWITCH[\"Water balance method selector\"]\n            RITCHIE[\"Ritchie Method\u003cbr/\u003eSimple water balance\"]\n            PRIESTLEY[\"Priestley-Taylor Method\u003cbr/\u003eEnergy balance approach\"]\n            PENMAN[\"Penman-Monteith Method\u003cbr/\u003eFull energy balance\"]\n        end\n        \n        subgraph \"GHG Model Selection\"\n            GHG_SWITCH[\"GHG model selector\"]\n            METHANE_ON[\"Methane production enabled\"]\n            METHANE_OFF[\"Methane production disabled\"]\n            N2O_ON[\"N2O emissions enabled\"]\n            N2O_OFF[\"N2O emissions disabled\"]\n        end\n    end\n    \n    CONFIG --\u003e OM_SWITCH\n    CONFIG --\u003e WB_SWITCH\n    CONFIG --\u003e GHG_SWITCH\n    \n    OM_SWITCH --\u003e CENTURY_PATH\n    OM_SWITCH --\u003e CERES_PATH\n    \n    WB_SWITCH --\u003e RITCHIE\n    WB_SWITCH --\u003e PRIESTLEY\n    WB_SWITCH --\u003e PENMAN\n    \n    GHG_SWITCH --\u003e METHANE_ON\n    GHG_SWITCH --\u003e METHANE_OFF\n    GHG_SWITCH --\u003e N2O_ON\n    GHG_SWITCH --\u003e N2O_OFF\n```\n\nSources: [Soil/SoilUtilities/SOILDYN.for](), [InputModule/ipexp.for](), [Soil/GHG/GHG_mod.for]()\n\n## Process Model Integration\n\n### Daily Calculation Workflow\n\nThe soil process modeling framework operates on a daily time step, with complex interactions between physical, chemical, and biological processes computed in a specific sequence to ensure mass and energy balance.\n\n```mermaid\nflowchart TD\n    START[\"Daily Soil Process Calculation Start\"]\n    \n    subgraph \"Water Balance Phase\"\n        PRECIP[\"Process precipitation\u003cbr/\u003eand irrigation inputs\"]\n        INFILTRATION[\"Calculate infiltration\u003cbr/\u003eINFIL subroutine\"]\n        RUNOFF[\"Calculate surface runoff\u003cbr/\u003eRNOFF subroutine\"]\n        REDISTRIBUTION[\"Water redistribution\u003cbr/\u003eSATFLO and unsaturated flow\"]\n        DRAINAGE[\"Calculate drainage\u003cbr/\u003eand tile drain losses\"]\n        EVAPORATION[\"Soil evaporation\u003cbr/\u003eSOILEV or ESR_SoilEvap\"]\n    end\n    \n    subgraph \"Temperature Phase\"\n        SOIL_TEMP[\"Calculate soil temperature\u003cbr/\u003eprofile updates\"]\n        FROST_THAW[\"Handle freeze-thaw\u003cbr/\u003eprocesses\"]\n    end\n    \n    subgraph \"Chemical Process Phase\"\n        OM_DECOMP[\"Organic matter decomposition\u003cbr/\u003eCENTURY or CERES model\"]\n        NUTRIENT_CYCLING[\"Nutrient transformations\u003cbr/\u003eN, P, K cycling\"]\n        PH_CHEMISTRY[\"Soil chemistry updates\u003cbr/\u003epH, CEC calculations\"]\n    end\n    \n    subgraph \"Gas Exchange Phase\"\n        CO2_PRODUCTION[\"CO2 production from\u003cbr/\u003eorganic matter decomposition\"]\n        CH4_PROCESSES[\"Methane production/oxidation\u003cbr/\u003eif anaerobic conditions\"]\n        N2O_PRODUCTION[\"N2O emissions from\u003cbr/\u003enitrification/denitrification\"]\n        GAS_TRANSPORT[\"Gas diffusion and\u003cbr/\u003esurface emissions\"]\n    end\n    \n    subgraph \"Mass Balance Phase\"\n        CARBON_BALANCE[\"Carbon mass balance\u003cbr/\u003eSoilCBal verification\"]\n        NITROGEN_BALANCE[\"Nitrogen mass balance\u003cbr/\u003everification\"]\n        WATER_BALANCE[\"Water mass balance\u003cbr/\u003everification\"]\n    end\n    \n    END[\"Daily Calculation Complete\u003cbr/\u003eUpdate state variables\"]\n    \n    START --\u003e PRECIP\n    PRECIP --\u003e INFILTRATION\n    INFILTRATION --\u003e RUNOFF\n    RUNOFF --\u003e REDISTRIBUTION\n    REDISTRIBUTION --\u003e DRAINAGE\n    DRAINAGE --\u003e EVAPORATION\n    \n    EVAPORATION --\u003e SOIL_TEMP\n    SOIL_TEMP --\u003e FROST_THAW\n    \n    FROST_THAW --\u003e OM_DECOMP\n    OM_DECOMP --\u003e NUTRIENT_CYCLING\n    NUTRIENT_CYCLING --\u003e PH_CHEMISTRY\n    \n    PH_CHEMISTRY --\u003e CO2_PRODUCTION\n    CO2_PRODUCTION --\u003e CH4_PROCESSES\n    CH4_PROCESSES --\u003e N2O_PRODUCTION\n    N2O_PRODUCTION --\u003e GAS_TRANSPORT\n    \n    GAS_TRANSPORT --\u003e CARBON_BALANCE\n    CARBON_BALANCE --\u003e NITROGEN_BALANCE\n    NITROGEN_BALANCE --\u003e WATER_BALANCE\n    \n    WATER_BALANCE --\u003e END\n```\n\nSources: [Soil/SoilUtilities/SOILDYN.for](), [Soil/SoilWater/WATBAL.for](), [Soil/CENTURY_OrganicMatter/CENTURY.for](), [Soil/GHG/GHG_mod.for]()\n\n### Inter-Process Coupling\n\nThe soil modeling framework handles complex feedbacks between different processes through shared state variables and coupling mechanisms.\n\n| Process Coupling | Mechanism | Key Variables | Implementation |\n|------------------|-----------|---------------|----------------|\n| Water-Temperature | Thermal conductivity | `SW` (soil water), `ST` (soil temperature) | Heat capacity varies with water content |\n| Water-Chemistry | Solute transport | `NO3`, `NH4`, `PO4` concentrations | Nutrient movement with water flow |\n| Organic Matter-Nutrients | Decomposition | `SOMC` (soil organic C), mineralization rates | C/N ratios control N release |\n| Oxygen-Methane | Redox conditions | `O2` status, water-filled pore space | Anaerobic threshold triggers CH4 production |\n| Temperature-Decomposition | Rate modifiers | Temperature response functions | Q10 relationships for all biological processes |\n| pH-Nutrient Availability | Chemical equilibrium | Soil pH, nutrient solubility | pH affects nutrient transformations |\n\nSources: [Soil/SoilUtilities/SOILDYN.for](), [Soil/CENTURY_OrganicMatter/CENTURY.for](), [Soil/GHG/Methane.for]()\n\n## Computational Implementation\n\n### Numerical Methods\n\nThe soil process models employ various numerical approaches to solve the governing equations:\n\n#### Water Flow Equations\n- **Richards Equation**: For unsaturated water movement\n- **Darcy's Law**: For saturated hydraulic conductivity\n- **Finite Difference**: Spatial discretization for soil layers\n- **Implicit Time Stepping**: For numerical stability in water balance\n\n#### Organic Matter Decomposition\n- **First-Order Kinetics**: Exponential decay functions\n- **Michaelis-Menten**: Enzyme kinetics for some processes  \n- **Multi-Pool Models**: Different decomposition rates for structural vs. metabolic pools\n- **Temperature and Moisture Modifiers**: Environmental response functions\n\n#### Gas Diffusion\n- **Fick's Law**: Concentration gradient-driven transport\n- **Tortuosity Functions**: Account for soil structure effects\n- **Henry's Law**: Gas-liquid equilibrium partitioning\n\nSources: [Soil/SoilWater/SATFLO.for](), [Soil/CENTURY_OrganicMatter/CENTURY.for](), [Soil/GHG/Methane.for]()\n\n### State Variable Management\n\n```mermaid\ngraph LR\n    subgraph \"Soil State Variables\"\n        WATER[\"Water Content\u003cbr/\u003eSW(L) by layer\"]\n        TEMP[\"Temperature\u003cbr/\u003eST(L) by layer\"]\n        CARBON[\"Organic Carbon\u003cbr/\u003eSOC(L,POOL) by pool\"]\n        NITROGEN[\"Nitrogen\u003cbr/\u003eSN(L,FORM) by form\"]\n        PHOSPHORUS[\"Phosphorus\u003cbr/\u003eSP(L,FORM) by form\"]\n        STRUCTURE[\"Physical Properties\u003cbr/\u003eBD, SWCON, DUL, LL\"]\n    end\n    \n    subgraph \"Process Rates\"\n        DECOMP_RATE[\"Decomposition rates\u003cbr/\u003eby pool and layer\"]\n        NITRIF_RATE[\"Nitrification rates\u003cbr/\u003eNH4 to NO3\"]\n        DENITRIF_RATE[\"Denitrification rates\u003cbr/\u003eNO3 to N2O/N2\"]\n        IMMOB_RATE[\"Immobilization rates\u003cbr/\u003einorganic to organic N\"]\n    end\n    \n    subgraph \"Flux Variables\"\n        WATER_FLUX[\"Water fluxes\u003cbr/\u003ebetween layers\"]\n        NUTRIENT_FLUX[\"Nutrient transport\u003cbr/\u003ewith water movement\"]\n        GAS_FLUX[\"Gas emissions\u003cbr/\u003eto atmosphere\"]\n        HEAT_FLUX[\"Heat transfer\u003cbr/\u003ebetween layers\"]\n    end\n    \n    WATER --\u003e DECOMP_RATE\n    TEMP --\u003e DECOMP_RATE\n    CARBON --\u003e DECOMP_RATE\n    \n    DECOMP_RATE --\u003e NITRIF_RATE\n    NITRIF_RATE --\u003e DENITRIF_RATE\n    \n    WATER --\u003e WATER_FLUX\n    NITROGEN --\u003e NUTRIENT_FLUX\n    TEMP --\u003e HEAT_FLUX\n    \n    DENITRIF_RATE --\u003e GAS_FLUX\n```\n\nSources: [Soil/SoilUtilities/SOILDYN.for](), [Soil/SoilUtilities/SoilCBal.for]()\n\n## Parameterization and Calibration\n\n### Model Parameters\n\nThe soil process models require extensive parameterization covering physical, chemical, and biological properties:\n\n#### Physical Parameters\n- **Hydraulic Properties**: Saturated hydraulic conductivity (`SWCON`), water retention curve parameters\n- **Thermal Properties**: Heat capacity, thermal conductivity\n- **Structural Properties**: Bulk density (`BD`), porosity, aggregate stability\n\n#### Chemical Parameters  \n- **Soil Chemistry**: pH, cation exchange capacity (CEC), base saturation\n- **Nutrient Pools**: Initial organic matter content, C/N ratios\n- **Buffer Capacities**: Resistance to pH and chemical changes\n\n#### Biological Parameters\n- **Decomposition Rates**: Pool-specific rate constants\n- **Microbial Parameters**: Maximum growth rates, maintenance coefficients\n- **Environmental Response**: Temperature and moisture response functions\n\nSources: [InputModule/ipexp.for](), [Soil/CENTURY_OrganicMatter/CENTURY.for](), [Soil/CERES_OrganicMatter/SoilOrg.for]()\n\n### Calibration Approaches\n\n```mermaid\ngraph TD\n    subgraph \"Calibration Workflow\"\n        SITE_DATA[\"Site-specific data\u003cbr/\u003ecollection\"]\n        PARAM_ESTIMATION[\"Parameter estimation\u003cbr/\u003efrom soil surveys\"]\n        \n        subgraph \"Model Calibration\"\n            WATER_CAL[\"Water balance\u003cbr/\u003ecalibration\"]\n            CARBON_CAL[\"Carbon cycling\u003cbr/\u003ecalibration\"]\n            NITROGEN_CAL[\"Nitrogen cycling\u003cbr/\u003ecalibration\"]\n        end\n        \n        subgraph \"Validation\"\n            CROSS_VALIDATION[\"Cross-validation\u003cbr/\u003ewith independent data\"]\n            SENSITIVITY_ANALYSIS[\"Parameter sensitivity\u003cbr/\u003eanalysis\"]\n            UNCERTAINTY_QUANTIFICATION[\"Uncertainty bounds\u003cbr/\u003eestimation\"]\n        end\n        \n        MODEL_DEPLOYMENT[\"Calibrated model\u003cbr/\u003eready for simulation\"]\n    end\n    \n    SITE_DATA --\u003e PARAM_ESTIMATION\n    PARAM_ESTIMATION --\u003e WATER_CAL\n    WATER_CAL --\u003e CARBON_CAL\n    CARBON_CAL --\u003e NITROGEN_CAL\n    \n    NITROGEN_CAL --\u003e CROSS_VALIDATION\n    CROSS_VALIDATION --\u003e SENSITIVITY_ANALYSIS\n    SENSITIVITY_ANALYSIS --\u003e UNCERTAINTY_QUANTIFICATION\n    \n    UNCERTAINTY_QUANTIFICATION --\u003e MODEL_DEPLOYMENT\n```\n\nSources: [Soil/SoilUtilities/SOILDYN.for](), [Soil/CENTURY_OrganicMatter/CENTURY.for]()\n\n## Model Validation and Quality Assurance\n\n### Mass Balance Verification\n\nThe soil modeling framework includes comprehensive mass balance checks to ensure conservation laws are maintained:\n\n#### Daily Balance Checks\n- **Water Balance**: Inputs = Outputs + Change in storage\n- **Carbon Balance**: Photosynthesis + inputs = Respiration + storage change  \n- **Nitrogen Balance**: Inputs + mineralization = Uptake + losses + storage change\n- **Energy Balance**: Net radiation = Latent + sensible + soil heat flux\n\n#### Error Detection and Handling\n- **Tolerance Limits**: Acceptable mass balance errors (typically \u003c 0.1%)\n- **Error Reporting**: Automatic flagging of balance violations\n- **Correction Mechanisms**: Redistribution of small imbalances\n- **Simulation Termination**: For large, uncorrectable errors\n\nSources: [Soil/SoilUtilities/SoilCBal.for](), [Soil/SoilWater/WBAL.for](), [Soil/SoilWater/OPWBAL.for]()\n\n### Model Performance Metrics\n\n| Validation Metric | Purpose | Typical Targets | Implementation |\n|------------------|---------|-----------------|----------------|\n| Root Mean Square Error (RMSE) | Overall prediction accuracy | \u003c 20% of mean | Statistical comparison with observations |\n| Nash-Sutcliffe Efficiency | Model skill vs. mean | \u003e 0.5 for good performance | Variance-based efficiency metric |\n| Percent Bias (PBIAS) | Systematic over/under-prediction | ± 25% for satisfactory | Long-term bias assessment |\n| Coefficient of Determination (R²) | Linear relationship strength | \u003e 0.6 for acceptable | Correlation with observations |\n\nThe validation framework compares model outputs against observed data for key soil variables including water content, temperature, nutrient concentrations, and gas fluxes across multiple sites and growing seasons.\n\nSources: [Soil/SoilUtilities/SOILDYN.for](), [Soil/SoilWater/WATBAL.for]()"])</script><script>self.__next_f.push([1,"2b:T21f0,"])</script><script>self.__next_f.push([1,"# Input/Output System\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [deepwiki.com/DSSAT/dssat-csm-os/6-inputoutput-system](deepwiki.com/DSSAT/dssat-csm-os/6-inputoutput-system)\n\n\u003c/details\u003e\n\n\n\nThis document covers DSSAT's comprehensive data management system, including standardized file formats, input data structures, and output file specifications used across the DSSAT modeling framework. This page focuses on the I/O architecture that enables consistent data exchange between different DSSAT components and external applications.\n\nFor information about specific DSSAT modules that process this data, see [Core DSSAT Modules](#5.2). For details about soil-specific data formats, see [Soil Process Modeling](#5.4).\n\n## System Overview\n\nDSSAT employs a standardized file-based I/O system designed for agricultural modeling applications. The system handles multiple data types including weather observations, soil properties, cultivar parameters, experimental treatments, and model outputs through structured text files with specific formatting conventions.\n\nThe I/O system serves as the primary interface between DSSAT models and external data sources, enabling reproducible simulations and facilitating integration with other agricultural software systems.\n\n### DSSAT I/O Architecture\n\n```mermaid\ngraph TB\n    subgraph \"Input Data Sources\"\n        WeatherFiles[\"Weather Data Files\u003cbr/\u003e.WTH, .WTG\"]\n        SoilFiles[\"Soil Data Files\u003cbr/\u003e.SOL\"]\n        CultivarFiles[\"Cultivar Files\u003cbr/\u003e.CUL, .ECO, .SPE\"]\n        ExperimentFiles[\"Experiment Files\u003cbr/\u003e.SRX, .SBX, .SNX\"]\n    end\n    \n    subgraph \"DSSAT I/O System\"\n        FileManager[\"File Management\u003cbr/\u003eSystem\"]\n        DataParser[\"Data Parsing\u003cbr/\u003eEngine\"]\n        FormatValidator[\"Format Validation\u003cbr/\u003eSystem\"]\n        OutputGenerator[\"Output File\u003cbr/\u003eGenerator\"]\n    end\n    \n    subgraph \"Model Interface\"\n        InputInterface[\"Model Input\u003cbr/\u003eInterface\"]\n        OutputInterface[\"Model Output\u003cbr/\u003eInterface\"]\n        DataStructures[\"Internal Data\u003cbr/\u003eStructures\"]\n    end\n    \n    subgraph \"Output Files\"\n        SummaryFiles[\"Summary Files\u003cbr/\u003esummary.csv\"]\n        DetailFiles[\"Detailed Output\u003cbr/\u003ePlantGro.OUT, SoilWat.OUT\"]\n        DiagnosticFiles[\"Diagnostic Files\u003cbr/\u003eERROR.OUT, OVERVIEW.OUT\"]\n    end\n    \n    WeatherFiles --\u003e FileManager\n    SoilFiles --\u003e FileManager\n    CultivarFiles --\u003e FileManager\n    ExperimentFiles --\u003e FileManager\n    \n    FileManager --\u003e DataParser\n    DataParser --\u003e FormatValidator\n    FormatValidator --\u003e InputInterface\n    \n    InputInterface --\u003e DataStructures\n    DataStructures --\u003e OutputInterface\n    OutputInterface --\u003e OutputGenerator\n    \n    OutputGenerator --\u003e SummaryFiles\n    OutputGenerator --\u003e DetailFiles\n    OutputGenerator --\u003e DiagnosticFiles\n```\n\nSources: High-level repository diagrams showing DSSAT data flow\n\n## Input File System\n\n### Weather Data Files\n\nDSSAT uses standardized weather file formats to provide meteorological inputs required for crop modeling simulations.\n\n| File Type | Extension | Description | Key Variables |\n|-----------|-----------|-------------|---------------|\n| Weather Data | .WTH | Daily weather observations | SRAD, TMAX, TMIN, RAIN |\n| Weather Generator | .WTG | Stochastic weather parameters | Monthly statistics for weather generation |\n\n### Experiment Definition Files\n\nExperiment files define simulation scenarios including planting details, management practices, and treatments.\n\n| File Type | Extension | Description | Purpose |\n|-----------|-----------|-------------|---------|\n| Strawberry Experiments | .SRX | Strawberry-specific experiments | Define treatments, planting dates, cultivars |\n| General Experiments | .SBX | General crop experiments | Cross-crop experimental definitions |\n| Seasonal Analysis | .SNX | Multi-season experiments | Long-term simulation scenarios |\n\n### Parameter Files\n\n```mermaid\ngraph LR\n    subgraph \"Parameter File Types\"\n        CultivarParams[\"Cultivar Files\u003cbr/\u003e(.CUL)\"]\n        EcotypeParams[\"Ecotype Files\u003cbr/\u003e(.ECO)\"] \n        SpeciesParams[\"Species Files\u003cbr/\u003e(.SPE)\"]\n        SoilParams[\"Soil Files\u003cbr/\u003e(.SOL)\"]\n    end\n    \n    subgraph \"Parameter Categories\"\n        GeneticParams[\"Genetic\u003cbr/\u003eParameters\"]\n        PhysiologicalParams[\"Physiological\u003cbr/\u003eParameters\"]\n        EnvironmentalParams[\"Environmental\u003cbr/\u003eParameters\"]\n    end\n    \n    CultivarParams --\u003e GeneticParams\n    EcotypeParams --\u003e PhysiologicalParams\n    SpeciesParams --\u003e PhysiologicalParams\n    SoilParams --\u003e EnvironmentalParams\n```\n\nSources: Repository documentation and DSSAT framework specifications\n\n## Output File System\n\n### Primary Output Files\n\nDSSAT generates multiple output file types to serve different analysis needs and user requirements.\n\n| Output Type | Filename | Content | Usage |\n|-------------|----------|---------|-------|\n| Summary | summary.csv | Seasonal summaries | Quick results overview |\n| Plant Growth | PlantGro.OUT | Daily plant variables | Detailed growth analysis |\n| Soil Water | SoilWat.OUT | Soil water dynamics | Water balance analysis |\n| Soil Nitrogen | SoilNi.OUT | Nitrogen cycling | Nutrient analysis |\n\n### Output Data Structure\n\n```mermaid\ngraph TD\n    subgraph \"DSSAT Output Generation\"\n        ModelRun[\"Model Execution\u003cbr/\u003eEngine\"]\n        DataCollector[\"Data Collection\u003cbr/\u003eSystem\"]\n        OutputFormatter[\"Output Formatting\u003cbr/\u003eSystem\"]\n        FileWriter[\"File Writing\u003cbr/\u003eSystem\"]\n    end\n    \n    subgraph \"Output Categories\"\n        DailyOutputs[\"Daily Variables\u003cbr/\u003eGrowth, Weather, Soil\"]\n        SeasonalSummary[\"Seasonal Summary\u003cbr/\u003eYield, Phenology\"]\n        DiagnosticInfo[\"Diagnostic Data\u003cbr/\u003eErrors, Warnings\"]\n    end\n    \n    subgraph \"File Formats\"\n        CSVFormat[\"CSV Files\u003cbr/\u003eStructured data\"]\n        FixedFormat[\"Fixed Width\u003cbr/\u003eTraditional DSSAT\"]\n        TextFormat[\"Text Reports\u003cbr/\u003eHuman readable\"]\n    end\n    \n    ModelRun --\u003e DataCollector\n    DataCollector --\u003e DailyOutputs\n    DataCollector --\u003e SeasonalSummary\n    DataCollector --\u003e DiagnosticInfo\n    \n    DailyOutputs --\u003e OutputFormatter\n    SeasonalSummary --\u003e OutputFormatter\n    DiagnosticInfo --\u003e OutputFormatter\n    \n    OutputFormatter --\u003e CSVFormat\n    OutputFormatter --\u003e FixedFormat\n    OutputFormatter --\u003e TextFormat\n    \n    CSVFormat --\u003e FileWriter\n    FixedFormat --\u003e FileWriter\n    TextFormat --\u003e FileWriter\n```\n\nSources: DSSAT output specifications and model architecture documentation\n\n## Data Processing Pipeline\n\n### Input Validation and Parsing\n\nThe DSSAT I/O system implements comprehensive data validation to ensure input files meet required specifications and contain valid parameter ranges.\n\n### Data Alignment System\n\nFor model comparison and validation purposes, DSSAT includes data alignment capabilities to synchronize outputs from different model versions or implementations.\n\n```mermaid\nflowchart LR\n    subgraph \"Data Alignment Process\"\n        PythonOutput[\"Python Model\u003cbr/\u003eOutput Data\"]\n        FortranOutput[\"Fortran DSSAT\u003cbr/\u003eOutput Data\"]\n        AlignmentEngine[\"Data Alignment\u003cbr/\u003eEngine\"]\n        ComparisonReports[\"Comparison\u003cbr/\u003eReports\"]\n    end\n    \n    subgraph \"Alignment Operations\"\n        TimeSync[\"Temporal\u003cbr/\u003eSynchronization\"]\n        VariableMatch[\"Variable\u003cbr/\u003eMatching\"]\n        UnitConversion[\"Unit\u003cbr/\u003eConversion\"]\n        ToleranceCheck[\"Tolerance\u003cbr/\u003eValidation\"]\n    end\n    \n    PythonOutput --\u003e AlignmentEngine\n    FortranOutput --\u003e AlignmentEngine\n    \n    AlignmentEngine --\u003e TimeSync\n    AlignmentEngine --\u003e VariableMatch\n    AlignmentEngine --\u003e UnitConversion\n    AlignmentEngine --\u003e ToleranceCheck\n    \n    TimeSync --\u003e ComparisonReports\n    VariableMatch --\u003e ComparisonReports\n    UnitConversion --\u003e ComparisonReports\n    ToleranceCheck --\u003e ComparisonReports\n```\n\nSources: High-level repository diagrams showing validation framework\n\n## Integration with strawberryDSSAT\n\n### Python Implementation I/O\n\nThe strawberryDSSAT Python implementation maintains compatibility with standard DSSAT file formats while providing additional flexibility for research and educational applications.\n\n### Validation System Integration\n\nThe I/O system supports the validation framework by enabling direct comparison between Python model outputs and Fortran DSSAT reference results through standardized file formats and data alignment procedures.\n\n### Cross-Platform Compatibility\n\nThe file-based I/O approach ensures cross-platform compatibility, allowing the same experiment files and parameter sets to be used across different operating systems and model implementations.\n\nSources: Repository architecture diagrams and validation system documentation"])</script><script>self.__next_f.push([1,"2c:T2986,"])</script><script>self.__next_f.push([1,"# Development Guide\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [AGENTS.md](AGENTS.md)\n- [README.md](README.md)\n\n\u003c/details\u003e\n\n\n\nThis document provides comprehensive guidance for developers contributing to the strawberryDSSAT repository. It covers the development workflow, coding standards, testing practices, and validation procedures necessary to maintain the quality and compatibility of the Python CROPGRO-Strawberry model implementation.\n\nThe guide focuses on the practical aspects of developing and validating the Python model against the Fortran DSSAT reference implementation. For detailed information about the model architecture and physiological processes, see [Model Architecture](#2.1). For specific testing procedures and test case documentation, see [Testing Framework](#3).\n\n## Development Workflow Overview\n\nThe strawberryDSSAT development process follows a rigorous validation-driven approach that ensures the Python implementation remains faithful to the original Fortran DSSAT model while providing modern, maintainable code.\n\n### Development Cycle\n\n```mermaid\nflowchart TD\n    Setup[Development Environment Setup] --\u003e CodeDev[Code Development]\n    CodeDev --\u003e UnitTest[Run Unit Tests\u003cbr/\u003ecropgro-strawberry-test1.py]\n    UnitTest --\u003e TestPass{Unit Tests Pass?}\n    TestPass --\u003e|No| CodeDev\n    TestPass --\u003e|Yes| BuildFortran[Build Fortran DSSAT\u003cbr/\u003ebuild_dssat_macos.sh or build_dssat_windows.cmd]\n    \n    BuildFortran --\u003e SingleComp[Single Experiment Comparison\u003cbr/\u003ecompare_with_fortran.py]\n    SingleComp --\u003e ValidateOne[Single Validation\u003cbr/\u003evalidate_models.py]\n    ValidateOne --\u003e ValidationPass{Within Tolerance?}\n    ValidationPass --\u003e|No| Debug[Debug Differences]\n    Debug --\u003e CodeDev\n    ValidationPass --\u003e|Yes| FullPipeline[Full Validation Pipeline\u003cbr/\u003erun_full_comparison.py]\n    \n    FullPipeline --\u003e AllPass{All Experiments Pass?}\n    AllPass --\u003e|No| Debug\n    AllPass --\u003e|Yes| GenerateReports[Generate Reports\u003cbr/\u003eplot_results.py]\n    GenerateReports --\u003e ReadyCommit[Ready for Commit]\n```\n\nSources: [AGENTS.md:1-46](), [README.md:1-173]()\n\n### Core Development Components\n\nThe development workflow revolves around several key scripts and validation tools that ensure code quality and model accuracy:\n\n| Component | File | Purpose |\n|-----------|------|---------|\n| Main Model | `cropgro-strawberry-implementation.py` | Core Python CROPGRO implementation |\n| Unit Tests | `cropgro-strawberry-test1.py` | Comprehensive test suite |\n| Model Comparison | `compare_with_fortran.py` | Direct Python vs Fortran comparison |\n| Validation Tool | `validate_models.py` | Tolerance-based validation reporting |\n| Build Scripts | `scripts/build_dssat_*.sh` | Platform-specific DSSAT compilation |\n| Full Pipeline | `scripts/run_full_comparison.py` | Complete validation workflow |\n| Results Visualization | `scripts/plot_results.py` | Validation report generation |\n\nSources: [AGENTS.md:11-36](), [README.md:66-162]()\n\n## Development Environment Requirements\n\n### System Requirements\n\n- **Python**: 3.8 or higher\n- **Fortran Compiler**: `gfortran` (via GCC or MinGW-w64)\n- **Build Tools**: `cmake`, `make` (Unix) or `mingw32-make` (Windows)\n- **Platform Support**: macOS, Windows, Linux\n\n### Python Dependencies\n\nThe required Python packages are managed through `requirements.txt`:\n\n```bash\npip install -r requirements.txt\n```\n\nKey dependencies include:\n- `numpy` - Numerical computations\n- `pandas` - Data manipulation and analysis\n- `matplotlib` - Plotting and visualization\n\nSources: [AGENTS.md:5-10](), [README.md:53-64]()\n\n### Platform-Specific Setup\n\n#### macOS Development Setup\n\n```bash\n# Install build tools via Homebrew\nbrew install cmake gcc\n\n# Build DSSAT using provided script\nbash scripts/build_dssat_macos.sh\n```\n\n#### Windows Development Setup\n\n```cmd\n# Install CMake and MinGW-w64 toolchain\n# Run build script from Windows terminal\nscripts\\build_dssat_windows.cmd\n```\n\nSources: [README.md:102-134]()\n\n## Code Organization and Key Entities\n\n### Main Model Components\n\n```mermaid\ngraph TB\n    subgraph \"Core Model Files\"\n        MainModel[cropgro-strawberry-implementation.py\u003cbr/\u003e\"CropgroStrawberry class\"]\n        TestSuite[cropgro-strawberry-test1.py\u003cbr/\u003e\"CropgroStrawberryTest class\"]\n        OriginalRunner[run_original_dssat.py\u003cbr/\u003e\"run_dssat function\"]\n    end\n    \n    subgraph \"Validation System\"\n        Comparator[compare_with_fortran.py\u003cbr/\u003e\"compare_models function\"]\n        Validator[validate_models.py\u003cbr/\u003e\"validate_experiment function\"]\n        FullPipeline[scripts/run_full_comparison.py\u003cbr/\u003e\"main validation loop\"]\n    end\n    \n    subgraph \"Build System\"\n        MacOSBuild[scripts/build_dssat_macos.sh\u003cbr/\u003e\"cmake build process\"]\n        WindowsBuild[scripts/build_dssat_windows.cmd\u003cbr/\u003e\"mingw32-make build\"]\n    end\n    \n    subgraph \"Fortran DSSAT\"\n        FortranSource[dssat-csm-os-develop/\u003cbr/\u003e\"Fortran source tree\"]\n        RunDSSAT[Utilities/run_dssat\u003cbr/\u003e\"DSSAT executable\"]\n    end\n    \n    MainModel --\u003e TestSuite\n    MainModel --\u003e Comparator\n    OriginalRunner --\u003e Comparator\n    Comparator --\u003e Validator\n    Validator --\u003e FullPipeline\n    \n    MacOSBuild --\u003e RunDSSAT\n    WindowsBuild --\u003e RunDSSAT\n    FortranSource --\u003e RunDSSAT\n    RunDSSAT --\u003e OriginalRunner\n```\n\nSources: [AGENTS.md:11-28](), [README.md:84-101]()\n\n### Testing and Validation Architecture\n\n```mermaid\ngraph LR\n    subgraph \"Test Execution Flow\"\n        UnitTests[cropgro-strawberry-test1.py\u003cbr/\u003e\"test_* methods\"]\n        SingleExp[compare_with_fortran.py\u003cbr/\u003e\"single experiment validation\"]\n        BatchValidation[validate_models.py\u003cbr/\u003e\"tolerance checking\"]\n        FullSuite[run_full_comparison.py\u003cbr/\u003e\"complete validation\"]\n    end\n    \n    subgraph \"Data Sources\"\n        SyntheticWeather[\"synthetic weather data\u003cbr/\u003ein main script\"]\n        ExptFiles[dssat-csm-data-develop/\u003cbr/\u003e\"*.SRX experiment files\"]\n    end\n    \n    subgraph \"Output Generation\"\n        ComparisonReports[comparison_reports/\u003cbr/\u003e\"validation results\"]\n        PlotGeneration[plot_results.py\u003cbr/\u003e\"visualization scripts\"]\n    end\n    \n    SyntheticWeather --\u003e UnitTests\n    ExptFiles --\u003e SingleExp\n    ExptFiles --\u003e BatchValidation\n    \n    UnitTests --\u003e SingleExp\n    SingleExp --\u003e BatchValidation\n    BatchValidation --\u003e FullSuite\n    FullSuite --\u003e ComparisonReports\n    ComparisonReports --\u003e PlotGeneration\n```\n\nSources: [AGENTS.md:30-36](), [README.md:136-170]()\n\n## Testing Practices\n\n### Unit Testing Protocol\n\nThe unit test suite in `cropgro-strawberry-test1.py` must be executed before any code commits:\n\n```bash\npython cropgro-strawberry-test1.py\n```\n\nAll unit tests must pass before proceeding to integration validation. The test suite covers:\n- Model initialization and parameter validation\n- Individual calculation methods (daylength, thermal time, etc.)\n- Physiological process calculations\n- Biomass partitioning algorithms\n\n### Integration Testing\n\nIntegration testing involves running the complete model against known datasets and comparing outputs with the Fortran DSSAT reference:\n\n```bash\n# Single experiment validation\npython compare_with_fortran.py path/to/experiment.SRX --dssat-dir dssat-csm-os-develop\n\n# Tolerance-based validation with reporting\npython validate_models.py path/to/experiment.SRX --tolerance 1.0\n```\n\nSources: [AGENTS.md:30-36](), [README.md:76-82]()\n\n## Validation Workflow\n\n### Single Experiment Validation\n\nFor individual experiment validation, use the comparison script:\n\n```bash\npython compare_with_fortran.py path/to/UFBA1401.SRX --dssat-dir dssat-csm-os-develop\n```\n\nThis script:\n1. Runs the Python model with experiment parameters\n2. Executes the Fortran DSSAT model with the same parameters\n3. Compares outputs and reports differences\n\n### Full Validation Pipeline\n\nThe complete validation pipeline validates all sample experiments:\n\n```bash\npython scripts/run_full_comparison.py\n```\n\nThis automated pipeline:\n1. Detects the operating system\n2. Builds DSSAT if necessary using platform-specific scripts\n3. Validates all experiments in the sample dataset\n4. Generates comprehensive reports in `comparison_reports/`\n5. Provides summary statistics and tolerance analysis\n\n### Validation Report Generation\n\nAfter running the full pipeline, generate visual reports:\n\n```bash\npython scripts/plot_results.py --reports comparison_reports\n```\n\nSources: [README.md:136-170]()\n\n## Contribution Standards\n\n### Commit Message Guidelines\n\nUse concise, imperative commit messages following this format:\n- Use imperative mood: \"Add validation script\" not \"Added validation script\"\n- Keep first line under 50 characters\n- Include detailed description if the change affects model logic\n- Note any impacts on model outputs or validation results\n\nExamples:\n```\nAdd validation script for batch processing\nFix growth rate calculation in photosynthesis module\nUpdate tolerance thresholds for biomass validation\n```\n\n### Code Quality Requirements\n\n1. **All unit tests must pass** before committing\n2. **Validation against Fortran DSSAT** must remain within acceptable tolerance\n3. **Documentation updates** required for any API changes\n4. **Platform compatibility** must be maintained for macOS and Windows\n\n### Pre-Commit Checklist\n\n- [ ] Run `python cropgro-strawberry-test1.py` - all tests pass\n- [ ] Run single experiment comparison - results within tolerance\n- [ ] Test on target platforms if making platform-specific changes\n- [ ] Update documentation for any API or parameter changes\n- [ ] Verify commit message follows guidelines\n\nSources: [AGENTS.md:38-44]()\n\n## Best Practices\n\n### Model Development\n\n1. **Maintain Fortran Compatibility**: Any changes to the Python model must preserve compatibility with Fortran DSSAT outputs within established tolerances\n2. **Test-Driven Development**: Write or update tests before implementing new features\n3. **Incremental Validation**: Validate changes frequently during development rather than waiting until completion\n\n### Documentation Standards\n\n1. **Code Comments**: Document complex calculations and physiological processes\n2. **Parameter Documentation**: Maintain clear documentation of all input parameters and their units\n3. **Change Documentation**: Update relevant documentation files when modifying model behavior\n\n### Platform Considerations\n\n1. **Cross-Platform Testing**: Test changes on both macOS and Windows when possible\n2. **Path Handling**: Use platform-independent path handling for file operations\n3. **Build System Compatibility**: Ensure build scripts work correctly on target platforms\n\nSources: [AGENTS.md:1-46](), [README.md:1-173]()"])</script><script>self.__next_f.push([1,"2d:T1fd5,"])</script><script>self.__next_f.push([1,"# Contributing Guidelines\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [AGENTS.md](AGENTS.md)\n\n\u003c/details\u003e\n\n\n\nThis page provides comprehensive guidelines for contributing to the strawberryDSSAT repository. It covers development workflow, coding standards, testing requirements, and validation procedures to ensure high-quality contributions that maintain compatibility with the original DSSAT Fortran implementation.\n\nFor information about setting up the development environment, see [Development Environment Setup](#6.2). For general project overview and getting started instructions, see [Getting Started](#1.1).\n\n## Development Prerequisites\n\nContributors must meet the following requirements before beginning development:\n\n| Requirement | Specification | Source |\n|-------------|---------------|---------|\n| Python Version | 3.8+ | [AGENTS.md:7]() |\n| Dependencies | Install via `pip install -r requirements.txt` | [AGENTS.md:8]() |\n| Fortran Build Tools | Platform-specific scripts in `scripts/` directory | [AGENTS.md:9]() |\n\n### Development Environment Overview\n\n```mermaid\ngraph TB\n    subgraph \"Development Setup\"\n        PythonEnv[\"Python 3.8+ Environment\"]\n        Requirements[\"requirements.txt Dependencies\"]\n        BuildTools[\"Fortran Build Scripts\"]\n    end\n    \n    subgraph \"Core Development Files\"\n        PythonModel[\"cropgro-strawberry-implementation.py\"]\n        TestSuite[\"cropgro-strawberry-test1.py\"]\n        Comparison[\"compare_with_fortran.py\"]\n        Validation[\"validate_models.py\"]\n    end\n    \n    subgraph \"Platform Build Scripts\"\n        MacOSScript[\"scripts/build_dssat_macos.sh\"]\n        WindowsScript[\"scripts/build_dssat_windows.cmd\"]\n    end\n    \n    PythonEnv --\u003e PythonModel\n    Requirements --\u003e PythonModel\n    BuildTools --\u003e MacOSScript\n    BuildTools --\u003e WindowsScript\n    \n    PythonModel --\u003e TestSuite\n    PythonModel --\u003e Comparison\n    Comparison --\u003e Validation\n```\n\nSources: [AGENTS.md:5-9]()\n\n## Contribution Workflow\n\nThe contribution process follows a structured workflow that ensures code quality and model accuracy through comprehensive testing and validation.\n\n### Development Process Flow\n\n```mermaid\nflowchart TD\n    Start[\"Start Development\"] --\u003e ModifyCode[\"Modify Python Model Code\"]\n    ModifyCode --\u003e RunTests[\"Execute Unit Tests\u003cbr/\u003ecropgro-strawberry-test1.py\"]\n    RunTests --\u003e TestPass{\"Tests Pass?\"}\n    TestPass --\u003e|No| FixIssues[\"Fix Test Failures\"]\n    FixIssues --\u003e ModifyCode\n    TestPass --\u003e|Yes| BuildFortran[\"Build Fortran DSSAT\u003cbr/\u003ePlatform-specific scripts\"]\n    \n    BuildFortran --\u003e RunComparison[\"Execute Model Comparison\u003cbr/\u003ecompare_with_fortran.py\"]\n    RunComparison --\u003e ValidateOutputs[\"Validate Model Outputs\u003cbr/\u003evalidate_models.py\"]\n    ValidateOutputs --\u003e ValidationPass{\"Within Tolerance?\"}\n    ValidationPass --\u003e|No| AnalyzeDifferences[\"Analyze Output Differences\"]\n    AnalyzeDifferences --\u003e ModifyCode\n    ValidationPass --\u003e|Yes| CommitChanges[\"Commit with Proper Message\"]\n    CommitChanges --\u003e SubmitPR[\"Submit Pull Request\"]\n```\n\nSources: [AGENTS.md:32-36](), [AGENTS.md:25-28]()\n\n## Testing Requirements\n\nAll contributions must pass the comprehensive testing suite before submission. The testing framework ensures both unit-level correctness and model-level validation.\n\n### Required Test Execution\n\nContributors must execute the following tests before committing:\n\n```bash\npython cropgro-strawberry-test1.py\n```\n\nThe unit test suite covers:\n- Model initialization and parameter validation\n- Individual calculation methods (daylength, thermal time, etc.)\n- Physiological process calculations\n- Biomass partitioning algorithms\n- Output validation\n\nSources: [AGENTS.md:32-36]()\n\n### Model Validation Requirements\n\nBeyond unit tests, contributions affecting model logic must be validated against the Fortran DSSAT implementation:\n\n| Validation Script | Purpose | Usage Example |\n|------------------|---------|---------------|\n| `compare_with_fortran.py` | Binary comparison of outputs | `python compare_with_fortran.py path/to/experiment.SRX` |\n| `validate_models.py` | Tolerance-based validation with reporting | `python validate_models.py path/to/experiment.SRX --tolerance 1.0` |\n\nSources: [AGENTS.md:27-28]()\n\n## Code Standards and Commit Guidelines\n\n### Commit Message Format\n\nCommit messages must follow a specific format to maintain clear project history:\n\n- Use concise, imperative descriptions\n- Examples: \"Add validation script\", \"Fix growth rate calculation\"\n- For changes affecting model logic, include notes about output effects\n\nSources: [AGENTS.md:38-40]()\n\n### Code Quality Standards\n\n```mermaid\ngraph TB\n    subgraph \"Code Quality Requirements\"\n        UnitTests[\"Pass All Unit Tests\u003cbr/\u003ecropgro-strawberry-test1.py\"]\n        ModelValidation[\"Validate Against Fortran\u003cbr/\u003ecompare_with_fortran.py\"]\n        ToleranceCheck[\"Meet Tolerance Requirements\u003cbr/\u003evalidate_models.py\"]\n        CommitFormat[\"Follow Commit Message Format\u003cbr/\u003eImperative, concise descriptions\"]\n    end\n    \n    subgraph \"Platform Compatibility\"\n        MacOSBuild[\"macOS Build Verification\u003cbr/\u003ebuild_dssat_macos.sh\"]\n        WindowsBuild[\"Windows Build Verification\u003cbr/\u003ebuild_dssat_windows.cmd\"]\n    end\n    \n    UnitTests --\u003e ModelValidation\n    ModelValidation --\u003e ToleranceCheck\n    ToleranceCheck --\u003e CommitFormat\n    CommitFormat --\u003e MacOSBuild\n    CommitFormat --\u003e WindowsBuild\n```\n\nSources: [AGENTS.md:32-40](), [AGENTS.md:21-22]()\n\n## Platform-Specific Build Requirements\n\nContributors must ensure their changes work across supported platforms. The repository provides platform-specific build scripts for the Fortran DSSAT component:\n\n### Build Script Usage\n\n| Platform | Script Location | Usage |\n|----------|----------------|-------|\n| macOS | `scripts/build_dssat_macos.sh` | `bash scripts/build_dssat_macos.sh` |\n| Windows | `scripts/build_dssat_windows.cmd` | `scripts\\build_dssat_windows.cmd` |\n\n### DSSAT Execution\n\nAfter building, run the compiled DSSAT executable using:\n```bash\npython run_original_dssat.py path/to/experiment.SRX\n```\n\nSources: [AGENTS.md:21-23]()\n\n## Model Logic Change Protocol\n\nWhen contributions modify the core model logic in `cropgro-strawberry-implementation.py`, additional validation steps are required:\n\n1. **Impact Assessment**: Document expected changes to model outputs\n2. **Fortran Comparison**: Ensure Python model remains equivalent to Fortran implementation\n3. **Tolerance Validation**: Verify differences remain within acceptable tolerances\n4. **Output Documentation**: Note any intentional changes to model behavior\n\n### Model Validation Pipeline\n\n```mermaid\ngraph LR\n    subgraph \"Python Model Changes\"\n        ModifyLogic[\"Modify cropgro-strawberry-implementation.py\"]\n        RunPython[\"Execute Python Model\"]\n    end\n    \n    subgraph \"Fortran Reference\"\n        BuildFortran[\"Build DSSAT Fortran\"]\n        RunFortran[\"Execute Fortran Model\"]\n    end\n    \n    subgraph \"Validation Process\"\n        CompareOutputs[\"compare_with_fortran.py\"]\n        ValidateResults[\"validate_models.py\"]\n        GenerateReport[\"Output Validation Report\"]\n    end\n    \n    ModifyLogic --\u003e RunPython\n    BuildFortran --\u003e RunFortran\n    RunPython --\u003e CompareOutputs\n    RunFortran --\u003e CompareOutputs\n    CompareOutputs --\u003e ValidateResults\n    ValidateResults --\u003e GenerateReport\n```\n\nSources: [AGENTS.md:25-28](), [AGENTS.md:40]()\n\n## Documentation Requirements\n\nContributors should maintain documentation consistency across the project. Key documentation files include:\n\n- Main project documentation in `README.md`\n- Developer-specific guidance in `AGENTS.md`\n- Additional technical details in `docs/student_guide.md`\n\nSources: [AGENTS.md:44]()\n\n## Review Process\n\nAll contributions undergo review to ensure:\n- Adherence to coding standards\n- Successful test execution\n- Proper validation against Fortran implementation\n- Clear commit message formatting\n- Cross-platform compatibility verification\n\nThe review process validates both technical correctness and scientific accuracy of the strawberry crop model implementation.\n\nSources: [AGENTS.md:1-44]()"])</script><script>self.__next_f.push([1,"2e:T22b7,"])</script><script>self.__next_f.push([1,"# Development Environment Setup\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [AGENTS.md](AGENTS.md)\n- [README.md](README.md)\n\n\u003c/details\u003e\n\n\n\nThis document provides comprehensive instructions for setting up a development environment for the strawberryDSSAT repository. It covers both the Python model development environment and the Fortran DSSAT build system required for validation workflows.\n\nFor general setup instructions for end users, see [Getting Started](#1.1). For contribution guidelines and workflow processes, see [Contributing Guidelines](#6.1).\n\n## Prerequisites\n\nThe development environment requires both Python and Fortran toolchains since this project implements a Python version of the DSSAT strawberry model while maintaining validation against the original Fortran implementation.\n\n### System Requirements\n\n| Component | Requirement | Purpose |\n|-----------|-------------|---------|\n| Python | 3.8+ | Core model implementation and testing |\n| CMake | Latest stable | Fortran DSSAT build system |\n| Fortran Compiler | gcc/gfortran | Building original DSSAT for validation |\n| Git | Latest stable | Version control and repository management |\n\n### Development Environment Overview\n\n```mermaid\ngraph TB\n    subgraph \"Development Environment Components\"\n        subgraph \"Python Environment\"\n            PythonInterp[\"python (3.8+)\"]\n            PipTool[\"pip package manager\"]\n            VirtualEnv[\"Virtual Environment\u003cbr/\u003e(recommended)\"]\n        end\n        \n        subgraph \"Python Dependencies\"\n            NumPy[\"numpy\u003cbr/\u003eNumerical computations\"]\n            Pandas[\"pandas\u003cbr/\u003eData manipulation\"]\n            Matplotlib[\"matplotlib\u003cbr/\u003ePlotting and visualization\"]\n        end\n        \n        subgraph \"Fortran Build System\"\n            CMakeTool[\"cmake\u003cbr/\u003eBuild configuration\"]\n            GccCompiler[\"gcc/gfortran\u003cbr/\u003eFortran compilation\"]\n            MakeUtility[\"make/mingw32-make\u003cbr/\u003eBuild execution\"]\n        end\n        \n        subgraph \"Development Tools\"\n            TestRunner[\"cropgro-strawberry-test1.py\u003cbr/\u003eUnit test execution\"]\n            ComparisonTools[\"compare_with_fortran.py\u003cbr/\u003eModel validation\"]\n            BuildScripts[\"Platform build scripts\u003cbr/\u003emacOS \u0026 Windows\"]\n        end\n    end\n    \n    PythonInterp --\u003e PipTool\n    PipTool --\u003e VirtualEnv\n    VirtualEnv --\u003e NumPy\n    VirtualEnv --\u003e Pandas\n    VirtualEnv --\u003e Matplotlib\n    \n    CMakeTool --\u003e GccCompiler\n    GccCompiler --\u003e MakeUtility\n    \n    NumPy --\u003e TestRunner\n    Pandas --\u003e ComparisonTools\n    MakeUtility --\u003e BuildScripts\n```\n\nSources: [AGENTS.md:5-9](), [README.md:53-64]()\n\n## Python Development Environment\n\n### Virtual Environment Setup\n\nCreate an isolated Python environment to avoid dependency conflicts:\n\n```bash\npython -m venv venv\nsource venv/bin/activate  # macOS/Linux\n# or\nvenv\\Scripts\\activate     # Windows\n```\n\n### Dependency Installation\n\nInstall required Python packages using the provided requirements file:\n\n```bash\npip install -r requirements.txt\n```\n\nThe core dependencies include:\n- `numpy` for numerical computations in the crop model\n- `pandas` for data manipulation and output formatting  \n- `matplotlib` for result visualization and plotting\n\n### Python Environment Verification\n\nVerify the Python environment by running the main model implementation:\n\n```bash\npython cropgro-strawberry-implementation.py\n```\n\nThis should execute the model with synthetic weather data and display growth plots.\n\nSources: [AGENTS.md:7-8](), [README.md:60-64](), [README.md:70-74]()\n\n## Fortran DSSAT Build Environment\n\nThe development workflow requires building the original Fortran DSSAT implementation to validate the Python model outputs.\n\n### Build System Architecture\n\n```mermaid\ngraph LR\n    subgraph \"Fortran Build Process\"\n        SourceCode[\"dssat-csm-os-develop/\u003cbr/\u003eFortran source code\"]\n        CMakeConfig[\"CMakeLists.txt\u003cbr/\u003eBuild configuration\"]\n        BuildDir[\"build/\u003cbr/\u003eCompilation directory\"]\n        Executable[\"Utilities/run_dssat\u003cbr/\u003eDSSAT executable\"]\n    end\n    \n    subgraph \"Platform Scripts\"\n        MacScript[\"scripts/build_dssat_macos.sh\u003cbr/\u003emacOS build automation\"]\n        WinScript[\"scripts/build_dssat_windows.cmd\u003cbr/\u003eWindows build automation\"]\n    end\n    \n    subgraph \"Validation Tools\"\n        RunOriginal[\"run_original_dssat.py\u003cbr/\u003eFortran execution wrapper\"]\n        Comparison[\"compare_with_fortran.py\u003cbr/\u003eOutput comparison\"]\n    end\n    \n    SourceCode --\u003e CMakeConfig\n    CMakeConfig --\u003e BuildDir\n    BuildDir --\u003e Executable\n    \n    MacScript --\u003e BuildDir\n    WinScript --\u003e BuildDir\n    \n    Executable --\u003e RunOriginal\n    RunOriginal --\u003e Comparison\n```\n\nSources: [README.md:86-100](), [AGENTS.md:19-24]()\n\n### macOS Build Setup\n\nInstall required build tools using Homebrew:\n\n```bash\nbrew install cmake gcc\n```\n\nExecute the automated build script:\n\n```bash\nbash scripts/build_dssat_macos.sh\n```\n\nThe [scripts/build_dssat_macos.sh]() script performs:\n1. CMake configuration and compilation\n2. Installation to `/usr/local/`\n3. Copying sample experiment files\n4. Generating batch files\n5. Running test simulations\n\n### Windows Build Setup\n\nInstall CMake and MinGW-w64 for the gfortran toolchain. Execute the Windows build script:\n\n```cmd\nscripts\\build_dssat_windows.cmd\n```\n\nThe [scripts/build_dssat_windows.cmd]() script uses Windows-specific commands like `xcopy` and `mingw32-make` to perform the same build and installation process as the macOS script.\n\nSources: [README.md:102-134](), [AGENTS.md:21-22]()\n\n## Development Workflow Tools\n\n### Testing Framework\n\nThe development environment includes a comprehensive unit test suite in [cropgro-strawberry-test1.py](). Run tests before committing changes:\n\n```bash\npython cropgro-strawberry-test1.py\n```\n\n### Model Validation Tools\n\n#### Direct Comparison\nCompare Python model outputs against Fortran DSSAT results:\n\n```bash\npython compare_with_fortran.py path/to/experiment.SRX --dssat-dir dssat-csm-os-develop\n```\n\n#### Automated Validation\nRun tolerance-based validation with reporting:\n\n```bash\npython validate_models.py path/to/experiment.SRX --tolerance 1.0\n```\n\n#### Full Validation Pipeline\nExecute comprehensive validation across all sample experiments:\n\n```bash\npython scripts/run_full_comparison.py\n```\n\nSources: [AGENTS.md:32-36](), [AGENTS.md:25-28](), [README.md:146-162]()\n\n## Development Tool Integration\n\n### Tool Workflow Diagram\n\n```mermaid\nflowchart TD\n    subgraph \"Development Cycle\"\n        CodeChange[\"Code Modification\u003cbr/\u003ecropgro-strawberry-implementation.py\"]\n        UnitTest[\"Unit Testing\u003cbr/\u003ecropgro-strawberry-test1.py\"]\n        BuildFortran[\"Fortran Build\u003cbr/\u003ebuild_dssat_*.sh/cmd\"]\n        Validation[\"Model Validation\u003cbr/\u003ecompare_with_fortran.py\"]\n        FullPipeline[\"Full Pipeline\u003cbr/\u003erun_full_comparison.py\"]\n    end\n    \n    subgraph \"Validation Outputs\"\n        Reports[\"comparison_reports/\u003cbr/\u003eValidation reports\"]\n        Plots[\"Visualization\u003cbr/\u003eplot_results.py\"]\n    end\n    \n    CodeChange --\u003e UnitTest\n    UnitTest --\u003e BuildFortran\n    BuildFortran --\u003e Validation\n    Validation --\u003e FullPipeline\n    FullPipeline --\u003e Reports\n    Reports --\u003e Plots\n    \n    UnitTest --\u003e|\"Test Failure\"| CodeChange\n    Validation --\u003e|\"Validation Error\"| CodeChange\n```\n\nSources: [AGENTS.md:32-40](), [README.md:156-170]()\n\n## Platform-Specific Considerations\n\n### macOS Development Environment\n\nKey characteristics of the macOS setup:\n- Uses Homebrew for package management\n- Requires Xcode Command Line Tools for compilation\n- Build script uses Unix shell commands and tools\n- Installation directory: `/usr/local/`\n\n### Windows Development Environment  \n\nKey characteristics of the Windows setup:\n- Requires MinGW-w64 or similar Fortran toolchain\n- Uses Windows batch scripting and `cmd.exe` shell\n- Relies on Windows-specific commands (`xcopy`, `mingw32-make`)\n- Different path conventions and environment variables\n\nThe platform scripts cannot be used interchangeably - [scripts/build_dssat_macos.sh]() uses Unix tools while [scripts/build_dssat_windows.cmd]() uses Windows-specific commands.\n\nSources: [README.md:102-134]()\n\n## Environment Verification\n\n### Complete Setup Verification\n\nVerify the complete development environment with this sequence:\n\n1. **Python Model Test**:\n   ```bash\n   python cropgro-strawberry-implementation.py\n   ```\n\n2. **Unit Test Execution**:\n   ```bash\n   python cropgro-strawberry-test1.py\n   ```\n\n3. **Fortran Build Verification**:\n   ```bash\n   # macOS\n   bash scripts/build_dssat_macos.sh\n   # Windows  \n   scripts\\build_dssat_windows.cmd\n   ```\n\n4. **Validation Pipeline**:\n   ```bash\n   python scripts/run_full_comparison.py\n   ```\n\nA successful setup should complete all steps without errors and generate validation reports in the `comparison_reports/` directory.\n\nSources: [AGENTS.md:14-36](), [README.md:158-162]()"])</script><script>self.__next_f.push([1,"2f:T1d27,"])</script><script>self.__next_f.push([1,"# Reference\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [LICENSE](LICENSE)\n- [README.docx](README.docx)\n\n\u003c/details\u003e\n\n\n\nThis page provides technical reference information for the strawberryDSSAT repository, including licensing details, documentation formats, and additional reference materials. This covers the legal framework, file formats, and supplementary documentation that supports the core strawberry crop modeling system.\n\nFor information about the core Python implementation, see [Python CROPGRO Implementation](#2). For details about the validation framework, see [Validation System](#4). For broader DSSAT context, see [DSSAT Framework Context](#5).\n\n## License Information\n\nThe strawberryDSSAT repository is distributed under the BSD-3-Clause license, maintained by the DSSAT Foundation. This license provides broad permissions for use, modification, and distribution while maintaining attribution requirements.\n\n### License Structure\n\n```mermaid\ngraph TB\n    subgraph \"BSD-3-Clause License Framework\"\n        License[LICENSE file]\n        Copyright[\"Copyright (c) 2021, DSSAT Foundation\"]\n        \n        subgraph \"Permitted Actions\"\n            UseSource[\"Use in source form\"]\n            UseBinary[\"Use in binary form\"]\n            Modify[\"Modify code\"]\n            Distribute[\"Distribute copies\"]\n        end\n        \n        subgraph \"Required Conditions\"\n            RetainCopyright[\"Retain copyright notice\"]\n            RetainConditions[\"Retain license conditions\"]\n            RetainDisclaimer[\"Retain disclaimer\"]\n            NoEndorsement[\"No endorsement without permission\"]\n        end\n        \n        subgraph \"Disclaimer Protection\"\n            NoWarranty[\"No warranty provided\"]\n            NoLiability[\"No liability for damages\"]\n            AsIs[\"Software provided 'as is'\"]\n        end\n    end\n    \n    License --\u003e Copyright\n    License --\u003e UseSource\n    License --\u003e UseBinary\n    License --\u003e Modify\n    License --\u003e Distribute\n    \n    UseSource --\u003e RetainCopyright\n    UseBinary --\u003e RetainConditions\n    Modify --\u003e RetainDisclaimer\n    Distribute --\u003e NoEndorsement\n    \n    RetainCopyright --\u003e NoWarranty\n    RetainConditions --\u003e NoLiability\n    RetainDisclaimer --\u003e AsIs\n```\n\n### Key License Terms\n\n| Component | Requirement | Description |\n|-----------|-------------|-------------|\n| Copyright Notice | Must retain | \"Copyright (c) 2021, DSSAT Foundation\" |\n| License Text | Must include | Full BSD-3-Clause license text |\n| Disclaimer | Must preserve | Warranty and liability disclaimers |\n| Attribution | No endorsement | Cannot use DSSAT Foundation name for promotion |\n\n**Sources:** [LICENSE:1-29]()\n\n### License Compliance\n\nThe license permits:\n- Commercial and non-commercial use\n- Modification and derivative works\n- Distribution in source and binary forms\n- Private use and modification\n\nThe license requires:\n- Inclusion of copyright notice in redistributions\n- Inclusion of license conditions in redistributions\n- Preservation of warranty disclaimers\n- No use of contributor names for endorsement without permission\n\n**Sources:** [LICENSE:5-17]()\n\n## Documentation Formats\n\nThe repository provides documentation in multiple formats to accommodate different use cases and audiences.\n\n### Available Documentation Formats\n\n```mermaid\ngraph LR\n    subgraph \"Documentation Ecosystem\"\n        subgraph \"Primary Formats\"\n            MarkdownDocs[\"README.md files\"]\n            AgentsDocs[\"AGENTS.md\"]\n            WikiSystem[\"Wiki Documentation\"]\n        end\n        \n        subgraph \"Alternative Formats\"\n            WordDoc[\"README.docx\"]\n            BinaryFormat[\"Microsoft Word format\"]\n        end\n        \n        subgraph \"Generated Documentation\"\n            CodeDocs[\"Inline code documentation\"]\n            TestDocs[\"Test documentation\"]\n            ValidationDocs[\"Validation reports\"]\n        end\n    end\n    \n    MarkdownDocs --\u003e WikiSystem\n    AgentsDocs --\u003e WikiSystem\n    WordDoc --\u003e BinaryFormat\n    CodeDocs --\u003e WikiSystem\n    TestDocs --\u003e ValidationDocs\n```\n\n### Document Format Specifications\n\n| Format | File | Purpose | Audience |\n|--------|------|---------|----------|\n| Markdown | `README.md` | Primary documentation | Developers, researchers |\n| Markdown | `AGENTS.md` | Contributor guidelines | Contributors |\n| Word | `README.docx` | Alternative format | General users |\n| Wiki | Multiple pages | Comprehensive system docs | All users |\n\n**Sources:** [README.docx:1-130]()\n\n### Format Compatibility\n\nThe `README.docx` file provides the same core information as the Markdown documentation but in Microsoft Word format. This binary format supports:\n\n- Rich text formatting\n- Embedded images and diagrams\n- Cross-references and hyperlinks\n- Document metadata and properties\n\nThe Word document structure includes:\n- Document properties and metadata\n- Formatted content with styles\n- Font definitions and theme information\n- Relationship definitions for linked content\n\n**Sources:** [README.docx:1-130]()\n\n## Additional Reference Materials\n\n### File Format Mapping\n\n```mermaid\ngraph TB\n    subgraph \"Repository Reference Files\"\n        subgraph \"License Documentation\"\n            LicenseFile[LICENSE]\n            LicenseURL[\"https://opensource.org/licenses/BSD-3-Clause\"]\n        end\n        \n        subgraph \"README Documentation\"\n            ReadmeMd[\"README.md (primary)\"]\n            ReadmeDocx[\"README.docx (alternative)\"]\n        end\n        \n        subgraph \"Contributor Documentation\"\n            AgentsFile[\"AGENTS.md\"]\n            ContribGuide[\"Contributing guidelines\"]\n        end\n        \n        subgraph \"Generated References\"\n            ComparisonReports[\"Validation reports\"]\n            TestOutputs[\"Test results\"]\n            PlotOutputs[\"Visualization outputs\"]\n        end\n    end\n    \n    LicenseFile --\u003e LicenseURL\n    ReadmeMd --\u003e ReadmeDocx\n    AgentsFile --\u003e ContribGuide\n    ComparisonReports --\u003e TestOutputs\n    TestOutputs --\u003e PlotOutputs\n```\n\n### Reference Standards\n\nThe repository follows established documentation standards:\n\n- **License Format**: Standard BSD-3-Clause text with DSSAT Foundation copyright\n- **Documentation Style**: Markdown for primary docs, Word for accessibility\n- **Version Control**: All reference materials tracked in Git\n- **Update Process**: Reference materials updated with major releases\n\n### External References\n\nThe repository references external standards and frameworks:\n\n| Reference | Type | URL | Purpose |\n|-----------|------|-----|---------|\n| BSD-3-Clause | License | `https://opensource.org/licenses/BSD-3-Clause` | Legal framework |\n| DSSAT Foundation | Organization | Copyright holder | Attribution |\n| Python Standards | Documentation | PEP standards | Code documentation |\n| Markdown Spec | Format | CommonMark | Documentation format |\n\n**Sources:** [LICENSE:1]()\n\n### Maintenance and Updates\n\nReference materials are maintained according to:\n\n- **License**: Remains stable unless legal requirements change\n- **Documentation**: Updated with significant feature additions\n- **Format Compatibility**: Multiple formats maintained for accessibility\n- **Version Synchronization**: All formats updated together for consistency\n\nThe reference documentation serves as the authoritative source for legal, technical, and procedural information supporting the strawberryDSSAT crop modeling system.\n\n**Sources:** [LICENSE:1-29](), [README.docx:1-130]()"])</script><script>self.__next_f.push([1,"16:[\"$\",\"$L17\",null,{\"repoName\":\"itsjameshan/strawberryDSSAT\",\"wiki\":{\"metadata\":{\"repo_name\":\"itsjameshan/strawberryDSSAT\",\"commit_hash\":\"8d2b5fce\",\"generated_at\":\"2025-06-06T11:35:55.858165\"},\"pages\":[{\"page_plan\":{\"id\":\"1\",\"title\":\"Overview\"},\"content\":\"$18\"},{\"page_plan\":{\"id\":\"1.1\",\"title\":\"Getting Started\"},\"content\":\"$19\"},{\"page_plan\":{\"id\":\"1.2\",\"title\":\"Repository Structure\"},\"content\":\"$1a\"},{\"page_plan\":{\"id\":\"2\",\"title\":\"Python CROPGRO Implementation\"},\"content\":\"$1b\"},{\"page_plan\":{\"id\":\"2.1\",\"title\":\"Model Architecture\"},\"content\":\"$1c\"},{\"page_plan\":{\"id\":\"2.2\",\"title\":\"Plant Processes\"},\"content\":\"$1d\"},{\"page_plan\":{\"id\":\"2.3\",\"title\":\"Input Parameters and Configuration\"},\"content\":\"$1e\"},{\"page_plan\":{\"id\":\"3\",\"title\":\"Testing Framework\"},\"content\":\"$1f\"},{\"page_plan\":{\"id\":\"3.1\",\"title\":\"Unit Tests\"},\"content\":\"$20\"},{\"page_plan\":{\"id\":\"3.2\",\"title\":\"Test Data and Fixtures\"},\"content\":\"$21\"},{\"page_plan\":{\"id\":\"4\",\"title\":\"Validation System\"},\"content\":\"$22\"},{\"page_plan\":{\"id\":\"4.1\",\"title\":\"Model Comparison Tools\"},\"content\":\"$23\"},{\"page_plan\":{\"id\":\"4.2\",\"title\":\"Fortran DSSAT Build System\"},\"content\":\"$24\"},{\"page_plan\":{\"id\":\"4.3\",\"title\":\"Validation Pipeline\"},\"content\":\"$25\"},{\"page_plan\":{\"id\":\"5\",\"title\":\"DSSAT Framework Context\"},\"content\":\"$26\"},{\"page_plan\":{\"id\":\"5.1\",\"title\":\"DSSAT System Architecture\"},\"content\":\"$27\"},{\"page_plan\":{\"id\":\"5.2\",\"title\":\"Core DSSAT Modules\"},\"content\":\"$28\"},{\"page_plan\":{\"id\":\"5.3\",\"title\":\"Plant Models in DSSAT\"},\"content\":\"$29\"},{\"page_plan\":{\"id\":\"5.4\",\"title\":\"Soil Process Modeling\"},\"content\":\"$2a\"},{\"page_plan\":{\"id\":\"5.5\",\"title\":\"Input/Output System\"},\"content\":\"$2b\"},{\"page_plan\":{\"id\":\"6\",\"title\":\"Development Guide\"},\"content\":\"$2c\"},{\"page_plan\":{\"id\":\"6.1\",\"title\":\"Contributing Guidelines\"},\"content\":\"$2d\"},{\"page_plan\":{\"id\":\"6.2\",\"title\":\"Development Environment Setup\"},\"content\":\"$2e\"},{\"page_plan\":{\"id\":\"7\",\"title\":\"Reference\"},\"content\":\"$2f\"}]},\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]\n"])</script><script>self.__next_f.push([1,"c:null\n10:[[\"$\",\"title\",\"0\",{\"children\":\"Model Architecture | itsjameshan/strawberryDSSAT | DeepWiki\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"This document explains the internal structure and architecture of the Python CROPGRO-Strawberry crop model implementation. It covers the core classes, state management system, calculation engine, and \"}],[\"$\",\"meta\",\"2\",{\"property\":\"og:title\",\"content\":\"Model Architecture | itsjameshan/strawberryDSSAT | DeepWiki\"}],[\"$\",\"meta\",\"3\",{\"property\":\"og:description\",\"content\":\"This document explains the internal structure and architecture of the Python CROPGRO-Strawberry crop model implementation. It covers the core classes, state management system, calculation engine, and \"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:url\",\"content\":\"https://deepwiki.com/itsjameshan/strawberryDSSAT/2.1-model-architecture\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:site_name\",\"content\":\"DeepWiki\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"7\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"8\",{\"name\":\"twitter:title\",\"content\":\"Model Architecture | itsjameshan/strawberryDSSAT | DeepWiki\"}],[\"$\",\"meta\",\"9\",{\"name\":\"twitter:description\",\"content\":\"This document explains the internal structure and architecture of the Python CROPGRO-Strawberry crop model implementation. It covers the core classes, state management system, calculation engine, and \"}],[\"$\",\"link\",\"10\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"48x48\"}],[\"$\",\"link\",\"11\",{\"rel\":\"icon\",\"href\":\"/icon.png?66aaf51e0e68c818\",\"type\":\"image/png\",\"sizes\":\"16x16\"}],[\"$\",\"link\",\"12\",{\"rel\":\"apple-touch-icon\",\"href\":\"/apple-icon.png?a4f658907db0ab87\",\"type\":\"image/png\",\"sizes\":\"180x180\"}]]\n"])</script></body></html>