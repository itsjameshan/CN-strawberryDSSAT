农业模型学日志

地点：博雅楼1709

时间：6月23-6月26

6月23日

主要任务：下载并安装好wsl，cursor,登录github网站，能够运行setup_windows4.sh并且解决报错，得出结果

借助工具：电脑，Watt toolkit加速器，bibi视频软件

1、软件商店搜索wsl并且下载，下载成功后打开，按照wsl –install  web-download→输入账户名→输入密码→再次输入密码→y，下载Utuntu

2、软件商店搜索Watt，下载Watt toolkit加速器，下载安装成功后，勾选github并且点击一键加速，网页搜索github打开，按照老师给的链接打开github界面

3、官网搜索cursor，点击download下载安装包，并且网页注册账号，安装成功打开cursor，在cursor内打开setup_windows4并且在wsl终端环境下运行，解决了报错后得到了以下结果

![img](file:///C:\Users\袁盛芳\AppData\Local\Temp\ksohtml18528\wps10.jpg) 

总结与反思

一、任务执行流程及成果

WSL 安装与配置、GitHub 访问准备、Cursor 安装与脚本运行

三、关键操作要点与问题解决

WSL 安装注意事项

需通过命令行完成系统下载与初始化，密码输入时界面无显示，需确保输入正确性。

GitHub 加速方案

Watt Toolkit 加速器需保持运行状态，以解决网络连接问题，确保 GitHub 页面正常访问。

脚本运行报错处理

报错可能涉及依赖缺失或权限问题，需根据具体提示安装依赖包（如apt-get install）或使用sudo提升权限，最终成功获取系统信息。

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

6月24日

主要任务：运行老师发布的python 文件，解决报错，得出结果

主要运行的文件cropgro-strawberry-implementation.py、cropgro-strawberry-test1.py![img](file:///C:\Users\袁盛芳\AppData\Local\Temp\ksohtml18528\wps11.jpg)![img](file:///C:\Users\袁盛芳\AppData\Local\Temp\ksohtml18528\wps12.jpg)![img](file:///C:\Users\袁盛芳\AppData\Local\Temp\ksohtml18528\wps13.jpg)

第一二图是cropgro-strawberry-test1.py模型，输出结果主要呈现草莓植株在特定环境下的生长状态数据，可从以下几个角度理解：

一、核心模拟信息

生长阶段

起始阶段（First day）：GERMINATION（发芽期），对应日期2023-05-01。

结束阶段（Last day）：JUVENILE（幼苗期）对应日期2023-05-10，模拟时长10天。

植株关键指标

生物量分配：总生物量 0.64 g/plant，细分为叶（0.26 g）、茎（0.13 g）、根（0.26 g），果实生物量 0.00 g（幼苗期未结果 ）。

形态结构：叶面积指数 0.01 m²/m²、根深度 7.00 cm、冠数 1.00， runner（匍匐茎）数量 0.00（幼苗期匍匐茎少 ）。

二、环境与模型关联

气象输入：前3天气象数据固定（如 tmax 25.0℃、solar_radiation 20.0等 ），作为模型驱动条件。

生理过程：记录了发芽期（首日）和幼苗期（末 日）的热时间（thermal_time）、光合作用（photosynthesis）、蒸腾（transpiration）等生理参数，反映环境对生长的影响。

第三份图片是通过cropgro-strawberry-implementation.py模型模拟草莓生长 175 天（种植后天数，dap），得到以下关键结论：

生物量分配：总生物量随生育期推进逐步积累，叶、茎、根生物量前期稳定增长，果实生物量在种植约75天后快速形成并趋于稳定。

叶面积动态：叶面积指数（LAI）在种植 75 天左右出现波动，后回升并维持稳定，反映草莓冠层光合能力的阶段性变化。

生殖生长：种植75天后果实数量快速增加并达稳定，说明此阶段是草莓坐果关键期；冠数（Crowns）、匍匐茎（Runners）数量在生育期内有阶段性增长，体现草莓营养繁殖特性。

环境响应：水分胁迫因子（Water Stress Factor）波动明显，反映生长周期内水分条件对草莓的动态影响；生育阶段（Phenological Development）按 “发芽→幼苗→营养生长”等顺序推进，符合草莓生长发育规律 。

 

总结与反思

在解决报错过程中，因对虚拟环境依赖管理不熟悉，出现依赖安装不彻底问题，后续需强化虚拟环境操作知识。模型运行需精准配置环境与依赖，要提前梳理依赖关系。同时，对模型输出结果的深度分析不足，如未结合实际草莓种植数据验证模拟规律，后续应加强结果与实际场景的关联分析，提升对模型的理解与应用能力

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

6月25日

主要任务

继续上一天的任务，运行explain_row_differences.py、run_all_comparisons.py、run_original_dssat.py、show_dataframe_details.py这几个脚本，解决报错并且生成csv文件

Csv结果如图所示

![img](file:///C:\Users\袁盛芳\AppData\Local\Temp\ksohtml18528\wps14.jpg)![img](file:///C:\Users\袁盛芳\AppData\Local\Temp\ksohtml18528\wps15.jpg)![img](file:///C:\Users\袁盛芳\AppData\Local\Temp\ksohtml18528\wps16.jpg)![img](file:///C:\Users\袁盛芳\AppData\Local\Temp\ksohtml18528\wps17.jpg) 

二、成果与问题

（一）成果

成功运行脚本，生成了多组 CSV 数据文件，涵盖草莓等作物生长周期数据（如日期、物候期、生物量、叶面积等指标 ），为后续数据分析提供了基础素材。

（二）问题

前期报错：运行脚本时遇到网络、依赖库（如numpy警告 ）等问题，虽通过检查网络、调整配置（如 HTTP/2 相关设置 ）、验证依赖解决，但耗费一定时间。

数据一致性：不同脚本生成的 CSV 数据，需进一步核对指标逻辑（如物候期判定、生物量计算 ），确保数据精准关联实验场景。

三、反思与改进

脚本管理：后续需梳理脚本依赖与运行顺序，编写 README 记录环境配置、参数说明，降低复现与维护成本。

数据校验：建立数据校验流程，利用 Python（如pandas）对比不同脚本输出的关键指标（如生物量、物候期对应关系 ），及时发现逻辑偏差。

报错预案：整理常见报错及解决方案，形成速查手册，提升问题响应效率。

6月26日

主要任务

将4天的作业内容整理成日志md文件，生成的CSV文件，更改后的模型文件整理上传到github

![img](file:///C:\Users\袁盛芳\AppData\Local\Temp\ksohtml18528\wps18.jpg) 

![img](file:///C:\Users\袁盛芳\AppData\Local\Temp\ksohtml18528\wps19.jpg) 

一、主要工作内容

第 1 天：环境搭建与数据准备

搭建开发环境，安装必要依赖（如 Python 3.12、numpy、pandas）。

配置网络环境，解决 Cursor 连接问题导入 SSAT 和 DSSAT 模型相关数据文件。

第 2 天：脚本调试与 CSV 生成

运行run_original_dssat.py模拟作物生长，生成初始数据。

开发ssat_results_to_csv.py脚本，将模型输出转换为结构化 CSV（包含生物量、叶面积指数等指标）。

修复numpy数据类型警告（通过更新依赖版本解决）。

第 3 天：数据分析与对比

执行run_all_comparisons.py对比不同模型版本的模拟结果。

使用show_dataframe_details.py分析数据特征，发现物候期与生物量计算的潜在偏差。

通过explain_row_differences.py定位不同模型输出的具体差异点。

第 4 天：文档整理与代码托管

将 4 天产出的 CSV 文件（如ssat_results.csv、对比分析表）整理归档。

修改模型配置文件（如参数调整、算法优化）并版本控制。

创建 GitHub 仓库，上传所有代码、数据及日志文件，编写 README 说明项目结构。

二、关键成果

可复现的工作流：建立了从模型运行到数据导出的完整流程，生成包含作物生长指标的标准化 CSV 文件。

问题解决方案：总结网络连接、依赖冲突、数据格式转换等问题的解决路径。

版本化管理：GitHub 仓库实现代码与数据的透明化管理，便于团队协作。

三、反思与改进方向

（一）问题与挑战

环境配置耗时：不同脚本依赖的 Python 版本、库版本存在冲突，需提前规划虚拟环境与依赖清单。

数据校验缺失：前期未建立自动化校验机制，导致后期发现部分 CSV 字段逻辑不一致。

文档滞后：未及时记录每日问题解决过程，增加后续复盘难度。